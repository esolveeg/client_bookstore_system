{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/ahmed/vueJs/systemfinal/src/views/orders/Edit-add2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/views/orders/Edit-add2.vue","mtime":1591372109172},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGb3JtIGZyb20gIkAvY2xhc3Nlcy9Gb3JtIjsKaW1wb3J0IFNlbGVjdEJveCBmcm9tICJAL2NvbXBvbmVudHMvaW5wdXRzL1NlbGVjdEJveC52dWUiCmltcG9ydCBUZXh0RmllbGQgZnJvbSAiQC9jb21wb25lbnRzL2lucHV0cy9UZXh0RmllbGQudnVlIgppbXBvcnQgQXV0b0NvbXBsZXRlIGZyb20gIkAvY29tcG9uZW50cy9pbnB1dHMvQXV0b0NvbXBsZXRlLnZ1ZSIKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUvaW5kZXgiOwppbXBvcnQgU3VibWl0QnRuIGZyb20gIkAvY29tcG9uZW50cy9pbnB1dHMvU3VibWl0QnRuLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImVkaXQtYWRkLW9yZGVycyIsCiAgIGRhdGEoKSB7CiAgICBsZXQgcHJvZHVjdCA9ICcnOwogICAgbGV0IGZvcm0gPSAgbmV3IEZvcm0oewogICAgICAgIG5vdGUgOiAiIiwKICAgICAgICBwYXltZW50IDoiIiwKICAgICAgICBwcm9kdWN0czogW10sCiAgICAgICAgZGlzY291bnQgOjAsCiAgICAgICAgYnJhbmNoOicnLAogICAgICAgIHRvdGFsIDowCiAgICAgIH0pCiAgICByZXR1cm4gewogICAgICB0aXRsZTogImNyZWF0ZV9vcmRlciIsCiAgICAgIHByaW50aW5nOmZhbHNlLAogICAgICBwZXJjZW50OjAsCiAgICAgIG9yZGVyOiB7fSwKICAgICAgZGlzY291bnREYXRhIDogW3tpZDoicGVyY2VudCIgLCBuYW1lOiAncGVyY2VudCcgfSAsIHtpZDoidmFsdWUiICwgbmFtZTogJ3ZhbHVlJyB9XSwKICAgICAgcGF5bWVudERhdGEgOiBbe2lkOiJjYXNoIiAsIG5hbWU6ICdjYXNoJyB9ICwge2lkOiJ2aXNhIiAsIG5hbWU6ICd2aXNhJyB9XSwKICAgICAgcHJvZHVjdCwKICAgICAgcGF0aDogW3sgdGl0bGU6ICJvcmRlcnMiLCByb3V0ZTogIm9yZGVycy5pbmRleCIgfV0sCiAgICAgIGZyZWdtZW50OiAiIiwKICAgICAgYXV0b0NvbXBsZXRlUGFyYW1zIDogewogICAgICAgIG9mZnNldDogMCwKICAgICAgICBubzogMTAsCiAgICAgICAgc29ydF9ieTogIiIsCiAgICAgICAgc29ydF9mdW5jOiAiIiwKICAgICAgIAogICAgICAgIGJyYW5jaDogZm9ybS5icmFuY2gKICAgICAgfSwKICAgICAgZGlzY291bnRUeXBlOicnLAogICAgICBmb3JtLAogICAgICBkaXNjb3VudFBlcmNlbnRWYWxpZGF0aW9uOiBbCiAgICAgICAgIHsgbWVzc2FnZTogInBlcmNlbnQiLCByZWdleDogLyheMTAwKFwuMHsxLDJ9KT8kKXwoXihbMS05XShbMC05XSk/fDApKFwuWzAtOV17MSwyfSk/JCkvIH0KICAgICAgXSwKICAgICAgZGlzY291bnRWYWx1ZVZhbGlkYXRpb246IFsKICAgICAgICAgeyBtZXNzYWdlOiAibnVtYmVyIiwgcmVnZXg6IC9eKFxkKihbLixdKD89XGR7M30pKT9cZCspKygoPyFcMilbLixdXGRcZCk/JC8gfQogICAgICBdLAoKICAgICAgbm90ZVZhbGlkYXRpb246IFsKICAgICAgICAgeyBtZXNzYWdlOiAibWF4XzI1MCIsIHJlZ2V4OiAvXi57MCwyNTB9JC8gfQoKICAgICAgICAKICAgICAgXSwKCiAgICAgIGJ0bnM6IFtdCiAgICB9OwogIH0sCiAgd2F0Y2g6ewogICAgcGVyY2VudCgpewogICAgICB0aGlzLmZvcm0uZGlzY291bnQgPSB0aGlzLnRvdGFsICogdGhpcy5wZXJjZW50IC8gMTAwCiAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICBpZih0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpewogICAgICB0aGlzLmdldE9yZGVyKCkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBwcm9kdWN0cygpIHsKICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnNbIm9yZGVyL3Byb2R1Y3RzIl07CiAgICB9LAogICAgZGlzYWJsQnRuKCkgewogICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1sib3JkZXIvZGlzYWJsQnRuIl07CiAgICB9LAogICAgYWxsQnJhbmNoZXMoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWyJvcmRlci9hbGxCcmFuY2hlcyJdOwogICAgfSwKCiAgICBicmFuY2goKXsKICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdicmFuY2gnKSA/ICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYnJhbmNoJykgOiAnJzsKICAgIH0sCiAgICAKICAgIHRvdGFsKCkgewogICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1sib3JkZXIvdG90YWwiXTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6ewogICAgInNlbGVjdC1ib3giIDogU2VsZWN0Qm94LAogICAgInRleHQtZmllbGQiIDogVGV4dEZpZWxkLAogICAgInN1Ym1pdC1idG4iOiBTdWJtaXRCdG4sCiAgICAiYXV0by1jb21wbGV0ZSIgOiBBdXRvQ29tcGxldGUKICB9LAogIG1ldGhvZHM6ewogICAgIHByaW50RGF0YSgpIHsKICAgICAgdGhpcy5wcmludGluZyA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNvbnN0IHBydEh0bWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW52b2ljZS1QT1MiKS5pbm5lckhUTUw7CgogICAgICAgIC8vIEdldCBhbGwgc3R5bGVzaGVldHMgSFRNTAogICAgICAgIGxldCBzdHlsZXNIdG1sID0gIiI7CiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIFsKICAgICAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbcmVsPSJzdHlsZXNoZWV0Il0sIHN0eWxlJykKICAgICAgICBdKSB7CiAgICAgICAgICBzdHlsZXNIdG1sICs9IG5vZGUub3V0ZXJIVE1MOwogICAgICAgIH0KCiAgICAgICAgLy8gT3BlbiB0aGUgcHJpbnQgd2luZG93CiAgICAgICAgY29uc3QgV2luUHJpbnQgPSB3aW5kb3cub3BlbigKICAgICAgICAgICIiLAogICAgICAgICAgIiIsCiAgICAgICAgICAibGVmdD0wLHRvcD0wLHdpZHRoPTgwMCxoZWlnaHQ9OTAwLHRvb2xiYXI9MCxzY3JvbGxiYXJzPTAsc3RhdHVzPTAiCiAgICAgICAgKTsKCiAgICAgICAgV2luUHJpbnQuZG9jdW1lbnQud3JpdGUoYDwhRE9DVFlQRSBodG1sPgogICAgICAgICAgICAgIDxodG1sPgogICAgICAgICAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgICAgICAgICR7c3R5bGVzSHRtbH0KICAgICAgICAgICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICAgICAgICAgICNpbnZvaWNlLVBPU3sKICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6YmxvY2sgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgICAgICAgICA8L2hlYWQ+CiAgICAgICAgICAgICAgICA8Ym9keT4KICAgICAgICAgICAgICAgICAgJHtwcnRIdG1sfQogICAgICAgICAgICAgICAgPC9ib2R5PgogICAgICAgICAgICAgIDwvaHRtbD5gKTsKCiAgICAgICAgV2luUHJpbnQuZG9jdW1lbnQuY2xvc2UoKTsKICAgICAgICBXaW5QcmludC5mb2N1cygpOwogICAgICAgIFdpblByaW50LnByaW50KCk7CiAgICAgICAgV2luUHJpbnQuY2xvc2UoKTsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgc2VsZWN0QnJhbmNoKHZhbCl7CiAgICAgIHRoaXMuZm9ybS5icmFuY2ggPSB2YWwKICAgIH0sCiAgICBwZXJjZW50VXBkYXRlZCh2YWwpewogICAgICB0aGlzLnBlcmNlbnQgPSB2YWw7CiAgICAgIHRoaXMuZm9ybS5kaXNjb3VudCA9IHZhbCAqIHRoaXMuZm9ybS50b3RhbDsKICAgIH0sCiAgICBzZWxlY3REaXNjb3VudFR5cGUodmFsKXsKICAgICAgdGhpcy5kaXNjb3VudFR5cGUgPSB2YWwKICAgIH0sCiAgICBzZWxlY3RQYXltZW50RGF0YSh2YWwpewogICAgICB0aGlzLmZvcm0ucGF5bWVudCA9IHZhbAogICAgfSwKICAgICBkaXNjb3VudFZhbGlkYXRpb24odHlwZSl7CiAgICAgcmV0dXJuIHR5cGUgPT0gJ3BlcmNlbnQnID8gdGhpcy5kaXNjb3VudFBlcmNlbnRWYWxpZGF0aW9uIDogdGhpcy5kaXNjb3VudFZhbHVlVmFsaWRhdGlvbgogICAgfSwKICAgIHNldFByb2R1Y3QoKXsKICAgICAgLy8gY29uc29sZS5sb2codmFsKQogICAgfSwKICAgIGRlbGV0ZVByb2R1Y3QoaW5kZXgpewogICAgICBzdG9yZS5jb21taXQoJ29yZGVyL2RlbGV0ZVByb2R1Y3QnICwgaW5kZXgpCiAgICB9LAogICAgYXN5bmMgb25TdWJtaXQoKSB7CiAgICAgIHRoaXMuZm9ybS50b3RhbCA9IHRoaXMudG90YWwKICAgICAgdGhpcy5mb3JtLnByb2R1Y3RzID0gYXdhaXQgdGhpcy5wcm9kdWN0cwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm0pOwogICAgICB0aGlzLmZvcm0KICAgICAgICAucG9zdCgiY2hlY2tvdXQiKQogICAgICAgIC50aGVuKCAoKSA9PiAgewogICAgICAgICAgdGhpcy5wcmludERhdGEoKQogICAgICAgICAgCiAgICAgICAgfSkKICAgICAgIAogICAgfSwKICAgICAgZ2V0T3JkZXIoKSB7CiAgICAgICB0aGlzLiRodHRwLmdldChgb3JkZXIvJHt0aGlzLiRyb3V0ZS5wYXJhbXMuaWR9YCkKICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmZvcm0ubm90ZSA9IHJlc3BvbnNlLmRhdGEub3JkZXIubm90ZQogICAgICAgIHRoaXMuZm9ybS5wYXltZW50ID0gcmVzcG9uc2UuZGF0YS5vcmRlci5wYXltZW50CiAgICAgICAgdGhpcy5mb3JtLnBheW1lbnQgPSByZXNwb25zZS5kYXRhLm9yZGVyLnBheW1lbnQKICAgICAgICB0aGlzLmZvcm0uZGlzY291bnQgPSByZXNwb25zZS5kYXRhLm9yZGVyLmRpc2NvdW50CiAgICAgICAgdGhpcy5mb3JtLmJyYW5jaF9pZCA9IHJlc3BvbnNlLmRhdGEub3JkZXIuYnJhbmNoX2lkCiAgICAgICAgdGhpcy5mb3JtLnRvdGFsID0gcmVzcG9uc2UuZGF0YS5vcmRlci50b3RhbAogICAgICAgICB0aGlzLm9yZGVyID0gcmVzcG9uc2UuZGF0YS5vcmRlcjsKICAgICAgIH0pCiAgICB9CiAgICAKICB9Cn07Cg=="},{"version":3,"sources":["Edit-add2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqQA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Edit-add2.vue","sourceRoot":"src/views/orders","sourcesContent":["<template>\n  <div class=\"row\">\n    <div>\n      <div id=\"invoice-POS\">\n        <center id=\"top\">\n          <div class=\"info\">\n            <h2 class=\"hresete\">Readerscorner</h2>\n            <img\n              src=\"http://readerscorner.co/storage/settings/May2019/S3fivD7C4Y2oXfnGaEsa.png\"\n              style=\"width:120px;height:auto;\"\n            />\n          </div>\n         \n        </center>\n        \n\n        <div id=\"mid\">\n          <div class=\"info\">\n            <h2 class=\"hresete\">Info</h2>\n            <p>Email : info@readerscorner.co<br /></p>\n\n            \n            <p v-if=\"id\">Invoice no : #{{ id }}<br /></p>\n            <p>Invoice Date : #{{ now }}<br /></p>\n          </div>\n        </div>\n\n\n        <div id=\"bot\">\n          <div id=\"table\">\n            <table>\n              <tr class=\"tabletitle\">\n                <td class=\"item\"><h2 class=\"hresete\">Item</h2></td>\n                <td class=\"Hours\"><h2 class=\"hresete\">Price</h2></td>\n                <td class=\"Hours\"><h2 class=\"hresete\">Qty</h2></td>\n                <td class=\"Rate\"><h2 class=\"hresete\">Sub Total</h2></td>\n              </tr>\n              <tr\n                class=\"service\"\n                v-for=\"(product, index) in products\"\n                :key=\"index\"\n              >\n                <td class=\"tableitem\">\n                  <p class=\"itemtext\">{{ product.name }}</p>\n                </td>\n                <td class=\"tableitem\">\n                  <p class=\"itemtext\">EGP{{ product.price }}</p>\n                </td>\n                <td class=\"tableitem\">\n                  <p class=\"itemtext\">{{ product.qty }}</p>\n                </td>\n                <td class=\"tableitem\">\n                  <p class=\"itemtext\">EGP{{ product.price * product.qty }}</p>\n                </td>\n              </tr>\n              <tr class=\"tabletitle\">\n                <td></td>\n                <td></td>\n                <td class=\"Rate\"><h2 class=\"hresete\">subtotal</h2></td>\n                <td class=\"payment\">\n                  <h2 class=\"hresete\">EGP{{ total }}</h2>\n                </td>\n              </tr>\n              <tr class=\"tabletitle\" v-if=\"discount\">\n                <td></td>\n                <td></td>\n                <td class=\"Rate\"><h2 class=\"hresete\">discount</h2></td>\n                <td class=\"payment\" v-if=\"this.discountType == 'percent'\">\n                  <h2 class=\"hresete\">%{{ discount }}</h2>\n                </td>\n                <td class=\"payment\" v-else>\n                  <h2 class=\"hresete\">{{ parseInt(discountValue) }}</h2>\n                </td>\n              </tr>\n\n              <tr class=\"tabletitle\">\n                <td></td>\n                <td></td>\n                <td class=\"Rate\"><h2 class=\"hresete\">Total</h2></td>\n                <td class=\"payment\">\n                  <h2 class=\"hresete\">\n                    EGP{{ parseInt(total - form.discount) }}\n                  </h2>\n                </td>\n              </tr>\n            </table>\n          </div>\n         \n        </div>\n      \n      </div>\n    </div>\n\n    <!-- <Breadcrumbs :title=\"title\" :path=\"path\" :fregment=\"fregment\" /> -->\n    <div class=\"col s12 mt-65\">\n      <div class=\"container\">\n        <!-- Current balance & total transactions cards-->\n        <div class=\"row mt-4\">\n          <div class=\"col s12 m12 l12\">\n            <!-- Current Balance -->\n            <h5 class=\"form-title\">\n              <i class=\"material-icons app-header-icon text-top\"\n                >perm_identity</i\n              >\n              {{ $t(title, { fregment }) }}\n            </h5>\n\n            <div class=\"card animated  fadeInLeft \">\n              <div class=\"card-content\">\n                <form @keydown=\"form.errors.clear($event.target.id)\" autocomplete=\"off\" @submit.prevent=\"onSubmit()\">\n                  <div class=\"row\">\n                    <div class=\"col s12 l6\">\n                       <auto-complete\n                          class=\"font-sans\"\n                          :field=\"product\"\n                          url=\"products\"\n                          :params='autoCompleteParams'\n                          v-model=\"product\"\n                          fieldName=\"product\"\n                          type=\"text\"\n                          :hasErr=\"form.errors.has('product')\"\n                          :errMsg=\"form.errors.get('product')\"\n                      />\n                      <select-box :options='paymentData' v-model=\"form.payment\" @input='selectPaymentData' field=\"payment\"  fieldName=\"payment\" :hasErr=\"form.errors.has('payment')\" :errMsg=\"form.errors.get('payment')\"/>\n                      <select-box :options='discountData' v-model=\"discountType\" @input='selectDiscountType' field=\"discount\"  fieldName=\"discount_type\" :hasErr=\"form.errors.has('discount')\" :errMsg=\"form.errors.get('discount')\"/>\n                      <text-field\n                      v-if=\"discountType && discountType == 'value'\"\n                        class=\"font-sans\"\n                        :field=\"form.discount\"\n                        :validation=\"discountValidation(discountType)\"\n                        v-model=\"form.discount\"\n                        fieldName=\"discount\"\n                        type=\"text\"\n                        :hasErr=\"form.errors.has('discount')\"\n                        :errMsg=\"form.errors.get('discount')\"\n                      />\n                      <text-field\n                      v-if=\"discountType && discountType == 'percent'\"\n                        class=\"font-sans\"\n                        :field=\"percent\"\n                        :validation=\"discountValidation(discountType)\"\n                       v-model=\"percent\"\n                        fieldName=\"discount\"\n                        type=\"text\"\n                        :hasErr=\"form.errors.has('discount')\"\n                        :errMsg=\"form.errors.get('discount')\"\n                      />\n                          <!-- <select-box :validation=\"''\" :options='discountData' field=\"discount\"  fieldName=\"discount_value\" :hasErr=\"form.errors.has('discount')\" :errMsg=\"form.errors.get('discount')\"/> -->\n                      <select-box v-if='branch == \"\"' :options=\"allBranches\" field=\"branch\" @input='selectBranch'  fieldName=\"branch\" :hasErr=\"form.errors.has('branch')\" :errMsg=\"form.errors.get('branch')\"/>\n                      <text-field\n                        class=\"font-sans\"\n                        :field=\"form.note\"\n                        :validation=\"noteValidation\"\n                        v-model=\"form.note\"\n                        fieldName=\"note\"\n                        type=\"text\"\n                        :hasErr=\"form.errors.has('note')\"\n                        :errMsg=\"form.errors.get('note')\"\n                      />\n                     \n                    </div>\n                    <div class=\"col s12 l6\">\n                      <div class=\"row\">\n                        <div class=\"input-field col s12\">\n                          <div class=\"products\">\n                            {{ $t(\"products\") }}\n                          </div>\n\n                          <div class=\"invoice__table\">\n                            <table class=\"highlight responsive-table\">\n                              <thead>\n                                <tr>\n                                  <th data-field=\"no\">{{ $t(\"no\") }}</th>\n                                  <th data-field=\"item\">{{ $t(\"item\") }}</th>\n                                  <th data-field=\"uprice\">\n                                    {{ $t(\"unit_price\") }}\n                                  </th>\n                                  <th data-field=\"price\">{{ $t(\"qty\") }}</th>\n                                  <th data-field=\"price\">{{ $t(\"total\") }}</th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                <tr\n                                  v-for=\"(product, index) in products\"\n                                  :key=\"index\"\n                                >\n                                  <td>{{ index + 1 }}.</td>\n                                  <td>{{ product.name }}</td>\n                                  <td>EGP{{ product.price }}</td>\n                                  <td>\n                                    <div class=\"counter\">\n                                      <!-- <i class=\"material-icons\" @click=\"increaseQty(index)\">add</i>   -->\n                                      <input\n                                        class=\"border-none w2\"\n                                        v-model=\"product.qty\"\n                                      />\n                                      <!-- <i class=\"material-icons\" @click=\"decreaseQty(index)\">delete</i> -->\n                                    </div>\n                                  </td>\n                                  <td>EGP{{ product.price * product.qty }}</td>\n                                  <td>\n                                    <i\n                                      class=\"material-icons\"\n                                      @click=\"deleteProduct(index)\"\n                                      style=\"cursor:pointer\"\n                                      >delete</i\n                                    >\n                                  </td>\n                                </tr>\n                                <tr class=\"border-none\">\n                                  <td colspan=\"3\"></td>\n                                  <td>{{ $t(\"subtotal\") }}:</td>\n                                  <td>EGP{{total}}</td>\n                                </tr>\n                                <tr class=\"border-none\" v-if=\"discountType\">\n                                  <td colspan=\"3\"></td>\n                                  <td v-if=\"discountType == 'percent' \">\n                                    {{\n                                      $t(\"discountPercent\", {\n                                        percent: percent\n                                      })\n                                    }}\n                                  </td>\n                                  <td v-else>{{ $t(\"discount\") }}</td>\n                                  <td>{{ form.discount }}</td>\n                                </tr>\n                                \n                                <tr class=\"border-none\">\n                                  <td colspan=\"3\"></td>\n                                  <td class=\"cyan white-text pl-1\">\n                                    {{ $t(\"total\") }}\n                                  </td>\n                                  <td class=\"cyan strong white-text\">\n                                    EGP{{ parseInt(total - form.discount) }}\n                                  </td>\n                                </tr>\n                              </tbody>\n                            </table>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    \n                  </div>\n                  <submit-btn\n                    :isDisabled=\"form.errors.any() || disablBtn\"\n                    :isLoading=\"form.isLoading\"\n                    title=\"save\"\n                  />\n                  \n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Form from \"@/classes/Form\";\nimport SelectBox from \"@/components/inputs/SelectBox.vue\"\nimport TextField from \"@/components/inputs/TextField.vue\"\nimport AutoComplete from \"@/components/inputs/AutoComplete.vue\"\nimport store from \"@/store/index\";\nimport SubmitBtn from \"@/components/inputs/SubmitBtn.vue\";\n\nexport default {\n  name: \"edit-add-orders\",\n   data() {\n    let product = '';\n    let form =  new Form({\n        note : \"\",\n        payment :\"\",\n        products: [],\n        discount :0,\n        branch:'',\n        total :0\n      })\n    return {\n      title: \"create_order\",\n      printing:false,\n      percent:0,\n      order: {},\n      discountData : [{id:\"percent\" , name: 'percent' } , {id:\"value\" , name: 'value' }],\n      paymentData : [{id:\"cash\" , name: 'cash' } , {id:\"visa\" , name: 'visa' }],\n      product,\n      path: [{ title: \"orders\", route: \"orders.index\" }],\n      fregment: \"\",\n      autoCompleteParams : {\n        offset: 0,\n        no: 10,\n        sort_by: \"\",\n        sort_func: \"\",\n       \n        branch: form.branch\n      },\n      discountType:'',\n      form,\n      discountPercentValidation: [\n         { message: \"percent\", regex: /(^100(\\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\\.[0-9]{1,2})?$)/ }\n      ],\n      discountValueValidation: [\n         { message: \"number\", regex: /^(\\d*([.,](?=\\d{3}))?\\d+)+((?!\\2)[.,]\\d\\d)?$/ }\n      ],\n\n      noteValidation: [\n         { message: \"max_250\", regex: /^.{0,250}$/ }\n\n        \n      ],\n\n      btns: []\n    };\n  },\n  watch:{\n    percent(){\n      this.form.discount = this.total * this.percent / 100\n    }\n  },\n  mounted(){\n    if(this.$route.params.id){\n      this.getOrder()\n    }\n  },\n  computed: {\n    products() {\n      return store.getters[\"order/products\"];\n    },\n    disablBtn() {\n      return store.getters[\"order/disablBtn\"];\n    },\n    allBranches() {\n      return store.getters[\"order/allBranches\"];\n    },\n\n    branch(){\n      return localStorage.getItem('branch') ?  localStorage.getItem('branch') : '';\n    },\n    \n    total() {\n      return store.getters[\"order/total\"];\n    }\n  },\n  components:{\n    \"select-box\" : SelectBox,\n    \"text-field\" : TextField,\n    \"submit-btn\": SubmitBtn,\n    \"auto-complete\" : AutoComplete\n  },\n  methods:{\n     printData() {\n      this.printing = true;\n      setTimeout(() => {\n        const prtHtml = document.getElementById(\"invoice-POS\").innerHTML;\n\n        // Get all stylesheets HTML\n        let stylesHtml = \"\";\n        for (const node of [\n          ...document.querySelectorAll('link[rel=\"stylesheet\"], style')\n        ]) {\n          stylesHtml += node.outerHTML;\n        }\n\n        // Open the print window\n        const WinPrint = window.open(\n          \"\",\n          \"\",\n          \"left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0\"\n        );\n\n        WinPrint.document.write(`<!DOCTYPE html>\n              <html>\n                <head>\n                  ${stylesHtml}\n                  <style>\n                    #invoice-POS{\n                      display:block !important;\n                    }\n                  </style>\n                </head>\n                <body>\n                  ${prtHtml}\n                </body>\n              </html>`);\n\n        WinPrint.document.close();\n        WinPrint.focus();\n        WinPrint.print();\n        WinPrint.close();\n        location.reload();\n      }, 1000);\n    },\n    selectBranch(val){\n      this.form.branch = val\n    },\n    percentUpdated(val){\n      this.percent = val;\n      this.form.discount = val * this.form.total;\n    },\n    selectDiscountType(val){\n      this.discountType = val\n    },\n    selectPaymentData(val){\n      this.form.payment = val\n    },\n     discountValidation(type){\n     return type == 'percent' ? this.discountPercentValidation : this.discountValueValidation\n    },\n    setProduct(){\n      // console.log(val)\n    },\n    deleteProduct(index){\n      store.commit('order/deleteProduct' , index)\n    },\n    async onSubmit() {\n      this.form.total = this.total\n      this.form.products = await this.products\n      // console.log(this.form);\n      this.form\n        .post(\"checkout\")\n        .then( () =>  {\n          this.printData()\n          \n        })\n       \n    },\n      getOrder() {\n       this.$http.get(`order/${this.$route.params.id}`)\n       .then(response => {\n        this.form.note = response.data.order.note\n        this.form.payment = response.data.order.payment\n        this.form.payment = response.data.order.payment\n        this.form.discount = response.data.order.discount\n        this.form.branch_id = response.data.order.branch_id\n        this.form.total = response.data.order.total\n         this.order = response.data.order;\n       })\n    }\n    \n  }\n};\n</script>\n\n<style lang=\"scss\">\n.isbn-clear {\n  left: auto;\n  right: 0;\n  cursor: pointer;\n}\n.input-isbn {\n  margin-right: 4.5rem;\n  margin-left: 0rem !important;\n}\n.label-isbn {\n  margin-left: 0 !important;\n}\n.counter {\n  width: 50px;\n  border: 1px solid #ddd;\n  padding: 5px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.counter i {\n  cursor: pointer;\n}\n.w2 {\n  width: 30px;\n}\n\n.hresete {\n  font-size: 3rem !important;\n  margin: 0 !important;\n}\n///////////////////////\n#invoice-POS {\n  padding: 2mm;\n  margin: 0 auto;\n  width: 44mm;\n  background: #fff;\n  display: none;\n\n  ::selection {\n    background: #f31544;\n    color: #fff;\n  }\n  ::moz-selection {\n    background: #f31544;\n    color: #fff;\n  }\n  h1 {\n    font-size: 1.5em;\n    color: #222;\n  }\n  .hresete {\n    font-size: 0.9rem !important;\n  }\n  h2 {\n    font-size: 0.9rem !important;\n  }\n  h3 {\n    font-size: 1.2em;\n    font-weight: 300;\n    line-height: 2em;\n  }\n  p {\n    font-size: 0.7em;\n    color: #666;\n    line-height: 1.2em;\n  }\n\n  #top,\n  #mid,\n  #bot {\n    /* Targets all id with 'col-' */\n    border-bottom: 1px solid #eee;\n  }\n\n  #top {\n    min-height: 100px;\n  }\n  #mid {\n    min-height: 80px;\n  }\n  #bot {\n    min-height: 50px;\n  }\n\n  .info {\n    display: block;\n    //float:left;\n    margin-left: 0;\n  }\n  .title {\n    float: right;\n  }\n  .title p {\n    text-align: right;\n  }\n  table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n  td {\n    //padding: 5px 0 5px 15px;\n    //border: 1px solid #EEE\n  }\n  .tabletitle {\n    //padding: 5px;\n    font-size: 0.5em;\n  }\n  .service {\n    border-bottom: 1px solid #eee;\n  }\n  .item {\n    width: 24mm;\n  }\n  .itemtext {\n    font-size: 0.5em;\n  }\n\n  #legalcopy {\n    margin-top: 5mm;\n  }\n}\n</style>\n"]}]}