{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/ahmed/vueJs/systemfinal/src/views/users/Edit-add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/views/users/Edit-add.vue","mtime":1591128735708},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCcmVhZGNydW1icyBmcm9tICJAL2NvbXBvbmVudHMvbGF5b3V0cy9CcmVhZGNydW1icy52dWUiOwppbXBvcnQgTSBmcm9tICJtYXRlcmlhbGl6ZS1jc3MiOwppbXBvcnQgU2ltcGxlVnVlVmFsaWRhdGlvbiBmcm9tICJzaW1wbGUtdnVlLXZhbGlkYXRvciI7CmNvbnN0IFZhbGlkYXRvciA9IFNpbXBsZVZ1ZVZhbGlkYXRpb24uVmFsaWRhdG9yOwppbXBvcnQgZ3FsIGZyb20gImdyYXBocWwtdGFnIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJlZGl0LWFkZC11c2VycyIsCiAgY29tcG9uZW50czogewogICAgQnJlYWRjcnVtYnMKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYXRoOiBbeyB0aXRsZTogInVzZXJzIiwgcm91dGU6ICJ1c2Vycy5pbmRleCIgfV0sCiAgICAgIHVzZXI6IHt9LAogICAgICBwb3NSb2xlOiB7fSwKICAgICAgbmFtZTogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBwYXNzd29yZENvbmZpcm1hdGlvbjogIiIsCiAgICAgIGFsbFJvbGVzOiBbXSwKICAgICAgcm9sZXM6IFtdLAogICAgICBpc1BvczogZmFsc2UsCiAgICAgIGFsbEVtcGxveWVlczogW10sCiAgICAgIGVtcGxveWVlOiBudWxsLAogICAgICBlbXBsb3llZUVycjogdHJ1ZSwKICAgICAgdGl0bGU6ICJjcmVhdGVfdXNlciIsCiAgICAgIHZhbGlkYXRpb25FcnJvcjogIiIsCiAgICAgIHJvbGVzTG9hZGVkOiB0cnVlLAogICAgICBmcmVnbWVudDogIiIKICAgIH07CiAgfSwKICB2YWxpZGF0b3JzOiB7CiAgICBlbWFpbCh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKQogICAgICAgIC5yZXF1aXJlZCgpCiAgICAgICAgLmVtYWlsKCk7CiAgICB9LAogICAgbmFtZSh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKQogICAgICAgIC5yZXF1aXJlZCgpCiAgICAgICAgLm1pbkxlbmd0aCgzKTsKICAgIH0sCiAgICByb2xlcyh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5yZXF1aXJlZCgpOwogICAgfSwKICAgIHBhc3N3b3JkKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpCiAgICAgICAgLnJlcXVpcmVkKCkKICAgICAgICAubWluTGVuZ3RoKDYpOwogICAgfSwKICAgIHBhc3N3b3JkQ29uZmlybWF0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpCiAgICAgICAgLnJlcXVpcmVkKCkKICAgICAgICAubWF0Y2godGhpcy5wYXNzd29yZCk7CiAgICB9LAogICAgZW1wbG95ZWUodmFsdWUpIHsKICAgICAgcmV0dXJuIFZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQoKTsKICAgIH0KICB9LAoKICBhcG9sbG86IHsKICAgIHVzZXIoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcXVlcnk6IHJlcXVpcmUoIkAvZ3JhcGhxbC9xdWVyaWVzL1VzZXIuZ3FsIiksCiAgICAgICAgdmFyaWFibGVzKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGFsbFJvbGVzKCkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiBncWxgCiAgICAgICAgICBxdWVyeSB7CiAgICAgICAgICAgIGFsbFJvbGVzIHsKICAgICAgICAgICAgICBuYW1lCiAgICAgICAgICAgICAgc2x1ZwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgYAogICAgICB9OwogICAgfSwKICAgIGFsbEVtcGxveWVlcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBxdWVyeTogZ3FsYAogICAgICAgICAgcXVlcnkgewogICAgICAgICAgICBhbGxFbXBsb3llZXMgewogICAgICAgICAgICAgIG5hbWUKICAgICAgICAgICAgICBpZAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgYAogICAgICB9OwogICAgfQogIH0sCgogIHdhdGNoOiB7CiAgICBlbXBsb3llZTogewogICAgICBoYW5kbGVyKHZhbHVlKSB7CiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmlucHV0LWZpZWxkIGJ1dHRvbiIpOwogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgdGhpcy5lbXBsb3llZUVyciA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOwogICAgICAgICAgdGhpcy5lbXBsb3llZUVyciA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXNlcjogewogICAgICBoYW5kbGVyKHVzZXIpIHsKICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgdGhpcy5uYW1lID0gdXNlci5uYW1lOwogICAgICAgICAgdGhpcy5lbWFpbCA9IHVzZXIuZW1haWw7CiAgICAgICAgICB0aGlzLnRpdGxlID0gYGVkaXRgOwogICAgICAgICAgdGhpcy5mcmVnbWVudCA9IHVzZXIubmFtZTsKICAgICAgICAgIGxldCByb2xlcyA9IFtdOwogICAgICAgICAgdXNlci5yb2xlcy5mb3JFYWNoKHJvbGUgPT4gewogICAgICAgICAgICByb2xlcy5wdXNoKHJvbGUuc2x1Zyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmICh1c2VyLmVtcGxveWVlKSB7CiAgICAgICAgICAgIHRoaXMuaXNQb3MgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmVtcGxveWVlID0gdXNlci5lbXBsb3llZS5pZDsKICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmlucHV0LWZpZWxkIGJ1dHRvbiIpOwogICAgICAgICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5yb2xlcyA9IHJvbGVzOwogICAgICAgICAgdGhpcy5yb2xlc0xvYWRlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgInZhbGlkYXRpb24uZXJyb3JzIigpIHsKICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmlucHV0LWZpZWxkIGJ1dHRvbiIpOwogICAgICBpZiAodGhpcy52YWxpZGF0aW9uLmVycm9ycy5sZW5ndGggPiAwKSB7CiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMudXNlcikgewogICAgICAgICAgdGhpcy52YWxpZGF0aW9uLnRvdWNoZWRSZWNvcmRzLmxlbmd0aCA+IDQKICAgICAgICAgICAgPyBidG4ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpCiAgICAgICAgICAgIDogIiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcm9sZXM6IHsKICAgICAgaGFuZGxlcih2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmlucHV0LWZpZWxkIGJ1dHRvbiIpOwogICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoInBvcyIpICE9IC0xKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5lbXBsb3llZSkgewogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsKICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7CiAgICAgICAgICAgICAgfSwgMTEwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5pc1BvcyA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmlzUG9zID0gZmFsc2U7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7CiAgICAgICAgICAgIH0sIDExMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0dGVkKCkgewogICAgICB0aGlzLnVzZXIgPyB0aGlzLnVwZGF0ZVVzZXIoKSA6IHRoaXMuY3JlYXRlVXNlcigpOwogICAgfSwKICAgIGxvYWRTZWxlY3RzKCkgewogICAgICBsZXQgc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNlbGVjdCIpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBNLkZvcm1TZWxlY3QuaW5pdChzZWxlY3RzLCB7fSk7CiAgICAgIH0sIDMwMDApOwogICAgfSwKICAgIHVwZGF0ZVVzZXIoKSB7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IHJlcXVpcmUoIkAvZ3JhcGhxbC9tdXRhdGlvbnMvVXBkYXRlVXNlci5ncWwiKSwKICAgICAgICAgIC8vIFBhcmFtZXRlcnMKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICBpZDogcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKSwKICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogdGhpcy5wYXNzd29yZENvbmZpcm1hdGlvbiwKICAgICAgICAgICAgZW1wbG95ZWU6IHBhcnNlSW50KHRoaXMuZW1wbG95ZWUpLAogICAgICAgICAgICByb2xlczogdGhpcy5yb2xlcwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgaHRtbDogYCR7dGhpcy4kdCgidXBkYXRlZF9zdWNjZXNzZnVsbHkiLCB7CiAgICAgICAgICAgICAgbmFtZTogZGF0YS5kYXRhLnVwZGF0ZVVzZXIubmFtZQogICAgICAgICAgICB9KX1gLAogICAgICAgICAgICBjbGFzc2VzOiAic3VjY2VzcyB0b2FzdCIsCiAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy51c2VyLm5hbWUgPSB0aGlzLm5hbWU7CiAgICAgICAgICB0aGlzLnVzZXIuZW1haWwgPSB0aGlzLmVtYWlsOwogICAgICAgICAgdGhpcy51c2VyLmVtcGxveWVlID0gdGhpcy5lbXBsb3llZTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogInVzZXJzLmluZGV4IiB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnZhbGlkYXRpb25FcnJvciA9IHRoaXMuJHQoImVtYWlsX3VuaXF1ZSIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZVVzZXIoKSB7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IHJlcXVpcmUoIkAvZ3JhcGhxbC9tdXRhdGlvbnMvQ3JlYXRlVXNlci5ncWwiKSwKICAgICAgICAgIC8vIFBhcmFtZXRlcnMKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiB0aGlzLnBhc3N3b3JkQ29uZmlybWF0aW9uLAogICAgICAgICAgICBlbXBsb3llZTogcGFyc2VJbnQodGhpcy5lbXBsb3llZSksCiAgICAgICAgICAgIHJvbGVzOiB0aGlzLnJvbGVzCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICBodG1sOiBgJHt0aGlzLiR0KCJjcmVhdGVkX3N1Y2Nlc3NmdWxseSIsIHsKICAgICAgICAgICAgICBuYW1lOiBkYXRhLmRhdGEuY3JlYXRlVXNlci5uYW1lCiAgICAgICAgICAgIH0pfWAsCiAgICAgICAgICAgIGNsYXNzZXM6ICJzdWNjZXNzIHRvYXN0IiwKICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMzAwMAogICAgICAgICAgfSk7CgogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAidXNlcnMuaW5kZXgiIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIC8vY29uc29sZS5sb2coZSkKICAgICAgICAgIHRoaXMudmFsaWRhdGlvbkVycm9yID0gdGhpcy4kdCgiZW1haWxfdW5pcXVlIik7CiAgICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkU2VsZWN0cygpOwogIH0KfTsK"},{"version":3,"sources":["Edit-add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Edit-add.vue","sourceRoot":"src/views/users","sourcesContent":["<template>\n  <div class=\"row\">\n    <Breadcrumbs :title=\"title\" :path=\"path\" :fregment=\"fregment\" />\n    <div class=\"col s12 mt-65\">\n      <div class=\"container\">\n        <!-- Current balance & total transactions cards-->\n        <div class=\"row mt-4\">\n          <div class=\"col s12 m12 l12\">\n            <!-- Current Balance -->\n            <h5 class=\"form-title\">\n              <i class=\"material-icons app-header-icon text-top\"\n                >perm_identity</i\n              >\n              {{ $t(title, { fregment }) }}\n            </h5>\n\n            <div class=\"card animated  fadeInLeft \">\n              <div class=\"card-content\">\n                <form @submit.prevent=\"submitted()\">\n                  <div class=\"card-alert danger card\" v-if=\"validationError\">\n                    <div class=\"card-content\">\n                      <p>\n                        <i class=\"material-icons\">error</i>{{ validationError }}\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: validation.hasError('name') }\"\n                    >\n                      <input v-model=\"name\" id=\"name\" type=\"text\" />\n                      <label for=\"name\" :class=\"name ? 'active' : ''\">{{\n                        $t(\"name\")\n                      }}</label>\n                      <div class=\"message\">\n                        {{ validation.firstError(\"name\") }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: validation.hasError('email') }\"\n                    >\n                      <input v-model=\"email\" id=\"email\" type=\"email\" />\n                      <label for=\"email\" :class=\"email ? 'active' : ''\">{{\n                        $t(\"email\")\n                      }}</label>\n                      <div class=\"message\">\n                        {{ validation.firstError(\"email\") }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: validation.hasError('password') }\"\n                    >\n                      <input v-model=\"password\" id=\"password\" type=\"password\" />\n                      <label for=\"password\">{{ $t(\"password\") }}</label>\n                      <div class=\"message\" v-if=\"user\">\n                        {{ $t(\"password_note\") }}\n                      </div>\n                      <div class=\"message\">\n                        {{ validation.firstError(\"password\") }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\" v-if=\"!user\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{\n                        error: validation.hasError('passwordConfirmation')\n                      }\"\n                    >\n                      <input\n                        v-model=\"passwordConfirmation\"\n                        id=\"password_confirmation\"\n                        type=\"password\"\n                      />\n                      <label for=\"password_confirmation\">{{\n                        $t(\"password_confirmation\")\n                      }}</label>\n                      <div class=\"message\">\n                        {{ validation.firstError(\"passwordConfirmation\") }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: validation.hasError('roles') }\"\n                    >\n                      <select\n                        v-if=\"rolesLoaded\"\n                        id=\"roles\"\n                        multiple\n                        v-model=\"roles\"\n                      >\n                        <option value=\"\" disabled=\"none\">{{\n                          `Select role`\n                        }}</option>\n                        <option\n                          v-for=\"role in allRoles\"\n                          :key=\"role.id\"\n                          :value=\"role.slug\"\n                          >{{ role.name }}</option\n                        >\n                      </select>\n                      <label for=\"roles\" :class=\"roles ? 'active' : ''\">{{\n                        $t(\"roles\")\n                      }}</label>\n                      <div class=\"message\">\n                        {{ validation.firstError(\"roles\") }}\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    class=\"row\"\n                    :class=\"isPos ? '' : 'hide'\"\n                    id=\"employees_select\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: employeeErr }\"\n                    >\n                      <select id=\"employee\" v-model=\"employee\">\n                        <option value=\"\" disabled=\"none\">{{\n                          `Select employee`\n                        }}</option>\n                        <option\n                          v-for=\"employee in allEmployees\"\n                          :key=\"employee.id\"\n                          :value=\"employee.id\"\n                          >{{ employee.name }}</option\n                        >\n                      </select>\n                      <label for=\"employee\" :class=\"employee ? 'active' : ''\">{{\n                        $t(\"employee\")\n                      }}</label>\n                      <div class=\"message\" v-if=\"employeeErr\">\n                        {{ $t(\"required\") }}\n                      </div>\n                      <div class=\"message\">\n                        {{ $t(\"employee_note\") }}\n                        <router-link :to=\"{ name: 'employees.create' }\">{{\n                          $t(\"add_employee\")\n                        }}</router-link>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"input-field col s12\">\n                      <button\n                        class=\"btn create cyan waves-effect waves-light left\"\n                        type=\"submit\"\n                        name=\"action\"\n                        disabled=\"disabled\"\n                      >\n                        {{ $t(\"save\") }}\n                        <i class=\"material-icons right\">send</i>\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport M from \"materialize-css\";\nimport SimpleVueValidation from \"simple-vue-validator\";\nconst Validator = SimpleVueValidation.Validator;\nimport gql from \"graphql-tag\";\nexport default {\n  name: \"edit-add-users\",\n  components: {\n    Breadcrumbs\n  },\n  data() {\n    return {\n      path: [{ title: \"users\", route: \"users.index\" }],\n      user: {},\n      posRole: {},\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      allRoles: [],\n      roles: [],\n      isPos: false,\n      allEmployees: [],\n      employee: null,\n      employeeErr: true,\n      title: \"create_user\",\n      validationError: \"\",\n      rolesLoaded: true,\n      fregment: \"\"\n    };\n  },\n  validators: {\n    email(value) {\n      return Validator.value(value)\n        .required()\n        .email();\n    },\n    name(value) {\n      return Validator.value(value)\n        .required()\n        .minLength(3);\n    },\n    roles(value) {\n      return Validator.value(value).required();\n    },\n    password(value) {\n      return Validator.value(value)\n        .required()\n        .minLength(6);\n    },\n    passwordConfirmation(value) {\n      return Validator.value(value)\n        .required()\n        .match(this.password);\n    },\n    employee(value) {\n      return Validator.value(value).required();\n    }\n  },\n\n  apollo: {\n    user() {\n      return {\n        query: require(\"@/graphql/queries/User.gql\"),\n        variables() {\n          return {\n            id: parseInt(this.$route.params.id)\n          };\n        }\n      };\n    },\n    allRoles() {\n      return {\n        query: gql`\n          query {\n            allRoles {\n              name\n              slug\n            }\n          }\n        `\n      };\n    },\n    allEmployees() {\n      return {\n        query: gql`\n          query {\n            allEmployees {\n              name\n              id\n            }\n          }\n        `\n      };\n    }\n  },\n\n  watch: {\n    employee: {\n      handler(value) {\n        const btn = document.querySelector(\".input-field button\");\n        if (value) {\n          this.employeeErr = false;\n        } else {\n          btn.removeAttribute(\"disabled\");\n          this.employeeErr = true;\n        }\n      }\n    },\n    user: {\n      handler(user) {\n        if (user) {\n          this.name = user.name;\n          this.email = user.email;\n          this.title = `edit`;\n          this.fregment = user.name;\n          let roles = [];\n          user.roles.forEach(role => {\n            roles.push(role.slug);\n          });\n          if (user.employee) {\n            this.isPos = true;\n            this.employee = user.employee.id;\n            const btn = document.querySelector(\".input-field button\");\n            btn.removeAttribute(\"disabled\");\n          }\n          this.roles = roles;\n          this.rolesLoaded = true;\n        }\n      }\n    },\n    \"validation.errors\"() {\n      const btn = document.querySelector(\".input-field button\");\n      if (this.validation.errors.length > 0) {\n        btn.setAttribute(\"disabled\", \"disabled\");\n      } else {\n        if (!this.user) {\n          this.validation.touchedRecords.length > 4\n            ? btn.removeAttribute(\"disabled\")\n            : \"\";\n        } else {\n          btn.removeAttribute(\"disabled\");\n        }\n      }\n    },\n    roles: {\n      handler(value) {\n        if (value) {\n          const btn = document.querySelector(\".input-field button\");\n          if (value.indexOf(\"pos\") != -1) {\n            if (!this.employee) {\n              setTimeout(() => {\n                btn.setAttribute(\"disabled\", \"disabled\");\n              }, 1000);\n            } else {\n              setTimeout(() => {\n                btn.removeAttribute(\"disabled\");\n              }, 1100);\n            }\n            this.isPos = true;\n          } else {\n            this.isPos = false;\n            setTimeout(() => {\n              btn.removeAttribute(\"disabled\");\n            }, 1100);\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    submitted() {\n      this.user ? this.updateUser() : this.createUser();\n    },\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      setTimeout(() => {\n        M.FormSelect.init(selects, {});\n      }, 3000);\n    },\n    updateUser() {\n      this.$apollo\n        .mutate({\n          mutation: require(\"@/graphql/mutations/UpdateUser.gql\"),\n          // Parameters\n          variables: {\n            name: this.name,\n            email: this.email,\n            id: parseInt(this.$route.params.id),\n            password: this.password,\n            password_confirmation: this.passwordConfirmation,\n            employee: parseInt(this.employee),\n            roles: this.roles\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"updated_successfully\", {\n              name: data.data.updateUser.name\n            })}`,\n            classes: \"success toast\",\n            displayLength: 2000\n          });\n          this.user.name = this.name;\n          this.user.email = this.email;\n          this.user.employee = this.employee;\n          this.$router.push({ name: \"users.index\" });\n        })\n        .catch(() => {\n          this.validationError = this.$t(\"email_unique\");\n        });\n    },\n    createUser() {\n      this.$apollo\n        .mutate({\n          mutation: require(\"@/graphql/mutations/CreateUser.gql\"),\n          // Parameters\n          variables: {\n            name: this.name,\n            email: this.email,\n            password: this.password,\n            password_confirmation: this.passwordConfirmation,\n            employee: parseInt(this.employee),\n            roles: this.roles\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"created_successfully\", {\n              name: data.data.createUser.name\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n\n          this.$router.push({ name: \"users.index\" });\n        })\n        .catch(() => {\n          //console.log(e)\n          this.validationError = this.$t(\"email_unique\");\n        });\n    }\n  },\n  mounted() {\n    this.loadSelects();\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.form-title {\n  font-weight: 700;\n  line-height: 3.6rem;\n  font-size: 2.64rem;\n  margin-bottom: 5rem;\n  & i {\n    font-size: 3.6rem;\n    vertical-align: bottom;\n  }\n}\n\nlabel {\n  font-size: 1.6rem !important;\n}\ninput,\n.checkbox span:not(.lever),\ntextarea,\nselect {\n  font-size: 1.6rem !important;\n  height: 4.2rem !important;\n}\n.checkbox {\n  position: relative;\n}\n</style>\n"]}]}