{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/ahmed/vueJs/systemfinal/src/components/datatable/Table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/components/datatable/Table.vue","mtime":1584622427873},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUYWJsZUhlYWQgZnJvbSAiQC9jb21wb25lbnRzL2RhdGF0YWJsZS9UYWJsZUhlYWQudnVlIjsKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAiQC9jb21wb25lbnRzL2RhdGF0YWJsZS9QYWdpbmF0aW9uLnZ1ZSI7CmltcG9ydCBNIGZyb20gIm1hdGVyaWFsaXplLWNzcyI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJkYXRhVGJhbGUiLAogIGNvbXBvbmVudHM6IHsKICAgIFRhYmxlSGVhZCwKICAgIFBhZ2luYXRpb24KICAgIC8vIEFjdGlvbnMKICB9LAogIHByb3BzOiBbCiAgICAiY29sdW1ucyIsCiAgICAiY2FuQXBwcm92ZSIsCiAgICAic29ydGluZyIsCiAgICAiZGF0YSIsCiAgICAiY2FuVmlldyIsCiAgICAiY2FuRGVsZXRlIiwKICAgICJjYW5FZGl0IgogIF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoZWNrQWxsU3RhdHVzOiBmYWxzZQogICAgfTsKICB9LAogIHN0b3JlOiB7CiAgICBjaGVja2VkSXRlbXM6ICJzZWxlY3RlZF9pZHMiLAogICAgcGVyUGFnZTogInBlclBhZ2UiLAogICAgcGFnZTogImN1cnJlbnRfcGFnZSIsCiAgICB0YWJsZURhdGE6ICJ0YWJsZURhdGEiCiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkU2VsZWN0cygpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgbGV0IHNlbGVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2hvdyIpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKCdzZWxjZXQnICwgc2VsZWN0cykKICAgICAgICBNLkZvcm1TZWxlY3QuaW5pdChzZWxlY3RzLCB7fSk7CiAgICAgIH0sIDMwMDApOwogICAgfSwKICAgIGdldEJyYW5jaChpZCkgewogICAgICBpZihpZCA9PSAxKXsKICAgICAgICByZXR1cm4gJ3BvaW50OTAnCiAgICAgIH0gCiAgICAgIGlmKGlkID09IDIpewogICAgICAgIHJldHVybiAnY2ZjJwogICAgICB9IAogICAgICAKICAgIH0sCiAgICBjb21wYXJlRGF0ZShkYXRlKSB7CiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgY29uc3QgdG9tb3Jyb3cgPSBuZXcgRGF0ZSh0b2RheSk7CiAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7CgogICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmlzU2FtZSh0b2RheSwgImRheSIpIHx8CiAgICAgICAgbW9tZW50KGRhdGUpLmlzU2FtZSh0b21vcnJvdywgImRheSIpCiAgICAgICAgPyB0cnVlCiAgICAgICAgOiBmYWxzZTsKICAgIH0sCiAgICBzb3J0Qnkoa2V5KSB7CiAgICAgIHRoaXMuc29ydGluZ1swXS5maWVsZCA9IGtleTsKICAgICAgdGhpcy5zb3J0aW5nWzBdLm9yZGVyID0gdGhpcy5zb3J0aW5nWzBdLm9yZGVyID09ICJBU0MiID8gIkRFU0MiIDogIkFTQyI7CiAgICB9LAogICAgZ29UbyhwYWdlKSB7CiAgICAgIHRoaXMucGFnZSA9IHBhZ2U7CiAgICB9LAogICAgZ2V0SW5kZXgoYXJyYXksIGtleSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIGFycmF5LmZpbmRJbmRleChpID0+IGlba2V5XSA9PSB2YWx1ZSk7CiAgICB9LAogICAgY2hlY2tTdGF0dXMoc3RhdHVzKSB7CiAgICAgIHRoaXMuY2hlY2tBbGxTdGF0dXMgPSBzdGF0dXM7CiAgICB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgIGNoZWNrQWxsU3RhdHVzOiB7CiAgICAgIGhhbmRsZXIoc3RhdHVzKSB7CiAgICAgICAgc3RhdHVzCiAgICAgICAgICA/IHRoaXMuZGF0YS5kYXRhLmZvckVhY2goZGF0YSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5jaGVja2VkSXRlbXMucHVzaChkYXRhLmlkKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIDogKHRoaXMuY2hlY2tlZEl0ZW1zID0gW10pOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5jYW5WaWV3ID8gdGhpcy5jYW5WaWV3IDogIiI7CiAgICB0aGlzLmxvYWRTZWxlY3RzKCk7CiAgfQp9Owo="},{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Table.vue","sourceRoot":"src/components/datatable","sourcesContent":["<template>\n  <div class=\"card animated  fadeInUp \">\n    <div class=\"card-content\" style=\"overflow-x:scroll\">\n      <div>\n        <div>\n          <div class=\"tableFilters\">\n            <div class=\"search-input-field\">\n              <input\n                class=\"input\"\n                type=\"text\"\n                v-model=\"tableData.search\"\n                :placeholder=\"$t('search_table')\"\n              />\n            </div>\n\n            <div class=\"input-field\">\n              <select id=\"show\" v-model=\"tableData.length\">\n                <option\n                  v-for=\"(records, index) in perPage\"\n                  :key=\"index\"\n                  :value=\"records\"\n                  >{{ records }}</option\n                >\n              </select>\n              <label>{{ $t(\"show\") }}</label>\n            </div>\n          </div>\n          <TableHead\n            :status=\"checkAllStatus\"\n            :columns=\"columns\"\n            :sortKey=\"sorting[0].field\"\n            :sortOrder=\"sorting[0].order\"\n            @sort=\"sortBy\"\n            @update=\"checkStatus\"\n          >\n            <tbody v-if=\"data.data.length > 0\">\n              <tr v-for=\"data in data.data\" :key=\"data.id\">\n                <td>\n                  <label>\n                    <input\n                      class=\"checkbox\"\n                      v-model=\"checkedItems\"\n                      type=\"checkbox\"\n                      name=\"checkbox[]\"\n                      :value=\"data.id\"\n                    />\n                    <span></span>\n                  </label>\n                </td>\n                <td v-for=\"column in columns\" :key=\"column.dbname\">\n                  <span v-if=\"column.sub\">\n                    <span v-if=\"data[column.dbname]\">{{\n                      data[column.dbname][column.sub]\n                    }}</span></span\n                  >\n                  <span v-else-if=\"data[column.dbname]\">\n                    <span v-if=\"column.dbname == 'branch_id'\">\n                      {{ getBranch(data[column.dbname]) }}\n                    </span>\n                    <span v-else> {{ data[column.dbname] }}</span>\n                  </span>\n\n                  <span v-else> </span>\n                </td>\n                <td>\n                  <div>\n                    <a\n                      v-if=\"canView\"\n                      @click.prevent=\"$emit('goToView', data['id'])\"\n                      class=\"btn waves-effect waves-light actions-btn view\"\n                      ><i class=\"material-icons hide-on-med-and-up bold\"\n                        >remove_red_eye</i\n                      ><span class=\"hide-on-small-onl text-white\"\n                        >{{ $t(\"plain_view\") }}\n                        <i class=\"material-icons\">remove_red_eye</i></span\n                      ></a\n                    >\n                    <a\n                      v-if=\"canDelete\"\n                      class=\"btn waves-effect waves-light actions-btn danger modal-trigger\"\n                      @click.prevent=\"\n                        $emit('setDeleteData', {\n                          id: data['id'],\n                          name: data['name']\n                        })\n                      \"\n                      ><i class=\"material-icons hide-on-med-and-up bold\"\n                        >delete</i\n                      ><span class=\"hide-on-small-onl text-white\"\n                        >{{ $t(\"delete\") }}\n                        <i class=\"material-icons\">delete</i></span\n                      ></a\n                    >\n                    <div\n                      v-if=\"$route.name !== 'orders.index'\"\n                      class=\"display-inline\"\n                    >\n                      <a\n                        v-if=\"canEdit\"\n                        @click.prevent=\"$emit('goToEdit', data['id'])\"\n                        class=\"btn waves-effect waves-light actions-btn edit\"\n                        ><i class=\"material-icons hide-on-med-and-up bold\"\n                          >edit</i\n                        ><span class=\"hide-on-small-onl text-white\"\n                          >{{ $t(\"plain_edit\") }}\n                          <i class=\"material-icons\">edit</i></span\n                        ></a\n                      >\n                    </div>\n                    <div v-else class=\"display-inline\">\n                      <a\n                        v-if=\"compareDate(data.created_at)\"\n                        @click.prevent=\"$emit('goToEdit', data['id'])\"\n                        class=\"btn waves-effect waves-light actions-btn edit\"\n                        ><i class=\"material-icons hide-on-med-and-up bold\"\n                          >edit</i\n                        ><span class=\"hide-on-small-onl text-white\"\n                          >{{ $t(\"plain_edit\") }}\n                          <i class=\"material-icons\">edit</i></span\n                        ></a\n                      >\n                    </div>\n                    <a\n                      v-if=\"canApprove && !data['approved']\"\n                      @click.prevent=\"$emit('goToApprove', data['id'])\"\n                      class=\"btn waves-effect waves-light actions-btn approve\"\n                      ><i class=\"material-icons hide-on-med-and-up bold\"\n                        >done_all</i\n                      ><span class=\"hide-on-small-onl text-white\"\n                        >{{ $t(\"approve\") }}\n                        <i class=\"material-icons\">done_all</i></span\n                      ></a\n                    >\n                  </div>\n                  <slot :name=\"data['name']\" :id=\"data['id']\"></slot>\n                </td>\n              </tr>\n            </tbody>\n\n            <div class=\"not-found\" v-else>{{ $t(\"no-data\") }}</div>\n          </TableHead>\n          <pagination\n            :pagination=\"data.paginatorInfo\"\n            @prev=\"page--\"\n            @goTo=\"goTo\"\n            @next=\"page++\"\n          >\n          </pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TableHead from \"@/components/datatable/TableHead.vue\";\nimport Pagination from \"@/components/datatable/Pagination.vue\";\nimport M from \"materialize-css\";\nimport moment from \"moment\";\nexport default {\n  name: \"dataTbale\",\n  components: {\n    TableHead,\n    Pagination\n    // Actions\n  },\n  props: [\n    \"columns\",\n    \"canApprove\",\n    \"sorting\",\n    \"data\",\n    \"canView\",\n    \"canDelete\",\n    \"canEdit\"\n  ],\n  data() {\n    return {\n      checkAllStatus: false\n    };\n  },\n  store: {\n    checkedItems: \"selected_ids\",\n    perPage: \"perPage\",\n    page: \"current_page\",\n    tableData: \"tableData\"\n  },\n  methods: {\n    loadSelects() {\n      setTimeout(() => {\n        let selects = document.querySelector(\"#show\");\n        // console.log('selcet' , selects)\n        M.FormSelect.init(selects, {});\n      }, 3000);\n    },\n    getBranch(id) {\n      if(id == 1){\n        return 'point90'\n      } \n      if(id == 2){\n        return 'cfc'\n      } \n      \n    },\n    compareDate(date) {\n      const today = new Date();\n      const tomorrow = new Date(today);\n      tomorrow.setDate(tomorrow.getDate() + 1);\n\n      return moment(date).isSame(today, \"day\") ||\n        moment(date).isSame(tomorrow, \"day\")\n        ? true\n        : false;\n    },\n    sortBy(key) {\n      this.sorting[0].field = key;\n      this.sorting[0].order = this.sorting[0].order == \"ASC\" ? \"DESC\" : \"ASC\";\n    },\n    goTo(page) {\n      this.page = page;\n    },\n    getIndex(array, key, value) {\n      return array.findIndex(i => i[key] == value);\n    },\n    checkStatus(status) {\n      this.checkAllStatus = status;\n    }\n  },\n\n  watch: {\n    checkAllStatus: {\n      handler(status) {\n        status\n          ? this.data.data.forEach(data => {\n              this.checkedItems.push(data.id);\n            })\n          : (this.checkedItems = []);\n      }\n    }\n  },\n  mounted() {\n    this.canView ? this.canView : \"\";\n    this.loadSelects();\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.tableFilters {\n  display: flex;\n  justify-content: space-between;\n  margin: 3rem 0;\n\n  & .input-field {\n    width: 80px;\n  }\n  & .search-input-field {\n    width: 200px;\n  }\n}\n\n.select-wrapper + label {\n  font-size: 1rem;\n}\ntbody tr td:not(:last-child) {\n  font-family: \"Muli\", sans-serif !important;\n}\n.btn:not(:last-child) {\n  margin-inline-end: 1rem;\n  @media screen And (max-width: 1200px) {\n    margin-block-end: 1rem;\n    margin-inline-end: 0;\n  }\n  @media screen AND (max-width: 992px) {\n    margin-block-end: 0rem;\n  }\n}\n.btn.view {\n  background-color: #343a40;\n}\n.btn.approve {\n  background-color: #ff4081;\n}\n.btn span {\n  color: #fff;\n}\n.not-found {\n  position: absolute;\n  text-align: center;\n  margin: 2rem 0;\n  width: 100%;\n  font-size: 1.6rem;\n}\n</style>\n"]}]}