{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js!/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/root/ahmed/vueJs/systemfinal/src/store/modules/transaction.js","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/store/modules/transaction.js","mtime":1603903913126},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBzdGF0ZTogewogICAgcHJvZHVjdHM6IFtdLAogICAgZGlzYWJsQnRuOiBmYWxzZSwKICAgIHByb2R1Y3RzTG9hZGluZzogZmFsc2UsCiAgICBwcm9kdWN0OiBmYWxzZSAvLyAgaXRlbTp7fSwKCiAgfSwKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIGdldHRlcnM6IHsKICAgIHByb2R1Y3RzOiBmdW5jdGlvbiBwcm9kdWN0cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUucHJvZHVjdHM7CiAgICB9LAogICAgZGlzYWJsQnRuOiBmdW5jdGlvbiBkaXNhYmxCdG4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRpc2FibEJ0bjsKICAgIH0sCiAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwoc3RhdGUpIHsKICAgICAgdmFyIHRvdGFsID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUucHJvZHVjdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0b3RhbCArPSBzdGF0ZS5wcm9kdWN0c1tpXS5wcmljZSAqIHN0YXRlLnByb2R1Y3RzW2ldLnF0eTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRvdGFsOwogICAgfSwKICAgIHByb2R1Y3Q6IGZ1bmN0aW9uIHByb2R1Y3Qoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnByb2R1Y3Q7CiAgICB9LAogICAgcHJvZHVjdHNMb2FkaW5nOiBmdW5jdGlvbiBwcm9kdWN0c0xvYWRpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLml0ZW1Mb2FkaW5nOwogICAgfSwKICAgIGFsbEJyYW5jaGVzOiBmdW5jdGlvbiBhbGxCcmFuY2hlcygpIHsKICAgICAgdmFyIGJyYW5jaGVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFsbGJyYW5jaGVzIik7CiAgICAgIHJldHVybiBKU09OLnBhcnNlKGJyYW5jaGVzKTsKICAgIH0KICB9LAogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgbXV0YXRpb25zOiB7CiAgICBwdXNoUHJvZHVjdDogZnVuY3Rpb24gcHVzaFByb2R1Y3Qoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgLy8gICBsZXQgZm91bmQgPSBmYWxzZQogICAgICAvLyAgIHN0YXRlLnByb2R1Y3RzID0gc3RhdGUucHJvZHVjdHMuZmlsdGVyKHAgPT4gewogICAgICAvLyAgICAgaWYocC5pc2JuID09IHBheWxvYWQuaXNibikgewogICAgICAvLyAgICAgICBsZXQgcHJvZHVjdCA9ICBwCiAgICAgIC8vICAgICAgIHByb2R1Y3QucXR5KysKICAgICAgLy8gICAgICAgZm91bmQgPSB0cnVlCiAgICAgIC8vICAgICAgIHJldHVybiBwcm9kdWN0CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSkKICAgICAgLy8gLy8gIHN0YXRlLnRvdGFsID0gc3RhdGUudG90YWwgKyBwYXlsb2FkLnByaWNlCiAgICAgIC8vICBpZighZm91bmQpIHN0YXRlLnByb2R1Y3RzLnB1c2gocGF5bG9hZCk7CiAgICAgIC8vICBmb3VuZCA9IGZhbHNlCiAgICAgIHN0YXRlLnByb2R1Y3RzLnB1c2gocGF5bG9hZCk7CiAgICB9LAogICAgc2V0UHJvZHVjdHNMb2FkaW5nOiBmdW5jdGlvbiBzZXRQcm9kdWN0c0xvYWRpbmcoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUucHJvZHVjdHNMb2FkaW5nID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXREaXNhYmxCdG46IGZ1bmN0aW9uIHNldERpc2FibEJ0bihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5kaXNhYmxCdG4gPSBwYXlsb2FkOwogICAgfQogIH0sCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBhY3Rpb25zOiB7CiAgICBzZXRQcm9kdWN0OiBmdW5jdGlvbiBzZXRQcm9kdWN0KGN0eCwgcGF5bG9hZCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHNldFByb2R1Y3QkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGN0eC5jb21taXQoInNldFByb2R1Y3RzTG9hZGluZyIsIHRydWUpOwogICAgICAgICAgICAgIHBheWxvYWQucXR5ID0gMTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGN0eC5jb21taXQoInB1c2hQcm9kdWN0IiwgcGF5bG9hZCkpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGN0eC5jb21taXQoInNldFByb2R1Y3RzTG9hZGluZyIsIHRydWUpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/root/ahmed/vueJs/systemfinal/src/store/modules/transaction.js"],"names":["namespaced","state","products","disablBtn","productsLoading","product","getters","total","i","length","price","qty","itemLoading","allBranches","branches","localStorage","getItem","JSON","parse","mutations","pushProduct","payload","push","setProductsLoading","setDisablBtn","actions","setProduct","ctx","commit"],"mappings":";;AAAA,eAAe;AACbA,EAAAA,UAAU,EAAE,IADC;AAEb;AACAC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,SAAS,EAAE,KAFN;AAGLC,IAAAA,eAAe,EAAE,KAHZ;AAILC,IAAAA,OAAO,EAAE,KAJJ,CAKL;;AALK,GAHM;AAUb;AACAC,EAAAA,OAAO,EAAE;AACPJ,IAAAA,QAAQ,EAAE,kBAAAD,KAAK,EAAI;AACjB,aAAOA,KAAK,CAACC,QAAb;AACD,KAHM;AAIPC,IAAAA,SAAS,EAAE,mBAAAF,KAAK,EAAI;AAClB,aAAOA,KAAK,CAACE,SAAb;AACD,KANM;AAOPI,IAAAA,KAAK,EAAE,eAAAN,KAAK,EAAI;AACd,UAAIM,KAAK,GAAG,CAAZ;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,KAAK,CAACC,QAAN,CAAeO,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9CD,QAAAA,KAAK,IAAIN,KAAK,CAACC,QAAN,CAAeM,CAAf,EAAkBE,KAAlB,GAA0BT,KAAK,CAACC,QAAN,CAAeM,CAAf,EAAkBG,GAArD;AACD;;AACD,aAAOJ,KAAP;AACD,KAbM;AAcPF,IAAAA,OAAO,EAAE,iBAAAJ,KAAK,EAAI;AAChB,aAAOA,KAAK,CAACI,OAAb;AACD,KAhBM;AAiBPD,IAAAA,eAAe,EAAE,yBAAAH,KAAK,EAAI;AACxB,aAAOA,KAAK,CAACW,WAAb;AACD,KAnBM;AAoBPC,IAAAA,WAAW,EAAE,uBAAM;AACjB,UAAIC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAf;AACA,aAAOC,IAAI,CAACC,KAAL,CAAWJ,QAAX,CAAP;AACD;AAvBM,GAXI;AAoCb;AACAK,EAAAA,SAAS,EAAE;AACTC,IAAAA,WADS,uBACGnB,KADH,EACUoB,OADV,EACmB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACApB,MAAAA,KAAK,CAACC,QAAN,CAAeoB,IAAf,CAAoBD,OAApB;AACD,KAhBQ;AAiBTE,IAAAA,kBAjBS,8BAiBUtB,KAjBV,EAiBiBoB,OAjBjB,EAiB0B;AACjCpB,MAAAA,KAAK,CAACG,eAAN,GAAwBiB,OAAxB;AACD,KAnBQ;AAoBTG,IAAAA,YApBS,wBAoBIvB,KApBJ,EAoBWoB,OApBX,EAoBoB;AAC3BpB,MAAAA,KAAK,CAACE,SAAN,GAAkBkB,OAAlB;AACD;AAtBQ,GArCE;AA6Db;AACAI,EAAAA,OAAO,EAAE;AACDC,IAAAA,UADC,sBACUC,GADV,EACeN,OADf;AAAA;AAAA;AAAA;AAAA;AAELM,cAAAA,GAAG,CAACC,MAAJ,CAAW,oBAAX,EAAiC,IAAjC;AACAP,cAAAA,OAAO,CAACV,GAAR,GAAc,CAAd;AAHK;AAAA,8CAICgB,GAAG,CAACC,MAAJ,CAAW,aAAX,EAA0BP,OAA1B,CAJD;;AAAA;AAKLM,cAAAA,GAAG,CAACC,MAAJ,CAAW,oBAAX,EAAiC,IAAjC;;AALK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA9DI,CAAf","sourcesContent":["export default {\n  namespaced: true,\n  // -----------------------------------------------------------------\n  state: {\n    products: [],\n    disablBtn: false,\n    productsLoading: false,\n    product: false\n    //  item:{},\n  },\n  // -----------------------------------------------------------------\n  getters: {\n    products: state => {\n      return state.products;\n    },\n    disablBtn: state => {\n      return state.disablBtn;\n    },\n    total: state => {\n      let total = 0;\n      for (let i = 0; i < state.products.length; i++) {\n        total += state.products[i].price * state.products[i].qty;\n      }\n      return total;\n    },\n    product: state => {\n      return state.product;\n    },\n    productsLoading: state => {\n      return state.itemLoading;\n    },\n    allBranches: () => {\n      let branches = localStorage.getItem(\"allbranches\");\n      return JSON.parse(branches);\n    }\n  },\n  // -----------------------------------------------------------------\n  mutations: {\n    pushProduct(state, payload) {\n      //   let found = false\n      //   state.products = state.products.filter(p => {\n      //     if(p.isbn == payload.isbn) {\n      //       let product =  p\n      //       product.qty++\n      //       found = true\n      //       return product\n      //     }\n      //   })\n      // //  state.total = state.total + payload.price\n      //  if(!found) state.products.push(payload);\n\n      //  found = false\n      state.products.push(payload);\n    },\n    setProductsLoading(state, payload) {\n      state.productsLoading = payload;\n    },\n    setDisablBtn(state, payload) {\n      state.disablBtn = payload;\n    }\n  },\n  // -----------------------------------------------------------------\n  actions: {\n    async setProduct(ctx, payload) {\n      ctx.commit(\"setProductsLoading\", true);\n      payload.qty = 1;\n      await ctx.commit(\"pushProduct\", payload);\n      ctx.commit(\"setProductsLoading\", true);\n    }\n  }\n};\n"]}]}