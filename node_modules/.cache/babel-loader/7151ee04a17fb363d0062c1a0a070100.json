{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js!/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/root/ahmed/vueJs/systemfinal/src/mixins/EditAddTransactionsMixin.js","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/mixins/EditAddTransactionsMixin.js","mtime":1591337204227},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IEJyZWFkY3J1bWJzIGZyb20gIkAvY29tcG9uZW50cy9sYXlvdXRzL0JyZWFkY3J1bWJzLnZ1ZSI7CmltcG9ydCBNIGZyb20gIm1hdGVyaWFsaXplLWNzcyI7CmltcG9ydCBTaW1wbGVWdWVWYWxpZGF0aW9uIGZyb20gInNpbXBsZS12dWUtdmFsaWRhdG9yIjsKaW1wb3J0IHsgdHJhbnNhY3Rpb25RdWVyeSwgY3JlYXRlVHJhbnNhY3Rpb25Qcm9kdWN0LCB1cGRhdGVUcmFuc2FjdGlvblByb2R1Y3QsIGFsbEJyYW5jaGVzIGFzIF9hbGxCcmFuY2hlcywgYWxsUHJvZHVjdHMgYXMgX2FsbFByb2R1Y3RzIH0gZnJvbSAiQC9ncmFwaHFsL3F1ZXJpZXMvcXVlcmllcy5qcyI7CnZhciBWYWxpZGF0b3IgPSBTaW1wbGVWdWVWYWxpZGF0aW9uLlZhbGlkYXRvcjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJyZWFkY3J1bWJzOiBCcmVhZGNydW1icwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhdGg6IFt7CiAgICAgICAgdGl0bGU6ICJ0cmFuc2FjdGlvbnMiLAogICAgICAgIHJvdXRlOiAidHJhbnNhY3Rpb25zLmluZGV4IgogICAgICB9XSwKICAgICAgdHJhbnNhY3Rpb246IHt9LAogICAgICBub3RlOiAiIiwKICAgICAgcXR5SW5jcmVhc2VkOiBmYWxzZSwKICAgICAgZGlzY291bnQ6ICIiLAogICAgICB0b3RhbDogMCwKICAgICAgcmVtYWluSGVyZTogZmFsc2UsCiAgICAgIGRpc2NvdW50VHlwZTogIiIsCiAgICAgIGlzVmFsdWU6ICIiLAogICAgICBpc1BlcmNlbnQ6ICIiLAogICAgICBpc2JuOiAiIiwKICAgICAgY3VzdG9tZXI6ICIiLAogICAgICBmcm9tQnJhbmNoOiAiIiwKICAgICAgcHJvZHVjdDogIiIsCiAgICAgIGJyYW5jaDogIiIsCiAgICAgIHByb2R1Y3RzSWRzOiBbXSwKICAgICAgZGlzY291bnRWYWx1ZTogMCwKICAgICAgcXR5czogW10sCiAgICAgIHByb2R1Y3RBbHJlYWR5QWRkZWQ6IGZhbHNlLAogICAgICBwcm9kdWN0QWRkZWQ6IGZhbHNlLAogICAgICBwcm9kdWN0czogW10sCiAgICAgIGlkOiBudWxsLAogICAgICBhbGxCcmFuY2hlczogW10sCiAgICAgIGFsbFByb2R1Y3RzOiBbXSwKICAgICAgdGl0bGU6ICJjcmVhdGVfdHJhbnNhY3Rpb24iLAogICAgICB2YWxpZGF0aW9uRXJyb3I6ICIiLAogICAgICBmcmVnbWVudDogIiIKICAgIH07CiAgfSwKICB2YWxpZGF0b3JzOiB7CiAgICBub3RlOiBmdW5jdGlvbiBub3RlKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLm1heExlbmd0aCgyNTApOwogICAgfSwKICAgIGRpc2NvdW50OiBmdW5jdGlvbiBkaXNjb3VudCh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5kaWdpdCgpLm1heExlbmd0aCg0KTsKICAgIH0sCiAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwodmFsdWUpIHsKICAgICAgcmV0dXJuIFZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQoKS5kaWdpdCgpLm1heExlbmd0aCg1KTsKICAgIH0sCiAgICBwcm9kdWN0czogZnVuY3Rpb24gcHJvZHVjdHModmFsdWUpIHsKICAgICAgcmV0dXJuIFZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQoKTsKICAgIH0KICB9LAogIGFwb2xsbzogewogICAgdHJhbnNhY3Rpb246IGZ1bmN0aW9uIHRyYW5zYWN0aW9uKCkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiB0cmFuc2FjdGlvblF1ZXJ5LAogICAgICAgIHZhcmlhYmxlczogZnVuY3Rpb24gdmFyaWFibGVzKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IF9yZWYuZGF0YS50cmFuc2FjdGlvbjsKICAgICAgICAgIHRoaXMuYnJhbmNoID0gdHJhbnNhY3Rpb24uYnJhbmNoLmlkOwoKICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09ICJ0cmFuc2FjdGlvbnMuZWRpdCIpIHsKICAgICAgICAgICAgdHJhbnNhY3Rpb24ucHJvZHVjdHMuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgICAgICAgIF90aGlzLnByb2R1Y3RzLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsCiAgICAgICAgICAgICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMucHJvZHVjdHNJZHMucHVzaChwcm9kdWN0LmlkKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRyYW5zYWN0aW9uLnByb2R1Y3RzUGl2b3QuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgICAgICAgIF90aGlzLnF0eXMucHVzaChwcm9kdWN0LnF0eSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnRpdGxlID0gImVkaXQiOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09ICJ0cmFuc2FjdGlvbnMuYXBwcm92ZSIpIHsKICAgICAgICAgICAgdGhpcy50aXRsZSA9ICJhcHByb3ZlIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgYWxsQnJhbmNoZXM6IGZ1bmN0aW9uIGFsbEJyYW5jaGVzKCkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiBfYWxsQnJhbmNoZXMKICAgICAgfTsKICAgIH0sCiAgICBhbGxQcm9kdWN0czogZnVuY3Rpb24gYWxsUHJvZHVjdHMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcXVlcnk6IF9hbGxQcm9kdWN0cywKICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmMikgewogICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgICAgdmFyIGFsbFByb2R1Y3RzID0gX3JlZjIuZGF0YS5hbGxQcm9kdWN0czsKICAgICAgICAgIHZhciBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5hdXRvY29tcGxldGUiKTsKICAgICAgICAgIHZhciBkYXRhID0gdGhpcy50b09iamVjdChhbGxQcm9kdWN0cyk7CiAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgfTsKCiAgICAgICAgICBvcHRpb25zLm9uQXV0b2NvbXBsZXRlID0gZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICBfdGhpczIucHJvZHVjdCA9IHZhbDsKICAgICAgICAgIH07CgogICAgICAgICAgTS5BdXRvY29tcGxldGUuaW5pdChlbGVtcywgb3B0aW9ucyk7CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICJ2YWxpZGF0aW9uLmVycm9ycyI6IGZ1bmN0aW9uIHZhbGlkYXRpb25FcnJvcnMoKSB7CiAgICAgIHZhciBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaW5wdXQtZmllbGQgYnV0dG9uIik7CgogICAgICBpZiAodGhpcy52YWxpZGF0aW9uLmVycm9ycy5sZW5ndGggPiAyKSB7CiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMudHJhbnNhY3Rpb24pIHsKICAgICAgICAgIHRoaXMudmFsaWRhdGlvbi50b3VjaGVkUmVjb3Jkcy5sZW5ndGggPiAxID8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7CiAgICAgICAgICB9LCA0MDAwKSA6ICIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYnRuLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKTsKICAgICAgICAgIH0sIDQwMDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHF0eXM6IGZ1bmN0aW9uIHF0eXMoKSB7CiAgICAgIHZhciB0b3RhbCA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucXR5cy5sZW5ndGg7ICsraSkgewogICAgICAgIHRoaXMucHJvZHVjdHNbaV0ucXR5ID0gdGhpcy5xdHlzW2ldOwogICAgICAgIHRvdGFsID0gdG90YWwgKyB0aGlzLnByb2R1Y3RzW2ldLnByaWNlICogdGhpcy5wcm9kdWN0c1tpXS5xdHk7CiAgICAgIH0KCiAgICAgIHRoaXMudG90YWwgPSB0b3RhbDsKICAgIH0sCiAgICBkaXNjb3VudFR5cGU6IGZ1bmN0aW9uIGRpc2NvdW50VHlwZSgpIHsKICAgICAgaWYgKHRoaXMuZGlzY291bnRUeXBlID09ICJ2YWx1ZSIpIHsKICAgICAgICB0aGlzLmlzVmFsdWUgPSB0cnVlOwogICAgICAgIHRoaXMuaXNQZXJjZW50ID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXNjb3VudCA9PSAicGVyY2VudCIpIHsKICAgICAgICB0aGlzLmlzUGVyY2VudCA9IHRydWU7CiAgICAgICAgdGhpcy5pc1ZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBwcm9kdWN0czogZnVuY3Rpb24gcHJvZHVjdHMoKSB7CiAgICAgIHZhciB0b3RhbCA9IDA7CiAgICAgIHRoaXMucHJvZHVjdHMuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIHRvdGFsID0gdG90YWwgKyBwcm9kdWN0LnByaWNlICogcHJvZHVjdC5xdHk7CiAgICAgIH0pOwogICAgICB0aGlzLnRvdGFsID0gdG90YWw7CiAgICB9LAogICAgZGlzY291bnQ6IGZ1bmN0aW9uIGRpc2NvdW50KCkgewogICAgICBpZiAodGhpcy5kaXNjb3VudFR5cGUgPT0gInZhbHVlIikgewogICAgICAgIHRoaXMuZGlzY291bnRWYWx1ZSA9IHRoaXMuZGlzY291bnQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXNjb3VudFR5cGUgPT0gInBlcmNlbnQiKSB7CiAgICAgICAgdGhpcy5kaXNjb3VudFZhbHVlID0gdGhpcy50b3RhbCAqIHRoaXMuZGlzY291bnQgLyAxMDA7CiAgICAgIH0KICAgIH0sCiAgICBwcm9kdWN0OiBmdW5jdGlvbiBwcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaW5wdXQtZmllbGQgYnV0dG9uIik7CiAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwgImRpc2FibGVkIik7CiAgICAgIHZhciBwcm9kdWN0ID0gdGhpcy5hbGxQcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdC5pc2JuID09IF90aGlzMy5wcm9kdWN0IHx8IHByb2R1Y3QubmFtZSA9PSBfdGhpczMucHJvZHVjdCA/IHByb2R1Y3QgOiAiIjsKICAgICAgfSk7CgogICAgICBpZiAocHJvZHVjdFswXSkgewogICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmF1dG9jb21wbGV0ZS1jb250ZW50Iik7CiAgICAgICAgaWYgKGVsZW0pIGVsZW0uc3R5bGUub3BhY2l0eSA9IDA7CgogICAgICAgIGlmICh0aGlzLnByb2R1Y3RzSWRzLmluY2x1ZGVzKHByb2R1Y3RbMF0uaWQpKSB7CiAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnByb2R1Y3RzSWRzLmluZGV4T2YocHJvZHVjdFswXS5pZCk7CiAgICAgICAgICB0aGlzLnByb2R1Y3RBbHJlYWR5QWRkZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMucXR5SW5jcmVhc2VkID0gdHJ1ZTsKICAgICAgICAgIHRoaXMucHJvZHVjdEFkZGVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnF0eXNbaW5kZXhdID0gdGhpcy5xdHlzW2luZGV4XSArIDE7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMzLnF0eUluY3JlYXNlZCA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczMucHJvZHVjdCA9ICIiOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucXR5cy5wdXNoKDEpOwogICAgICAgICAgdGhpcy5wcm9kdWN0QWRkZWQgPSB0cnVlOwogICAgICAgICAgcHJvZHVjdFswXS5xdHkgPSB0aGlzLnF0eXNbdGhpcy5xdHlzLmxlbmd0aCAtIDFdOwogICAgICAgICAgdGhpcy5wcm9kdWN0cy5wdXNoKHByb2R1Y3RbMF0pOwogICAgICAgICAgdGhpcy5wcm9kdWN0c0lkcy5wdXNoKHByb2R1Y3RbMF0uaWQpOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy5wcm9kdWN0QWRkZWQgPSBmYWxzZTsKICAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgdGhpcy5wcm9kdWN0ID0gIiI7CiAgICAgICAgfQoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy52YWxpZGF0aW9uLnRvdWNoZWRSZWNvcmRzLmxlbmd0aCA+IDEgPyBidG4ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpIDogIiI7CiAgICAgICAgfSwgNDAwMCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbW92ZVByb2R1Y3Q6IGZ1bmN0aW9uIHJlbW92ZVByb2R1Y3QoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnByb2R1Y3RzID0gdGhpcy5wcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdCAhPT0gX3RoaXM0LnByb2R1Y3RzW2luZGV4XSA/IHByb2R1Y3QgOiAiIjsKICAgICAgfSk7CiAgICAgIHRoaXMucXR5cyA9IHRoaXMucXR5cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdCAhPT0gX3RoaXM0LnF0eXNbaW5kZXhdID8gcHJvZHVjdCA6ICIiOwogICAgICB9KTsKICAgICAgdGhpcy5wcm9kdWN0c0lkcyA9IHRoaXMucHJvZHVjdHNJZHMuZmlsdGVyKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgcmV0dXJuIHByb2R1Y3QgIT09IF90aGlzNC5wcm9kdWN0c0lkc1tpbmRleF0gPyBwcm9kdWN0IDogIiI7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICB0aGlzLmN1c3RvbWVyID0gIiI7CiAgICAgIHRoaXMucHJvZHVjdCA9ICIiOwogICAgICB0aGlzLmJyYW5jaCA9ICIiOwogICAgICB0aGlzLnByb2R1Y3RzSWRzID0gW107CiAgICAgIHRoaXMucXR5cyA9IFtdOwogICAgICB0aGlzLnByb2R1Y3RBbHJlYWR5QWRkZWQgPSBmYWxzZTsKICAgICAgdGhpcy5wcm9kdWN0QWRkZWQgPSBmYWxzZTsKICAgICAgdGhpcy5wcm9kdWN0cyA9IFtdOwogICAgICB0aGlzLmxvYWRTZWxlY3RzKCk7CiAgICB9LAogICAgaW5jcmVhc2VRdHk6IGZ1bmN0aW9uIGluY3JlYXNlUXR5KGluZGV4KSB7CiAgICAgIHRoaXMucXR5c1tpbmRleF0gPSB0aGlzLnF0eXNbaW5kZXhdICsgMTsKICAgICAgdGhpcy5xdHlzID0gdGhpcy5xdHlzOwogICAgfSwKICAgIGRlY3JlYXNlUXR5OiBmdW5jdGlvbiBkZWNyZWFzZVF0eShpbmRleCkgewogICAgICB0aGlzLnF0eXNbaW5kZXhdID0gdGhpcy5xdHlzW2luZGV4XSAtIDE7CiAgICB9LAogICAgdG9PYmplY3Q6IGZ1bmN0aW9uIHRvT2JqZWN0KGFycikgewogICAgICB2YXIgcnYgPSB7fTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7CiAgICAgICAgYXJyW2ldICE9PSB1bmRlZmluZWQgPyBydlthcnJbaV0ubmFtZV0gPSBudWxsIDogIiI7CiAgICAgICAgYXJyW2ldICE9PSB1bmRlZmluZWQgPyBydlthcnJbaV0uaXNibl0gPSBudWxsIDogIiI7CiAgICAgIH0KCiAgICAgIHJldHVybiBydjsKICAgIH0sCiAgICBsb2FkU2VsZWN0czogZnVuY3Rpb24gbG9hZFNlbGVjdHMoKSB7CiAgICAgIHZhciBzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2VsZWN0Iik7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KHNlbGVjdHMsIHt9KTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAogICAgc3VibWl0dGVkOiBmdW5jdGlvbiBzdWJtaXR0ZWQoKSB7CiAgICAgIHRoaXMudHJhbnNhY3Rpb24gPyB0aGlzLiRyb3V0ZS5uYW1lID09ICJ0cmFuc2FjdGlvbnMuYXBwcm92ZSIgPyB0aGlzLmFwcHJvdmVUcmFuc2FjdGlvbigpIDogdGhpcy51cGRhdGVUcmFuc2FjdGlvbigpIDogdGhpcy5jcmVhdGVUcmFuc2FjdGlvbigpOwogICAgfSwKICAgIGFycmF5c0RpZmY6IGZ1bmN0aW9uIGFycmF5c0RpZmYoYXJyMSwgYXJyMikgewogICAgICBhcnIxLnNvcnQoKTsKICAgICAgYXJyMi5zb3J0KCk7CiAgICAgIHZhciBhID0gW10sCiAgICAgICAgICBkaWZmID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycjEubGVuZ3RoOyBpKyspIHsKICAgICAgICBhW2FycjFbaV1dID0gdHJ1ZTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFycjIubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgaWYgKGFbYXJyMltfaV1dKSB7CiAgICAgICAgICBkZWxldGUgYVthcnIyW19pXV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFbYXJyMltfaV1dID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGsgaW4gYSkgewogICAgICAgIGRpZmYucHVzaChrKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRpZmY7CiAgICB9LAogICAgYXBwcm92ZVRyYW5zYWN0aW9uOiBmdW5jdGlvbiBhcHByb3ZlVHJhbnNhY3Rpb24oKSB7CiAgICAgIHZhciB0cmFuc2FjdGlvbklkcyA9IFtdOwogICAgICB2YXIgdHJhbnNhY3Rpb25RdHlzID0gW107CiAgICAgIHRoaXMudHJhbnNhY3Rpb24ucHJvZHVjdHMuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIHRyYW5zYWN0aW9uSWRzLnB1c2gocHJvZHVjdC5pZCk7CiAgICAgIH0pOwogICAgICB0aGlzLnRyYW5zYWN0aW9uLnByb2R1Y3RzUGl2b3QuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIHRyYW5zYWN0aW9uUXR5cy5wdXNoKHByb2R1Y3QucXR5KTsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5hcnJheXNEaWZmKHRoaXMucHJvZHVjdHNJZHMsIHRyYW5zYWN0aW9uSWRzKS5sZW5ndGggPT0gMCkgewogICAgICAgIGlmICh0aGlzLmFycmF5c0RpZmYodGhpcy5xdHlzLCB0cmFuc2FjdGlvblF0eXMpLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgaHRtbDogIiIuY29uY2F0KHRoaXMuJHQoImFwcHJvdmVkX3N1Y2Nlc3NmdWxseSIsIHsKICAgICAgICAgICAgICBuYW1lOiAidHJhbnNhY3Rpb24iCiAgICAgICAgICAgIH0pKSwKICAgICAgICAgICAgY2xhc3NlczogInN1Y2Nlc3MgdG9hc3QiLAogICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAzMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMucmVtYWluSGVyZSA/ICIiIDogdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAidHJhbnNhY3Rpb25zLmluZGV4IgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXBkYXRlVHJhbnNhY3Rpb246IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zYWN0aW9uKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiB1cGRhdGVUcmFuc2FjdGlvblByb2R1Y3QsCiAgICAgICAgLy8gUGFyYW1ldGVycwogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgdHJhbnNhY3Rpb246IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCksCiAgICAgICAgICBxdHlzOiB0aGlzLnF0eXMsCiAgICAgICAgICBicmFuY2g6IHRoaXMuYnJhbmNoLAogICAgICAgICAgcHJvZHVjdHM6IHRoaXMucHJvZHVjdHNJZHMKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIE0udG9hc3QoewogICAgICAgICAgaHRtbDogIiIuY29uY2F0KF90aGlzNS4kdCgidXBkYXRlZF9zdWNjZXNzZnVsbHkiLCB7CiAgICAgICAgICAgIG5hbWU6ICJ0cmFuc2FjdGlvbiIKICAgICAgICAgIH0pKSwKICAgICAgICAgIGNsYXNzZXM6ICJzdWNjZXNzIHRvYXN0IiwKICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDMwMDAKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXM1LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAidHJhbnNhY3Rpb25zLmluZGV4IgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVUcmFuc2FjdGlvbjogZnVuY3Rpb24gY3JlYXRlVHJhbnNhY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGNyZWF0ZVRyYW5zYWN0aW9uUHJvZHVjdCwKICAgICAgICAvLyBQYXJhbWV0ZXJzCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBicmFuY2g6IHRoaXMuYnJhbmNoLAogICAgICAgICAgZnJvbV9icmFuY2g6IHRoaXMuZnJvbUJyYW5jaCwKICAgICAgICAgIHF0eXM6IHRoaXMucXR5cywKICAgICAgICAgIHByb2R1Y3RzOiB0aGlzLnByb2R1Y3RzSWRzCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgIGh0bWw6ICIiLmNvbmNhdChfdGhpczYuJHQoImNyZWF0ZWRfc3VjY2Vzc2Z1bGx5IiwgewogICAgICAgICAgICBuYW1lOiAidHJhbnNhY3Rpb24iCiAgICAgICAgICB9KSksCiAgICAgICAgICBjbGFzc2VzOiAic3VjY2VzcyB0b2FzdCIsCiAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAzMDAwCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNi5yZXNldEZvcm0oKTsKCiAgICAgICAgX3RoaXM2LnJlbWFpbkhlcmUgPyAiIiA6IF90aGlzNi4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogInRyYW5zYWN0aW9ucy5pbmRleCIKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIC8vY29uc29sZS5sb2coZSkKICAgICAgICBfdGhpczYudmFsaWRhdGlvbkVycm9yID0gX3RoaXM2LiR0KCJicmFuY2hfcmVxdWlyZWQiKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkU2VsZWN0cygpOwogIH0KfTs="},{"version":3,"sources":["/root/ahmed/vueJs/systemfinal/src/mixins/EditAddTransactionsMixin.js"],"names":["Breadcrumbs","M","SimpleVueValidation","transactionQuery","createTransactionProduct","updateTransactionProduct","allBranches","allProducts","Validator","components","data","path","title","route","transaction","note","qtyIncreased","discount","total","remainHere","discountType","isValue","isPercent","isbn","customer","fromBranch","product","branch","productsIds","discountValue","qtys","productAlreadyAdded","productAdded","products","id","validationError","fregment","validators","value","maxLength","digit","required","apollo","query","variables","parseInt","$route","params","result","name","forEach","push","productsPivot","qty","elems","document","querySelectorAll","toObject","options","onAutocomplete","val","Autocomplete","init","watch","btn","querySelector","validation","errors","length","setAttribute","touchedRecords","setTimeout","removeAttribute","i","price","filter","elem","style","opacity","includes","index","indexOf","methods","removeProduct","resetForm","loadSelects","increaseQty","decreaseQty","arr","rv","undefined","selects","FormSelect","submitted","approveTransaction","updateTransaction","createTransaction","arraysDiff","arr1","arr2","sort","a","diff","k","transactionIds","transactionQtys","toast","html","$t","classes","displayLength","$router","$apollo","mutate","mutation","then","from_branch","catch","mounted"],"mappings":"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","sourcesContent":["import Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport M from \"materialize-css\";\nimport SimpleVueValidation from \"simple-vue-validator\";\nimport {\n  transactionQuery,\n  createTransactionProduct,\n  updateTransactionProduct,\n  allBranches,\n  allProducts\n} from \"@/graphql/queries/queries.js\";\nconst Validator = SimpleVueValidation.Validator;\nexport default {\n  components: {\n    Breadcrumbs\n  },\n  data() {\n    return {\n      path: [{ title: \"transactions\", route: \"transactions.index\" }],\n      transaction: {},\n      note: \"\",\n      qtyIncreased: false,\n      discount: \"\",\n      total: 0,\n      remainHere: false,\n      discountType: \"\",\n      isValue: \"\",\n      isPercent: \"\",\n      isbn: \"\",\n      customer: \"\",\n      fromBranch:\"\",\n      product: \"\",\n      branch: \"\",\n      productsIds: [],\n      discountValue: 0,\n      qtys: [],\n      productAlreadyAdded: false,\n      productAdded: false,\n      products: [],\n      id: null,\n      allBranches: [],\n      allProducts: [],\n      title: \"create_transaction\",\n      validationError: \"\",\n      fregment: \"\"\n    };\n  },\n  validators: {\n    note(value) {\n      return Validator.value(value).maxLength(250);\n    },\n    discount(value) {\n      return Validator.value(value)\n        .digit()\n        .maxLength(4);\n    },\n    total(value) {\n      return Validator.value(value)\n        .required()\n        .digit()\n        .maxLength(5);\n    },\n    products(value) {\n      return Validator.value(value).required();\n    }\n  },\n\n  apollo: {\n    transaction() {\n      return {\n        query: transactionQuery,\n        variables() {\n          return {\n            id: parseInt(this.$route.params.id)\n          };\n        },\n        result({ data: { transaction } }) {\n          this.branch = transaction.branch.id;\n          if (this.$route.name == \"transactions.edit\") {\n            transaction.products.forEach(product => {\n              this.products.push({ id: product.id, name: product.name });\n              this.productsIds.push(product.id);\n            });\n            transaction.productsPivot.forEach(product => {\n              this.qtys.push(product.qty);\n            });\n\n            this.title = `edit`;\n          } else if (this.$route.name == \"transactions.approve\") {\n            this.title = `approve`;\n          }\n        }\n      };\n    },\n    allBranches() {\n      return {\n        query: allBranches\n      };\n    },\n\n    allProducts() {\n      return {\n        query: allProducts,\n        result({ data: { allProducts } }) {\n          let elems = document.querySelectorAll(\".autocomplete\");\n\n          let data = this.toObject(allProducts);\n\n          let options = { data };\n          options.onAutocomplete = val => {\n            this.product = val;\n          };\n\n          M.Autocomplete.init(elems, options);\n        }\n      };\n    }\n  },\n\n  watch: {\n    \"validation.errors\"() {\n      const btn = document.querySelector(\".input-field button\");\n      if (this.validation.errors.length > 2) {\n        btn.setAttribute(\"disabled\", \"disabled\");\n      } else {\n        if (!this.transaction) {\n          this.validation.touchedRecords.length > 1\n            ? setTimeout(() => {btn.removeAttribute(\"disabled\")},4000)\n            : \"\";\n        } else {\n          setTimeout(() => {btn.removeAttribute(\"disabled\")},4000)\n        }\n      }\n    },\n    qtys() {\n      let total = 0;\n      for (let i = 0; i < this.qtys.length; ++i) {\n        this.products[i].qty = this.qtys[i];\n        total = total + this.products[i].price * this.products[i].qty;\n      }\n      this.total = total;\n    },\n    discountType() {\n      if (this.discountType == \"value\") {\n        this.isValue = true;\n        this.isPercent = false;\n      } else if (this.discount == \"percent\") {\n        this.isPercent = true;\n        this.isValue = false;\n      }\n    },\n    products() {\n      let total = 0;\n      this.products.forEach(product => {\n        total = total + product.price * product.qty;\n      });\n      this.total = total;\n    },\n    discount() {\n      if (this.discountType == \"value\") {\n        this.discountValue = this.discount;\n      } else if (this.discountType == \"percent\") {\n        this.discountValue = (this.total * this.discount) / 100;\n      }\n    },\n    product() {\n      const btn = document.querySelector(\".input-field button\");\n      btn.setAttribute(\"disabled\", \"disabled\");\n      let product = this.allProducts.filter(product => {\n        return product.isbn == this.product || product.name == this.product\n          ? product\n          : \"\";\n      });\n     \n      if (product[0]) {\n        let elem = document.querySelector(\".autocomplete-content\");\n        if (elem) elem.style.opacity = 0;\n        if (this.productsIds.includes(product[0].id)) {\n          let index = this.productsIds.indexOf(product[0].id);\n          this.productAlreadyAdded = false;\n          this.qtyIncreased = true;\n          this.productAdded = false;\n          this.qtys[index] = this.qtys[index] + 1;\n          setTimeout(() => {\n            this.qtyIncreased = false;\n            this.product = \"\";\n          }, 1000);\n        } else {\n          this.qtys.push(1);\n          this.productAdded = true;\n          product[0].qty = this.qtys[this.qtys.length - 1];\n\n          this.products.push(product[0]);\n          this.productsIds.push(product[0].id);\n\n          setTimeout(() => {\n            this.productAdded = false;\n          }, 3000);\n          this.product = \"\";\n        }\n        setTimeout(() => {\n          this.validation.touchedRecords.length > 1\n            ? btn.removeAttribute(\"disabled\")\n            : \"\";\n        }, 4000);\n      }\n    }\n  },\n  methods: {\n    removeProduct(index) {\n      this.products = this.products.filter(product => {\n        return product !== this.products[index] ? product : \"\";\n      });\n      this.qtys = this.qtys.filter(product => {\n        return product !== this.qtys[index] ? product : \"\";\n      });\n      this.productsIds = this.productsIds.filter(product => {\n        return product !== this.productsIds[index] ? product : \"\";\n      });\n    },\n    resetForm() {\n      this.customer = \"\";\n      this.product = \"\";\n      this.branch = \"\";\n      this.productsIds = [];\n      this.qtys = [];\n      this.productAlreadyAdded = false;\n      this.productAdded = false;\n      this.products = [];\n      this.loadSelects();\n    },\n    increaseQty(index) {\n      this.qtys[index] = this.qtys[index] + 1;\n      this.qtys = this.qtys;\n    },\n    decreaseQty(index) {\n      this.qtys[index] = this.qtys[index] - 1;\n    },\n    toObject(arr) {\n      let rv = {};\n      for (var i = 0; i < arr.length; ++i) {\n        arr[i] !== undefined ? (rv[arr[i].name] = null) : \"\";\n        arr[i] !== undefined ? (rv[arr[i].isbn] = null) : \"\";\n      }\n      return rv;\n    },\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      setTimeout(() => {\n        M.FormSelect.init(selects, {});\n      }, 2000);\n    },\n    submitted() {\n      this.transaction\n        ? this.$route.name == \"transactions.approve\"\n          ? this.approveTransaction()\n          : this.updateTransaction()\n        : this.createTransaction();\n    },\n    arraysDiff(arr1, arr2) {\n      arr1.sort();\n      arr2.sort();\n      let a = [],\n        diff = [];\n      for (let i = 0; i < arr1.length; i++) {\n        a[arr1[i]] = true;\n      }\n\n      for (let i = 0; i < arr2.length; i++) {\n        if (a[arr2[i]]) {\n          delete a[arr2[i]];\n        } else {\n          a[arr2[i]] = true;\n        }\n      }\n\n      for (let k in a) {\n        diff.push(k);\n      }\n\n      return diff;\n    },\n\n    approveTransaction() {\n      let transactionIds = [];\n      let transactionQtys = [];\n      this.transaction.products.forEach(product => {\n        transactionIds.push(product.id);\n      });\n      this.transaction.productsPivot.forEach(product => {\n        transactionQtys.push(product.qty);\n      });\n      if (this.arraysDiff(this.productsIds, transactionIds).length == 0) {\n        if (this.arraysDiff(this.qtys, transactionQtys).length == 0) {\n          M.toast({\n            html: `${this.$t(\"approved_successfully\", {\n              name: \"transaction\"\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n          this.remainHere\n            ? \"\"\n            : this.$router.push({ name: \"transactions.index\" });\n        }\n      }\n    },\n    updateTransaction() {\n      this.$apollo\n        .mutate({\n          mutation: updateTransactionProduct,\n          // Parameters\n          variables: {\n            transaction: parseInt(this.$route.params.id),\n            qtys: this.qtys,\n            branch: this.branch,\n            products: this.productsIds\n          }\n        })\n        .then(() => {\n          M.toast({\n            html: `${this.$t(\"updated_successfully\", {\n              name: \"transaction\"\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n          this.$router.push({ name: \"transactions.index\" });\n        });\n    },\n    createTransaction() {\n      this.$apollo\n        .mutate({\n          mutation: createTransactionProduct,\n          // Parameters\n          variables: {\n            branch: this.branch,\n            from_branch: this.fromBranch,\n            qtys: this.qtys,\n            products: this.productsIds\n          }\n        })\n        .then(() => {\n          M.toast({\n            html: `${this.$t(\"created_successfully\", {\n              name: \"transaction\"\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n          this.resetForm();\n          this.remainHere\n            ? \"\"\n            : this.$router.push({ name: \"transactions.index\" });\n        })\n        .catch(() => {\n          //console.log(e)\n          this.validationError = this.$t(\"branch_required\");\n        });\n    }\n  },\n  mounted() {\n    this.loadSelects();\n  }\n};\n"]}]}