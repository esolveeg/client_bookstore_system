{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js!/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/root/ahmed/vueJs/systemfinal/src/mixins/BrowseOrdersMixin.js","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/mixins/BrowseOrdersMixin.js","mtime":1584835602124},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgRGF0YVRhYmxlIGZyb20gIkAvY29tcG9uZW50cy9kYXRhdGFibGUvVGFibGUudnVlIjsKaW1wb3J0IEJyZWFkY3J1bWJzIGZyb20gIkAvY29tcG9uZW50cy9sYXlvdXRzL0JyZWFkY3J1bWJzLnZ1ZSI7CmltcG9ydCB7IGFsbEJyYW5jaGVzIGFzIF9hbGxCcmFuY2hlcywgYWxsVXNlcnMgYXMgX2FsbFVzZXJzLCBvcmRlcnNRdWVyeSwgbWVRdWVyeSwgcG9zRGF0YSBhcyBfcG9zRGF0YSB9IGZyb20gIkAvZ3JhcGhxbC9xdWVyaWVzL3F1ZXJpZXMuanMiOwppbXBvcnQgTSBmcm9tICJtYXRlcmlhbGl6ZS1jc3MiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGRhdGVUbyA9IG1vbWVudCgpLmFkZCgxLCAiZGF5cyIpLnN0YXJ0T2YoImRheSIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgdmFyIGRhdGVGcm9tID0gbW9tZW50KCkuc3RhcnRPZigiZGF5IikuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICB2YXIgY29sdW1ucyA9IFsvLyB7IGxhYmVsOiAiYnJhbmNoIiwgbmFtZTogIkJyYW5jaCIsIGRibmFtZTogImJyYW5jaCIsIHN1YjogIm5hbWUiIH0sCiAgICB7CiAgICAgIGxhYmVsOiAiYnJhbmNoIiwKICAgICAgbmFtZTogImJyYW5jaCIsCiAgICAgIGRibmFtZTogImJyYW5jaF9pZCIKICAgIH0sIHsKICAgICAgbGFiZWw6ICJub3RlIiwKICAgICAgbmFtZTogIm5vdGUiLAogICAgICBkYm5hbWU6ICJub3RlIgogICAgfSwgewogICAgICBsYWJlbDogInRvdGFsIiwKICAgICAgbmFtZTogIlRvdGFsIiwKICAgICAgZGJuYW1lOiAidG90YWwiCiAgICB9LCB7CiAgICAgIGxhYmVsOiAiY3JlYXRlZF9hdCIsCiAgICAgIG5hbWU6ICJjcmVhdGVkX2F0IiwKICAgICAgZGJuYW1lOiAiY3JlYXRlZF9hdCIKICAgIH1dOwogICAgdmFyIHNvcnRpbmcgPSBbewogICAgICBmaWVsZDogImNyZWF0ZWRfYXQiLAogICAgICBvcmRlcjogIkRFU0MiCiAgICB9XTsKICAgIHJldHVybiB7CiAgICAgIGFsbEJyYW5jaGVzOiBbXSwKICAgICAgYWxsVXNlcnM6IFtdLAogICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICBkYXRlRnJvbTogZGF0ZUZyb20sCiAgICAgIGRhdGVUbzogZGF0ZVRvLAogICAgICBzb3J0aW5nOiBzb3J0aW5nLAogICAgICBicmFuY2hJZDogIiIsCiAgICAgIG15b3JkZXJzOiBbXSwKICAgICAgcG9zRGF0YUQ6IHt9LAogICAgICB1c2VySWRGaWx0ZXI6ICIiLAogICAgICBvcmRlcnNRdWVyeTogW10sCiAgICAgIHVzZXJJZDogIiIsCiAgICAgIHRpdGxlOiAib3JkZXJzIiwKICAgICAgY2FuQWRkOiBmYWxzZSwKICAgICAgY2FuRGVsZXRlOiBmYWxzZSwKICAgICAgY2FuVmlldzogZmFsc2UsCiAgICAgIGNhbkVkaXQ6IGZhbHNlLAogICAgICBidG5zOiBbXQogICAgfTsKICB9LAogIGFwb2xsbzogewogICAgYWxsQnJhbmNoZXM6IGZ1bmN0aW9uIGFsbEJyYW5jaGVzKCkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiBfYWxsQnJhbmNoZXMKICAgICAgfTsKICAgIH0sCiAgICBhbGxVc2VyczogZnVuY3Rpb24gYWxsVXNlcnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcXVlcnk6IF9hbGxVc2VycwogICAgICB9OwogICAgfSwKICAgIG1lOiB7CiAgICAgIHF1ZXJ5OiBtZVF1ZXJ5LAogICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIG1lID0gX3JlZi5kYXRhLm1lOwogICAgICAgIHZhciBwZXJtaXNzaW9ucyA9IFtdOwogICAgICAgIG1lLnJvbGVzLmZvckVhY2goZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgICAgIGlmIChyb2xlLnNsdWcgPT0gInBvcyIpIHsKICAgICAgICAgICAgX3RoaXMudXNlcklkID0gbWUuaWQ7CiAgICAgICAgICAgIF90aGlzLmJyYW5jaElkID0gbWUuZW1wbG95ZWUuYnJhbmNoLmlkOwoKICAgICAgICAgICAgX3RoaXMucG9zRGF0YSgpOwogICAgICAgICAgfQoKICAgICAgICAgIHJvbGUucGVybWlzc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAocGVyKSB7CiAgICAgICAgICAgIHBlcm1pc3Npb25zLnB1c2gocGVyLnNsdWcpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcGVybWlzc2lvbnMuaW5jbHVkZXMoImNyZWF0ZV9vcmRlcnMiKSA/IHRoaXMuY2FuQWRkID0gdHJ1ZSA6ICIiOwogICAgICAgIHBlcm1pc3Npb25zLmluY2x1ZGVzKCJkZWxldGVfb3JkZXJzIikgPyB0aGlzLmNhbkRlbGV0ZSA9IHRydWUgOiAiIjsKCiAgICAgICAgaWYgKHBlcm1pc3Npb25zLmluY2x1ZGVzKCJlZGl0X29yZGVycyIpKSB7CiAgICAgICAgICB0aGlzLmNhbkVkaXQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHBlcm1pc3Npb25zLmluY2x1ZGVzKCJyZWFkX29yZGVycyIpID8gdGhpcy5jYW5WaWV3ID0gdHJ1ZSA6ICIiOwogICAgICB9CiAgICB9LAogICAgb3JkZXJzUXVlcnk6IHsKICAgICAgcXVlcnk6IG9yZGVyc1F1ZXJ5LAogICAgICAvLyBmZXRjaFBvbGljeTogJ2NhY2hlLWFuZC1uZXR3b3JrJywKICAgICAgdmFyaWFibGVzOiBmdW5jdGlvbiB2YXJpYWJsZXMoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGZpcnN0OiB0aGlzLnRhYmxlRGF0YS5sZW5ndGgsCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2UsCiAgICAgICAgICBmcm9tOiB0aGlzLmRhdGVGcm9tLAogICAgICAgICAgdG86IHRoaXMuZGF0ZVRvLAogICAgICAgICAgY3JlYXRlZF9ieTogdGhpcy51c2VySWRGaWx0ZXIsCiAgICAgICAgICBvcmRlckJ5OiB0aGlzLnNvcnRpbmdbMF0uZmllbGQsCiAgICAgICAgICBvcmRlckZ1bmM6IHRoaXMuc29ydGluZ1swXS5vcmRlciwKICAgICAgICAgIGJyYW5jaDogdGhpcy5icmFuY2hJZCwKICAgICAgICAgIHNlYXJjaDogdGhpcy50YWJsZURhdGEuc2VhcmNoCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgcmVzdWx0OiBmdW5jdGlvbiByZXN1bHQoX3JlZjIpIHsKICAgICAgICB2YXIgb3JkZXJzID0gX3JlZjIuZGF0YS5vcmRlcnM7CiAgICAgICAgdGhpcy5vcmRlcnMgPSBvcmRlcnM7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIHBvbGxJbnRlcnZhbDogMTAwMAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGJyYW5jaDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbHVlKSB7CiAgICAgICAgdmFsdWUgPyB0aGlzLmJyYW5jaElkID0gdmFsdWUgOiAiIjsKICAgICAgfQogICAgfSwKICAgIC8vIGRhdGVGcm9tOnsKICAgIC8vICAgaGFuZGxlcigpewogICAgLy8gICAgIHRoaXMuJGFwb2xsby5xdWVyaWVzLm9yZGVycy5yZWZyZXNoKCkKICAgIC8vICAgfQogICAgLy8gfSwKICAgIC8vIGRhdGVUbzp7CiAgICAvLyAgIGhhbmRsZXIoKXsKICAgIC8vICAgICB0aGlzLiRhcG9sbG8ucXVlcmllcy5vcmRlcnMucmVmcmVzaCgpCiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyB1c2VySWRGaWx0ZXI6ewogICAgLy8gICBoYW5kbGVyKCl7CiAgICAvLyAgICAgdGhpcy4kYXBvbGxvLnF1ZXJpZXMub3JkZXJzLnJlZnJlc2goKQogICAgLy8gICB9CiAgICAvLyB9LAogICAgaWRzOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsdWUpIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmJ0bnMuaW5kZXhPZih0aGlzLmRlbGV0ZUJ0bik7CiAgICAgICAgdmFsdWUubGVuZ3RoID4gMCAmJiB0aGlzLmNhbkRlbGV0ZSA/IHRoaXMuYnRucy5pbmNsdWRlcyh0aGlzLmRlbGV0ZUJ0bikgPyAiIiA6IHRoaXMuYnRucy5wdXNoKHRoaXMuZGVsZXRlQnRuKSA6IGluZGV4ID4gLTEgPyB0aGlzLmJ0bnMuc3BsaWNlKGluZGV4LCAxKSA6ICIiOwogICAgICB9CiAgICB9LAogICAgY2FuQWRkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsdWUpIHsKICAgICAgICB2YWx1ZSA/IHRoaXMuYnRucy5wdXNoKHRoaXMuY3JlYXRlQnRuKSA6ICIiOwogICAgICB9CiAgICB9LAogICAgY2FuRGVsZXRlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsdWUpIHsKICAgICAgICB2YWx1ZSA/IHRoaXMuaWRzLmxlbmd0aCA+IDAgPyB0aGlzLmJ0bnMucHVzaCh0aGlzLmRlbGV0ZUJ0bikgOiAiIiA6ICIiOwogICAgICB9CiAgICB9CiAgfSwKICBzdG9yZTogewogICAgbW9kZWw6ICJkZWxldGVkX21vZGVsIiwKICAgIGlkczogInNlbGVjdGVkX2lkcyIsCiAgICBtZTogIm1lIiwKICAgIGRlbGV0ZUJ0bjogImRlbGV0ZUJ0biIsCiAgICBpc1BvczogImlzUG9zIiwKICAgIGNyZWF0ZUJ0bjogImNyZWF0ZUJ0biIsCiAgICBwZXJQYWdlOiAicGVyUGFnZSIsCiAgICBwYWdlOiAiY3VycmVudF9wYWdlIiwKICAgIGRlbGV0ZWRJZDogImRlbGV0ZWRfaWQiLAogICAgYnJhbmNoOiAiYnJhbmNoX2lkIiwKICAgIGRlbGV0ZWROYW1lOiAiZGVsZXRlZF9uYW1lIiwKICAgIHRhYmxlRGF0YTogInRhYmxlRGF0YSIKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZE1hcmdpbjogZnVuY3Rpb24gYWRkTWFyZ2luKCkgey8vIGNvbnNvbGUubG9nKCdjbGljaycpCiAgICB9LAogICAgbG9hZFNlbGVjdHM6IGZ1bmN0aW9uIGxvYWRTZWxlY3RzKCkgewogICAgICB2YXIgc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNlbGVjdCIpOwogICAgICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuZGF0ZXBpY2tlciIpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBNLkRhdGVwaWNrZXIuaW5pdChlbGVtcywge30pOwogICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KHNlbGVjdHMsIHt9KTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAogICAgcG9zRGF0YTogZnVuY3Rpb24gcG9zRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogX3Bvc0RhdGEsCiAgICAgICAgLy8gUGFyYW1ldGVycwogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWQ6IHRoaXMudXNlcklkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLnBvc0RhdGFEID0gZGF0YS5kYXRhLnBvc0RhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGJ1bGtkZWxldGU6IGZ1bmN0aW9uIGJ1bGtkZWxldGUoKSB7CiAgICAgIHRoaXMubW9kZWwgPSAib3JkZXJzIjsKICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbXVsdGktZGVsZXRlLW1vZGFsIik7CiAgICAgIHZhciBpbnN0YW5jZSA9IE0uTW9kYWwuZ2V0SW5zdGFuY2UoZWxlbSk7CiAgICAgIGluc3RhbmNlLm9wZW4oKTsgLy8gY29uc29sZS5sb2coImRlbGV0ZyIpOwogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIm9yZGVycy5jcmVhdGUiCiAgICAgIH0pOwogICAgfSwKICAgIGdvVG9WaWV3OiBmdW5jdGlvbiBnb1RvVmlldyhpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIm9yZGVycy52aWV3IiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBwYXJzZUludChpZCkKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdvVG9FZGl0OiBmdW5jdGlvbiBnb1RvRWRpdChpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIm9yZGVycy5lZGl0IiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBwYXJzZUludChpZCkKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldERlbGV0ZURhdGE6IGZ1bmN0aW9uIHNldERlbGV0ZURhdGEoZGF0YSkgewogICAgICB0aGlzLmRlbGV0ZWROYW1lID0gZGF0YS5uYW1lOwogICAgICB0aGlzLmRlbGV0ZWRJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMubW9kZWwgPSAib3JkZXJzIjsKICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZGVsZXRlLW1vZGFsIik7CiAgICAgIHZhciBpbnN0YW5jZSA9IE0uTW9kYWwuZ2V0SW5zdGFuY2UoZWxlbSk7CiAgICAgIGluc3RhbmNlLm9wZW4oKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRTZWxlY3RzKCk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBEYXRhVGFibGU6IERhdGFUYWJsZSwKICAgIEJyZWFkY3J1bWJzOiBCcmVhZGNydW1icwogIH0KfTs="},{"version":3,"sources":["/root/ahmed/vueJs/systemfinal/src/mixins/BrowseOrdersMixin.js"],"names":["DataTable","Breadcrumbs","allBranches","allUsers","ordersQuery","meQuery","posData","M","moment","data","dateTo","add","startOf","format","dateFrom","columns","label","name","dbname","sorting","field","order","branchId","myorders","posDataD","userIdFilter","userId","title","canAdd","canDelete","canView","canEdit","btns","apollo","query","me","result","permissions","roles","forEach","role","slug","id","employee","branch","per","push","includes","variables","first","tableData","length","page","from","to","created_by","orderBy","orderFunc","search","orders","deep","pollInterval","watch","handler","value","ids","index","indexOf","deleteBtn","splice","createBtn","store","model","isPos","perPage","deletedId","deletedName","methods","addMargin","loadSelects","selects","document","querySelectorAll","elems","setTimeout","Datepicker","init","FormSelect","$apollo","mutate","mutation","then","bulkdelete","elem","querySelector","instance","Modal","getInstance","open","create","$router","goToView","params","parseInt","goToEdit","setDeleteData","mounted","components"],"mappings":"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","sourcesContent":["import DataTable from \"@/components/datatable/Table.vue\";\nimport Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport {\n  allBranches,\n  allUsers,\n  ordersQuery,\n  meQuery,\n  posData\n} from \"@/graphql/queries/queries.js\";\nimport M from \"materialize-css\";\nimport moment from \"moment\";\n\nexport default {\n  data() {\n    let dateTo = moment()\n      .add(1, \"days\")\n      .startOf(\"day\")\n      .format(\"YYYY-MM-DD\");\n    let dateFrom = moment()\n      .startOf(\"day\")\n      .format(\"YYYY-MM-DD\");\n    let columns = [\n      // { label: \"branch\", name: \"Branch\", dbname: \"branch\", sub: \"name\" },\n      { label: \"branch\", name: \"branch\", dbname: \"branch_id\" },\n      { label: \"note\", name: \"note\", dbname: \"note\" },\n      { label: \"total\", name: \"Total\", dbname: \"total\" },\n      { label: \"created_at\", name: \"created_at\", dbname: \"created_at\" }\n    ];\n    let sorting = [{ field: \"created_at\", order: \"DESC\" }];\n    return {\n      allBranches: [],\n      allUsers: [],\n      columns,\n      dateFrom,\n      dateTo,\n      sorting,\n      branchId: \"\",\n      myorders: [],\n      posDataD: {},\n      userIdFilter: \"\",\n      ordersQuery: [],\n      userId: \"\",\n      title: \"orders\",\n      canAdd: false,\n      canDelete: false,\n      canView: false,\n      canEdit: false,\n      btns: []\n    };\n  },\n  apollo: {\n    allBranches() {\n      return {\n        query: allBranches\n      };\n    },\n    allUsers() {\n      return {\n        query: allUsers\n      };\n    },\n    me: {\n      query: meQuery,\n      result({ data: { me } }) {\n        let permissions = [];\n        me.roles.forEach(role => {\n          if (role.slug == \"pos\") {\n            this.userId = me.id;\n            this.branchId = me.employee.branch.id;\n            this.posData();\n          }\n          role.permissions.forEach(per => {\n            permissions.push(per.slug);\n          });\n        });\n        permissions.includes(\"create_orders\") ? (this.canAdd = true) : \"\";\n        permissions.includes(\"delete_orders\") ? (this.canDelete = true) : \"\";\n        if (permissions.includes(\"edit_orders\")) {\n          this.canEdit = false;\n        }\n        permissions.includes(\"read_orders\") ? (this.canView = true) : \"\";\n      }\n    },\n\n    ordersQuery: {\n      query: ordersQuery,\n      // fetchPolicy: 'cache-and-network',\n      variables() {\n        return {\n          first: this.tableData.length,\n          page: this.page,\n          from: this.dateFrom,\n          to: this.dateTo,\n          created_by: this.userIdFilter,\n\n          orderBy: this.sorting[0].field,\n          orderFunc: this.sorting[0].order,\n          branch: this.branchId,\n          search: this.tableData.search\n        };\n      },\n      result({ data: { orders } }) {\n        this.orders = orders;\n      },\n      deep: true,\n      pollInterval: 1000\n    }\n  },\n  watch: {\n    branch: {\n      handler(value) {\n        value ? (this.branchId = value) : \"\";\n      }\n    },\n    // dateFrom:{\n    //   handler(){\n    //     this.$apollo.queries.orders.refresh()\n    //   }\n    // },\n    // dateTo:{\n    //   handler(){\n    //     this.$apollo.queries.orders.refresh()\n    //   }\n    // },\n    // userIdFilter:{\n    //   handler(){\n    //     this.$apollo.queries.orders.refresh()\n    //   }\n    // },\n    ids: {\n      handler(value) {\n        let index = this.btns.indexOf(this.deleteBtn);\n        value.length > 0 && this.canDelete\n          ? this.btns.includes(this.deleteBtn)\n            ? \"\"\n            : this.btns.push(this.deleteBtn)\n          : index > -1\n          ? this.btns.splice(index, 1)\n          : \"\";\n      }\n    },\n    canAdd: {\n      handler(value) {\n        value ? this.btns.push(this.createBtn) : \"\";\n      }\n    },\n    canDelete: {\n      handler(value) {\n        value\n          ? this.ids.length > 0\n            ? this.btns.push(this.deleteBtn)\n            : \"\"\n          : \"\";\n      }\n    }\n  },\n  store: {\n    model: \"deleted_model\",\n    ids: \"selected_ids\",\n    me: \"me\",\n    deleteBtn: \"deleteBtn\",\n    isPos: \"isPos\",\n    createBtn: \"createBtn\",\n    perPage: \"perPage\",\n    page: \"current_page\",\n    deletedId: \"deleted_id\",\n    branch: \"branch_id\",\n    deletedName: \"deleted_name\",\n    tableData: \"tableData\"\n  },\n  methods: {\n    addMargin() {\n      // console.log('click')\n    },\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      let elems = document.querySelectorAll(\".datepicker\");\n      setTimeout(() => {\n        M.Datepicker.init(elems, {});\n        M.FormSelect.init(selects, {});\n      }, 2000);\n    },\n    posData() {\n      this.$apollo\n        .mutate({\n          mutation: posData,\n          // Parameters\n          variables: {\n            id: this.userId\n          }\n        })\n        .then(data => {\n          this.posDataD = data.data.posData;\n        });\n    },\n    bulkdelete() {\n      this.model = \"orders\";\n      let elem = document.querySelector(\"#multi-delete-modal\");\n      let instance = M.Modal.getInstance(elem);\n      instance.open();\n      // console.log(\"deletg\");\n    },\n    create() {\n      this.$router.push({ name: \"orders.create\" });\n    },\n    goToView(id) {\n      this.$router.push({ name: \"orders.view\", params: { id: parseInt(id) } });\n    },\n    goToEdit(id) {\n      this.$router.push({ name: \"orders.edit\", params: { id: parseInt(id) } });\n    },\n    setDeleteData(data) {\n      this.deletedName = data.name;\n      this.deletedId = data.id;\n      this.model = \"orders\";\n      let elem = document.querySelector(\"#delete-modal\");\n      let instance = M.Modal.getInstance(elem);\n      instance.open();\n    }\n  },\n  mounted() {\n    this.loadSelects();\n  },\n  components: {\n    DataTable,\n    Breadcrumbs\n  }\n};\n"]}]}