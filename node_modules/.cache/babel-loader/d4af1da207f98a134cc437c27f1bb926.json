{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js!/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/root/ahmed/vueJs/systemfinal/src/classes/Form.js","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/classes/Form.js","mtime":1603903913042},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL3Jvb3QvYWhtZWQvdnVlSnMvc3lzdGVtZmluYWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9yb290L2FobWVkL3Z1ZUpzL3N5c3RlbWZpbmFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IEVycm9ycyBmcm9tICIuL0Vycm9ycyI7CmltcG9ydCBodHRwIGZyb20gIi4uL2F4aW9zL2luZGV4IjsKCnZhciBGb3JtID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRm9ybShkYXRhKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9ybSk7CgogICAgdGhpcy5vcmlnaW5hbERhdGEgPSBkYXRhOwoKICAgIGZvciAodmFyIGZpZWxkIGluIGRhdGEpIHsKICAgICAgdGhpc1tmaWVsZF0gPSBkYXRhW2ZpZWxkXTsKICAgIH0KCiAgICB0aGlzLmVycm9ycyA9IG5ldyBFcnJvcnMoKTsKICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRm9ybSwgW3sKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsvLyBjb25zb2xlLmxvZyh0aGlzLnZhbGlkYXRpb24pCiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICBmb3IgKHZhciBmaWVsZCBpbiB0aGlzLm9yaWdpbmFsRGF0YSkgewogICAgICAgIHRoaXNbZmllbGRdID0gIiI7CiAgICAgIH0KCiAgICAgIHRoaXMuZXJyb3JzLmNsZWFyKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicG9zdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zdCh1cmwpIHsKICAgICAgcmV0dXJuIHRoaXMuc3VibWl0KCJwb3N0IiwgdXJsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldCh1cmwpIHsKICAgICAgcmV0dXJuIHRoaXMuc3VibWl0KCJnZXQiLCB1cmwpOwogICAgfQogIH0sIHsKICAgIGtleTogInBhdGNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwYXRjaCh1cmwpIHsKICAgICAgcmV0dXJuIHRoaXMuc3VibWl0KCJwYXRjaCIsIHVybCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVsZXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKHVybCkgewogICAgICByZXR1cm4gdGhpcy5zdWJtaXQoImRlbGV0ZSIsIHVybCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwdXQodXJsKSB7CiAgICAgIHJldHVybiB0aGlzLnN1Ym1pdCgicHV0IiwgdXJsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICB2YXIgZGF0YSA9IHt9OwoKICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gdGhpcy5vcmlnaW5hbERhdGEpIHsKICAgICAgICBkYXRhW3Byb3BlcnR5XSA9IHRoaXNbcHJvcGVydHldOwogICAgICB9CgogICAgICByZXR1cm4gZGF0YTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdWJtaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN1Ym1pdChyZXF1ZXN0VHlwZSwgdXJsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgaHR0cFtyZXF1ZXN0VHlwZV0odXJsLCBfdGhpcy5kYXRhKCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpcy5vblN1Y2Nlc3MoKTsKCiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMub25GYWlsKGVycm9yLnJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uU3VjY2VzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdWNjZXNzKCkgewogICAgICB0aGlzLnJlc2V0KCk7IC8vIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIC8vIHRoaXMuaXNMb2FkaW5nKGZhbHNlKQogICAgfQogIH0sIHsKICAgIGtleTogIm9uRmFpbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25GYWlsKGVycm9yKSB7CiAgICAgIGlmIChlcnJvcltbImVycm9ycyJdXSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yW1snZXJyb3InXV0pCiAgICAgICAgLy8gdGhpcy5lcnJvcnMucmVjb3JkKGVycm9yW1siZXJyb3JzIl1dKTsKICAgICAgICAvLyB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5lcnJvcnMucmVjb3JkKHsKICAgICAgICBnZW5lcmFsOiBlcnJvcltbIm1lc3NhZ2UiXV0KICAgICAgfSk7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRm9ybTsKfSgpOwoKZXhwb3J0IHsgRm9ybSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/root/ahmed/vueJs/systemfinal/src/classes/Form.js"],"names":["Errors","http","Form","data","originalData","field","errors","isLoading","clear","url","submit","property","requestType","Promise","resolve","reject","then","response","onSuccess","catch","error","onFail","reset","record","general"],"mappings":";;;AAAA,OAAOA,MAAP;AACA,OAAOC,IAAP;;IAEqBC,I;;;AACnB,gBAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKC,YAAL,GAAoBD,IAApB;;AACA,SAAK,IAAIE,KAAT,IAAkBF,IAAlB,EAAwB;AACtB,WAAKE,KAAL,IAAcF,IAAI,CAACE,KAAD,CAAlB;AACD;;AAED,SAAKC,MAAL,GAAc,IAAIN,MAAJ,EAAd;AACA,SAAKO,SAAL,GAAiB,KAAjB;AACD;;;;+BACU,CACT;AACD;;;4BACO;AACN,WAAK,IAAIF,KAAT,IAAkB,KAAKD,YAAvB,EAAqC;AACnC,aAAKC,KAAL,IAAc,EAAd;AACD;;AAED,WAAKC,MAAL,CAAYE,KAAZ;AACD;;;yBAEIC,G,EAAK;AACR,aAAO,KAAKC,MAAL,CAAY,MAAZ,EAAoBD,GAApB,CAAP;AACD;;;wBAEGA,G,EAAK;AACP,aAAO,KAAKC,MAAL,CAAY,KAAZ,EAAmBD,GAAnB,CAAP;AACD;;;0BAEKA,G,EAAK;AACT,aAAO,KAAKC,MAAL,CAAY,OAAZ,EAAqBD,GAArB,CAAP;AACD;;;4BAEMA,G,EAAK;AACV,aAAO,KAAKC,MAAL,CAAY,QAAZ,EAAsBD,GAAtB,CAAP;AACD;;;wBAEGA,G,EAAK;AACP,aAAO,KAAKC,MAAL,CAAY,KAAZ,EAAmBD,GAAnB,CAAP;AACD;;;2BAEM;AACL,UAAIN,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIQ,QAAT,IAAqB,KAAKP,YAA1B,EAAwC;AACtCD,QAAAA,IAAI,CAACQ,QAAD,CAAJ,GAAiB,KAAKA,QAAL,CAAjB;AACD;;AACD,aAAOR,IAAP;AACD;;;2BAEMS,W,EAAaH,G,EAAK;AAAA;;AACvB,aAAO,IAAII,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAA,KAAI,CAACR,SAAL,GAAiB,IAAjB;AAEAN,QAAAA,IAAI,CAACW,WAAD,CAAJ,CAAkBH,GAAlB,EAAuB,KAAI,CAACN,IAAL,EAAvB,EACGa,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,UAAA,KAAI,CAACC,SAAL;;AACAJ,UAAAA,OAAO,CAACG,QAAQ,CAACd,IAAV,CAAP;AACD,SAJH,EAKGgB,KALH,CAKS,UAAAC,KAAK,EAAI;AACd,UAAA,KAAI,CAACC,MAAL,CAAYD,KAAK,CAACH,QAAN,CAAed,IAA3B;;AACAY,UAAAA,MAAM,CAACK,KAAD,CAAN;AACD,SARH;AASD,OAZM,CAAP;AAaD;;;gCAEW;AACV,WAAKE,KAAL,GADU,CAEV;AACA;AACD;;;2BAEMF,K,EAAO;AACZ,UAAIA,KAAK,CAAC,CAAC,QAAD,CAAD,CAAT,EAAuB;AACrB;AACA;AACA;AACA;AACD;;AACD,WAAKd,MAAL,CAAYiB,MAAZ,CAAmB;AAAEC,QAAAA,OAAO,EAAEJ,KAAK,CAAC,CAAC,SAAD,CAAD;AAAhB,OAAnB;AACA,WAAKb,SAAL,GAAiB,KAAjB;AACD;;;;;;SAhFkBL,I","sourcesContent":["import Errors from \"./Errors\";\nimport http from \"../axios/index\";\n\nexport default class Form {\n  constructor(data) {\n    this.originalData = data;\n    for (let field in data) {\n      this[field] = data[field];\n    }\n\n    this.errors = new Errors();\n    this.isLoading = false;\n  }\n  validate() {\n    // console.log(this.validation)\n  }\n  reset() {\n    for (let field in this.originalData) {\n      this[field] = \"\";\n    }\n\n    this.errors.clear();\n  }\n\n  post(url) {\n    return this.submit(\"post\", url);\n  }\n\n  get(url) {\n    return this.submit(\"get\", url);\n  }\n\n  patch(url) {\n    return this.submit(\"patch\", url);\n  }\n\n  delete(url) {\n    return this.submit(\"delete\", url);\n  }\n\n  put(url) {\n    return this.submit(\"put\", url);\n  }\n\n  data() {\n    let data = {};\n    for (let property in this.originalData) {\n      data[property] = this[property];\n    }\n    return data;\n  }\n\n  submit(requestType, url) {\n    return new Promise((resolve, reject) => {\n      this.isLoading = true;\n\n      http[requestType](url, this.data())\n        .then(response => {\n          this.onSuccess();\n          resolve(response.data);\n        })\n        .catch(error => {\n          this.onFail(error.response.data);\n          reject(error);\n        });\n    });\n  }\n\n  onSuccess() {\n    this.reset();\n    // this.isLoading = false;\n    // this.isLoading(false)\n  }\n\n  onFail(error) {\n    if (error[[\"errors\"]]) {\n      // console.log(error[['error']])\n      // this.errors.record(error[[\"errors\"]]);\n      // this.isLoading = false;\n      return;\n    }\n    this.errors.record({ general: error[[\"message\"]] });\n    this.isLoading = false;\n  }\n}\n"]}]}