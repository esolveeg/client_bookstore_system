{"remainingRequest":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/thread-loader/dist/cjs.js!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/babel-loader/lib/index.js!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddProductsMixin.js","dependencies":[{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddProductsMixin.js","mtime":1609793655126},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":1609793563794},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/thread-loader/dist/cjs.js","mtime":1609793585507},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/babel-loader/lib/index.js","mtime":1609793590147},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/eslint-loader/index.js","mtime":1609793554208}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCBCcmVhZGNydW1icyBmcm9tICJAL2NvbXBvbmVudHMvbGF5b3V0cy9CcmVhZGNydW1icy52dWUiOwppbXBvcnQgTSBmcm9tICJtYXRlcmlhbGl6ZS1jc3MiOwppbXBvcnQgU2ltcGxlVnVlVmFsaWRhdGlvbiBmcm9tICJzaW1wbGUtdnVlLXZhbGlkYXRvciI7CmltcG9ydCB7IGNyZWF0ZVByb2R1Y3QgYXMgX2NyZWF0ZVByb2R1Y3QsIHVwZGF0ZVByb2R1Y3QgYXMgX3VwZGF0ZVByb2R1Y3QsIHByb2R1Y3RRdWVyeSwgY3JlYXRlU3RvY2ssIGFsbFByb2R1Y3RzIGFzIF9hbGxQcm9kdWN0cywgYWxsQnJhbmNoZXMgYXMgX2FsbEJyYW5jaGVzIH0gZnJvbSAiQC9ncmFwaHFsL3F1ZXJpZXMvcXVlcmllcy5qcyI7CnZhciBWYWxpZGF0b3IgPSBTaW1wbGVWdWVWYWxpZGF0aW9uLlZhbGlkYXRvcjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJyZWFkY3J1bWJzOiBCcmVhZGNydW1icwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhdGg6IFt7CiAgICAgICAgdGl0bGU6ICJwcm9kdWN0cyIsCiAgICAgICAgcm91dGU6ICJwcm9kdWN0cy5pbmRleCIKICAgICAgfV0sCiAgICAgIHByb2R1Y3Q6IHt9LAogICAgICBuYW1lOiAiIiwKICAgICAgaWQ6ICIiLAogICAgICBicmFuY2g6ICIiLAogICAgICBpc0ZvdW5kOiBmYWxzZSwKICAgICAgaXNibjogIiIsCiAgICAgIHByaWNlOiAiIiwKICAgICAgcHVyY2hhc2VkX3ByaWNlOiAiIiwKICAgICAgcXR5OiAiIiwKICAgICAgcHJvZHVjdFF0eTogMCwKICAgICAgYWxsUHJvZHVjdHM6IFtdLAogICAgICB0aXRsZTogImNyZWF0ZV9wcm9kdWN0IiwKICAgICAgdmFsaWRhdGlvbkVycm9yOiAiIiwKICAgICAgZnJlZ21lbnQ6ICIiCiAgICB9OwogIH0sCiAgdmFsaWRhdG9yczogewogICAgbmFtZTogZnVuY3Rpb24gbmFtZSh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5yZXF1aXJlZCgpLm1heExlbmd0aCgyNTApOwogICAgfSwKICAgIGlzYm46IGZ1bmN0aW9uIGlzYm4odmFsdWUpIHsKICAgICAgcmV0dXJuIFZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQoKS5tYXhMZW5ndGgoMTMpOwogICAgfSwKICAgIHByaWNlOiBmdW5jdGlvbiBwcmljZSh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5yZXF1aXJlZCgpLmRpZ2l0KCkubWF4TGVuZ3RoKDUpOwogICAgfSwKICAgIHB1cmNoYXNlZF9wcmljZTogZnVuY3Rpb24gcHVyY2hhc2VkX3ByaWNlKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLnJlcXVpcmVkKCkuZGlnaXQoKS5tYXhMZW5ndGgoNSk7CiAgICB9LAogICAgcXR5OiBmdW5jdGlvbiBxdHkodmFsdWUpIHsKICAgICAgcmV0dXJuIFZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQoKS5kaWdpdCgpLm1heExlbmd0aCg1KTsKICAgIH0KICB9LAogIGFwb2xsbzogewogICAgcHJvZHVjdDogZnVuY3Rpb24gcHJvZHVjdCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBxdWVyeTogcHJvZHVjdFF1ZXJ5LAogICAgICAgIHZhcmlhYmxlczogZnVuY3Rpb24gdmFyaWFibGVzKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmKSB7CiAgICAgICAgICB2YXIgcHJvZHVjdCA9IF9yZWYuZGF0YS5wcm9kdWN0OwogICAgICAgICAgdGhpcy5uYW1lID0gcHJvZHVjdC5uYW1lOwogICAgICAgICAgdGhpcy5pc2JuID0gcHJvZHVjdC5pc2JuOwogICAgICAgICAgdGhpcy5wcmljZSA9IHByb2R1Y3QucHJpY2U7CiAgICAgICAgICB0aGlzLnB1cmNoYXNlZF9wcmljZSA9IHByb2R1Y3QucHVyY2hhc2VkX3ByaWNlOwogICAgICAgICAgdGhpcy5xdHkgPSBwcm9kdWN0LnF0eTsKICAgICAgICAgIHRoaXMudGl0bGUgPSAiZWRpdCI7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGFsbFByb2R1Y3RzOiBmdW5jdGlvbiBhbGxQcm9kdWN0cygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBxdWVyeTogX2FsbFByb2R1Y3RzCiAgICAgIH07CiAgICB9LAogICAgYWxsQnJhbmNoZXM6IGZ1bmN0aW9uIGFsbEJyYW5jaGVzKCkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiBfYWxsQnJhbmNoZXMKICAgICAgfTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAidmFsaWRhdGlvbi5lcnJvcnMiOiBmdW5jdGlvbiB2YWxpZGF0aW9uRXJyb3JzKCkgewogICAgICB2YXIgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmlucHV0LWZpZWxkIGJ1dHRvbiIpOwoKICAgICAgaWYgKHRoaXMudmFsaWRhdGlvbi5lcnJvcnMubGVuZ3RoID4gMCkgewogICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwgImRpc2FibGVkIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHsKICAgICAgICAgIHRoaXMudmFsaWRhdGlvbi50b3VjaGVkUmVjb3Jkcy5sZW5ndGggPiAxID8gYnRuLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKSA6ICIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGlzYm46IGZ1bmN0aW9uIGlzYm4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcHJvZHVjdCA9IHRoaXMuYWxsUHJvZHVjdHMuZmlsdGVyKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgcmV0dXJuIHByb2R1Y3QuaXNibiA9PSBfdGhpcy5pc2JuID8gcHJvZHVjdCA6ICIiOwogICAgICB9KTsKICAgICAgdmFyIGZpcnN0UHJvZHVjdDsKCiAgICAgIGlmIChwcm9kdWN0WzBdKSB7CiAgICAgICAgZmlyc3RQcm9kdWN0ID0gcHJvZHVjdFswXTsKICAgICAgICB0aGlzLm5hbWUgPSBmaXJzdFByb2R1Y3QubmFtZTsKICAgICAgICB0aGlzLnByaWNlID0gZmlyc3RQcm9kdWN0LnByaWNlOwogICAgICAgIHRoaXMuaWQgPSBmaXJzdFByb2R1Y3QuaWQ7CiAgICAgICAgdGhpcy5wcm9kdWN0UXR5ID0gZmlyc3RQcm9kdWN0LnF0eTsKICAgICAgICB0aGlzLnB1cmNoYXNlZF9wcmljZSA9IGZpcnN0UHJvZHVjdC5wdXJjaGFzZWRfcHJpY2U7CiAgICAgICAgdGhpcy5pc0ZvdW5kID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzRm91bmQgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbG9hZFNlbGVjdHM6IGZ1bmN0aW9uIGxvYWRTZWxlY3RzKCkgewogICAgICB2YXIgc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNlbGVjdCIpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBNLkZvcm1TZWxlY3QuaW5pdChzZWxlY3RzLCB7fSk7CiAgICAgIH0sIDIwMDApOwogICAgfSwKICAgIHN1Ym1pdHRlZDogZnVuY3Rpb24gc3VibWl0dGVkKCkgewogICAgICB0aGlzLnByb2R1Y3QgPyB0aGlzLnVwZGF0ZVByb2R1Y3QoKSA6IHRoaXMuaXNGb3VuZCA/IHRoaXMudXBkYXRlU3RvY2sodGhpcy5pZCwgcGFyc2VJbnQodGhpcy5xdHkpICsgcGFyc2VJbnQodGhpcy5wcm9kdWN0UXR5KSwgdHJ1ZSkgOiB0aGlzLmNyZWF0ZVByb2R1Y3QoKTsKICAgIH0sCiAgICB1cGRhdGVQcm9kdWN0OiBmdW5jdGlvbiB1cGRhdGVQcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBfdXBkYXRlUHJvZHVjdCwKICAgICAgICAvLyBQYXJhbWV0ZXJzCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZDogcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKSwKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIGlzYm46IHRoaXMuaXNibiwKICAgICAgICAgIHByaWNlOiB0aGlzLnByaWNlLAogICAgICAgICAgcHVyY2hhc2VkX3ByaWNlOiB0aGlzLnB1cmNoYXNlZF9wcmljZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIE0udG9hc3QoewogICAgICAgICAgaHRtbDogIiIuY29uY2F0KF90aGlzMi4kdCgidXBkYXRlZF9zdWNjZXNzZnVsbHkiLCB7CiAgICAgICAgICAgIG5hbWU6IF90aGlzMi4kdChkYXRhLmRhdGEudXBkYXRlUHJvZHVjdC5uYW1lKQogICAgICAgICAgfSkpLAogICAgICAgICAgY2xhc3NlczogInN1Y2Nlc3MgdG9hc3QiLAogICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJwcm9kdWN0cy5pbmRleCIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMudXBkYXRlU3RvY2socGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKSk7CiAgICB9LAogICAgY3JlYXRlUHJvZHVjdDogZnVuY3Rpb24gY3JlYXRlUHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogX2NyZWF0ZVByb2R1Y3QsCiAgICAgICAgLy8gUGFyYW1ldGVycwogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgaXNibjogdGhpcy5pc2JuLAogICAgICAgICAgcHJpY2U6IHRoaXMucHJpY2UsCiAgICAgICAgICBwdXJjaGFzZWRfcHJpY2U6IHRoaXMucHVyY2hhc2VkX3ByaWNlCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICBodG1sOiAiIi5jb25jYXQoX3RoaXMzLiR0KCJjcmVhdGVkX3N1Y2Nlc3NmdWxseSIsIHsKICAgICAgICAgICAgbmFtZTogX3RoaXMzLiR0KGRhdGEuZGF0YS5jcmVhdGVQcm9kdWN0Lm5hbWUpCiAgICAgICAgICB9KSksCiAgICAgICAgICBjbGFzc2VzOiAic3VjY2VzcyB0b2FzdCIsCiAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAzMDAwCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMzLmlkID0gZGF0YS5kYXRhLmNyZWF0ZVByb2R1Y3QuaWQ7CgogICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogInByb2R1Y3RzLmluZGV4IgogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhlKQogICAgICAgIF90aGlzMy52YWxpZGF0aW9uRXJyb3IgPSBfdGhpczMuJHQoIm5hbWVfdW5pcXVlIik7CiAgICAgIH0pOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMudXBkYXRlU3RvY2soX3RoaXMzLmlkKTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAogICAgdXBkYXRlU3RvY2s6IGZ1bmN0aW9uIHVwZGF0ZVN0b2NrKGlkLCBxdHksIHJlZGlyZWN0KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcXR5ID0gcXR5IHx8IHRoaXMucXR5OwogICAgICByZWRpcmVjdCA9IHJlZGlyZWN0IHx8IGZhbHNlOwogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogY3JlYXRlU3RvY2ssCiAgICAgICAgLy8gUGFyYW1ldGVycwogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgcHJvZHVjdDogaWQsCiAgICAgICAgICBicmFuY2g6IHBhcnNlSW50KHRoaXMuYnJhbmNoKSwKICAgICAgICAgIHF0eTogcXR5CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAocmVkaXJlY3QpIHsKICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICBodG1sOiAiIi5jb25jYXQoX3RoaXM0LiR0KCJ1cGRhdGVkX3N1Y2Nlc3NmdWxseSIsIHsKICAgICAgICAgICAgICBuYW1lOiBfdGhpczQuJHQoX3RoaXM0Lm5hbWUpCiAgICAgICAgICAgIH0pKSwKICAgICAgICAgICAgY2xhc3NlczogInN1Y2Nlc3MgdG9hc3QiLAogICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczQuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogInByb2R1Y3RzLmluZGV4IgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRTZWxlY3RzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddProductsMixin.js"],"names":["Breadcrumbs","M","SimpleVueValidation","createProduct","updateProduct","productQuery","createStock","allProducts","allBranches","Validator","components","data","path","title","route","product","name","id","branch","isFound","isbn","price","purchased_price","qty","productQty","validationError","fregment","validators","value","required","maxLength","digit","apollo","query","variables","parseInt","$route","params","result","watch","btn","document","querySelector","validation","errors","length","setAttribute","touchedRecords","removeAttribute","filter","firstProduct","methods","loadSelects","selects","querySelectorAll","setTimeout","FormSelect","init","submitted","updateStock","$apollo","mutate","mutation","then","toast","html","$t","classes","displayLength","$router","push","catch","redirect","mounted"],"mappings":"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","sourcesContent":["import Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport M from \"materialize-css\";\nimport SimpleVueValidation from \"simple-vue-validator\";\nimport {\n  createProduct,\n  updateProduct,\n  productQuery,\n  createStock,\n  allProducts,\n  allBranches\n} from \"@/graphql/queries/queries.js\";\nconst Validator = SimpleVueValidation.Validator;\nexport default {\n  components: {\n    Breadcrumbs\n  },\n  data() {\n    return {\n      path: [{ title: \"products\", route: \"products.index\" }],\n      product: {},\n      name: \"\",\n      id: \"\",\n      branch: \"\",\n      isFound: false,\n      isbn: \"\",\n      price: \"\",\n      purchased_price: \"\",\n      qty: \"\",\n      productQty: 0,\n      allProducts: [],\n      title: \"create_product\",\n      validationError: \"\",\n      fregment: \"\"\n    };\n  },\n  validators: {\n    name(value) {\n      return Validator.value(value)\n        .required()\n        .maxLength(250);\n    },\n    isbn(value) {\n      return Validator.value(value)\n        .required()\n        .maxLength(13);\n    },\n    price(value) {\n      return Validator.value(value)\n        .required()\n        .digit()\n        .maxLength(5);\n    },\n    purchased_price(value) {\n      return Validator.value(value)\n        .required()\n        .digit()\n        .maxLength(5);\n    },\n    qty(value) {\n      return Validator.value(value)\n        .required()\n        .digit()\n        .maxLength(5);\n    }\n  },\n\n  apollo: {\n    product() {\n      return {\n        query: productQuery,\n        variables() {\n          return {\n            id: parseInt(this.$route.params.id)\n          };\n        },\n        result({ data: { product } }) {\n          this.name = product.name;\n          this.isbn = product.isbn;\n          this.price = product.price;\n          this.purchased_price = product.purchased_price;\n          this.qty = product.qty;\n          this.title = `edit`;\n        }\n      };\n    },\n    allProducts() {\n      return {\n        query: allProducts\n      };\n    },\n    allBranches() {\n      return {\n        query: allBranches\n      };\n    }\n  },\n\n  watch: {\n    \"validation.errors\"() {\n      const btn = document.querySelector(\".input-field button\");\n      if (this.validation.errors.length > 0) {\n        btn.setAttribute(\"disabled\", \"disabled\");\n      } else {\n        if (!this.product) {\n          this.validation.touchedRecords.length > 1\n            ? btn.removeAttribute(\"disabled\")\n            : \"\";\n        } else {\n          btn.removeAttribute(\"disabled\");\n        }\n      }\n    },\n    isbn() {\n      let product = this.allProducts.filter(product => {\n        return product.isbn == this.isbn ? product : \"\";\n      });\n      let firstProduct;\n      if (product[0]) {\n        firstProduct = product[0];\n        this.name = firstProduct.name;\n        this.price = firstProduct.price;\n        this.id = firstProduct.id;\n        this.productQty = firstProduct.qty;\n        this.purchased_price = firstProduct.purchased_price;\n        this.isFound = true;\n      } else {\n        this.isFound = false;\n      }\n    }\n  },\n  methods: {\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      setTimeout(() => {\n        M.FormSelect.init(selects, {});\n      }, 2000);\n    },\n    submitted() {\n      this.product\n        ? this.updateProduct()\n        : this.isFound\n        ? this.updateStock(\n            this.id,\n            parseInt(this.qty) + parseInt(this.productQty),\n            true\n          )\n        : this.createProduct();\n    },\n    updateProduct() {\n      this.$apollo\n        .mutate({\n          mutation: updateProduct,\n          // Parameters\n          variables: {\n            id: parseInt(this.$route.params.id),\n            name: this.name,\n            isbn: this.isbn,\n            price: this.price,\n            purchased_price: this.purchased_price\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"updated_successfully\", {\n              name: this.$t(data.data.updateProduct.name)\n            })}`,\n            classes: \"success toast\",\n            displayLength: 2000\n          });\n          this.$router.push({ name: \"products.index\" });\n        });\n      this.updateStock(parseInt(this.$route.params.id));\n    },\n\n    createProduct() {\n      this.$apollo\n        .mutate({\n          mutation: createProduct,\n          // Parameters\n          variables: {\n            name: this.name,\n            isbn: this.isbn,\n            price: this.price,\n            purchased_price: this.purchased_price\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"created_successfully\", {\n              name: this.$t(data.data.createProduct.name)\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n          this.id = data.data.createProduct.id;\n          this.$router.push({ name: \"products.index\" });\n        })\n        .catch(() => {\n          //console.log(e)\n          this.validationError = this.$t(\"name_unique\");\n        });\n\n      setTimeout(() => {\n        this.updateStock(this.id);\n      }, 2000);\n    },\n    updateStock(id, qty, redirect) {\n      qty = qty || this.qty;\n      redirect = redirect || false;\n      this.$apollo\n        .mutate({\n          mutation: createStock,\n          // Parameters\n          variables: {\n            product: id,\n            branch: parseInt(this.branch),\n            qty: qty\n          }\n        })\n        .then(() => {\n          if (redirect) {\n            M.toast({\n              html: `${this.$t(\"updated_successfully\", {\n                name: this.$t(this.name)\n              })}`,\n              classes: \"success toast\",\n              displayLength: 2000\n            });\n            this.$router.push({ name: \"products.index\" });\n          }\n        });\n    }\n  },\n  mounted() {\n    this.loadSelects();\n  }\n};\n"]}]}