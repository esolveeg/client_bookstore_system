{"remainingRequest":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/thread-loader/dist/cjs.js!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/babel-loader/lib/index.js!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/components/datatable/Table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/components/datatable/Table.vue","mtime":1609793656246},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":1609793563794},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/thread-loader/dist/cjs.js","mtime":1609793585507},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/babel-loader/lib/index.js","mtime":1609793590147},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":1609793563794},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/vue-loader/lib/index.js","mtime":1609793558535}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRhYmxlSGVhZCBmcm9tICJAL2NvbXBvbmVudHMvZGF0YXRhYmxlL1RhYmxlSGVhZC52dWUiOwppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvZGF0YXRhYmxlL1BhZ2luYXRpb24udnVlIjsKaW1wb3J0IE0gZnJvbSAibWF0ZXJpYWxpemUtY3NzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRhdGFUYmFsZSIsCiAgY29tcG9uZW50czogewogICAgVGFibGVIZWFkOiBUYWJsZUhlYWQsCiAgICBQYWdpbmF0aW9uOiBQYWdpbmF0aW9uIC8vIEFjdGlvbnMKCiAgfSwKICBwcm9wczogWyJjb2x1bW5zIiwgImNhbkFwcHJvdmUiLCAic29ydGluZyIsICJkYXRhIiwgImNhblZpZXciLCAiY2FuRGVsZXRlIiwgImNhbkVkaXQiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hlY2tBbGxTdGF0dXM6IGZhbHNlCiAgICB9OwogIH0sCiAgc3RvcmU6IHsKICAgIGNoZWNrZWRJdGVtczogInNlbGVjdGVkX2lkcyIsCiAgICBwZXJQYWdlOiAicGVyUGFnZSIsCiAgICBwYWdlOiAiY3VycmVudF9wYWdlIiwKICAgIHRhYmxlRGF0YTogInRhYmxlRGF0YSIKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRTZWxlY3RzOiBmdW5jdGlvbiBsb2FkU2VsZWN0cygpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHNlbGVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2hvdyIpOyAvLyBjb25zb2xlLmxvZygnc2VsY2V0JyAsIHNlbGVjdHMpCgogICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KHNlbGVjdHMsIHt9KTsKICAgICAgfSwgMzAwMCk7CiAgICB9LAogICAgZ2V0QnJhbmNoOiBmdW5jdGlvbiBnZXRCcmFuY2goaWQpIHsKICAgICAgaWYgKGlkID09IDEpIHsKICAgICAgICByZXR1cm4gInBvaW50OTAiOwogICAgICB9CgogICAgICBpZiAoaWQgPT0gMikgewogICAgICAgIHJldHVybiAiY2ZjIjsKICAgICAgfQogICAgfSwKICAgIGNvbXBhcmVEYXRlOiBmdW5jdGlvbiBjb21wYXJlRGF0ZShkYXRlKSB7CiAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciB0b21vcnJvdyA9IG5ldyBEYXRlKHRvZGF5KTsKICAgICAgdG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTsKICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5pc1NhbWUodG9kYXksICJkYXkiKSB8fCBtb21lbnQoZGF0ZSkuaXNTYW1lKHRvbW9ycm93LCAiZGF5IikgPyB0cnVlIDogZmFsc2U7CiAgICB9LAogICAgc29ydEJ5OiBmdW5jdGlvbiBzb3J0Qnkoa2V5KSB7CiAgICAgIHRoaXMuc29ydGluZ1swXS5maWVsZCA9IGtleTsKICAgICAgdGhpcy5zb3J0aW5nWzBdLm9yZGVyID0gdGhpcy5zb3J0aW5nWzBdLm9yZGVyID09ICJBU0MiID8gIkRFU0MiIDogIkFTQyI7CiAgICB9LAogICAgZ29UbzogZnVuY3Rpb24gZ29UbyhwYWdlKSB7CiAgICAgIHRoaXMucGFnZSA9IHBhZ2U7CiAgICB9LAogICAgZ2V0SW5kZXg6IGZ1bmN0aW9uIGdldEluZGV4KGFycmF5LCBrZXksIHZhbHVlKSB7CiAgICAgIHJldHVybiBhcnJheS5maW5kSW5kZXgoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaVtrZXldID09IHZhbHVlOwogICAgICB9KTsKICAgIH0sCiAgICBjaGVja1N0YXR1czogZnVuY3Rpb24gY2hlY2tTdGF0dXMoc3RhdHVzKSB7CiAgICAgIHRoaXMuY2hlY2tBbGxTdGF0dXMgPSBzdGF0dXM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY2hlY2tBbGxTdGF0dXM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihzdGF0dXMpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICBzdGF0dXMgPyB0aGlzLmRhdGEuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBfdGhpcy5jaGVja2VkSXRlbXMucHVzaChkYXRhLmlkKTsKICAgICAgICB9KSA6IHRoaXMuY2hlY2tlZEl0ZW1zID0gW107CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNhblZpZXcgPyB0aGlzLmNhblZpZXcgOiAiIjsKICAgIHRoaXMubG9hZFNlbGVjdHMoKTsKICB9Cn07"},{"version":3,"sources":["Table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"card animated  fadeInUp \">\n    <div class=\"card-content\" style=\"overflow-x:scroll\">\n      <div>\n        <div>\n          <div class=\"tableFilters\">\n            <div class=\"search-input-field\">\n              <input\n                class=\"input\"\n                type=\"text\"\n                v-model=\"tableData.search\"\n                :placeholder=\"$t('search_table')\"\n              />\n            </div>\n\n            <div class=\"input-field\">\n              <select id=\"show\" v-model=\"tableData.length\">\n                <option\n                  v-for=\"(records, index) in perPage\"\n                  :key=\"index\"\n                  :value=\"records\"\n                  >{{ records }}</option\n                >\n              </select>\n              <label>{{ $t(\"show\") }}</label>\n            </div>\n          </div>\n          <TableHead\n            :status=\"checkAllStatus\"\n            :columns=\"columns\"\n            :sortKey=\"sorting[0].field\"\n            :sortOrder=\"sorting[0].order\"\n            @sort=\"sortBy\"\n            @update=\"checkStatus\"\n          >\n            <tbody v-if=\"data.data.length > 0\">\n              <tr v-for=\"data in data.data\" :key=\"data.id\">\n                <td>\n                  <label>\n                    <input\n                      class=\"checkbox\"\n                      v-model=\"checkedItems\"\n                      type=\"checkbox\"\n                      name=\"checkbox[]\"\n                      :value=\"data.id\"\n                    />\n                    <span></span>\n                  </label>\n                </td>\n                <td v-for=\"column in columns\" :key=\"column.dbname\">\n                  <span v-if=\"column.sub\">\n                    <span v-if=\"data[column.dbname]\">{{\n                      data[column.dbname][column.sub]\n                    }}</span></span\n                  >\n                  <span v-else-if=\"data[column.dbname]\">\n                    <span v-if=\"column.dbname == 'branch_id'\">\n                      {{ getBranch(data[column.dbname]) }}\n                    </span>\n                    <span v-else> {{ data[column.dbname] }}</span>\n                  </span>\n\n                  <span v-else> </span>\n                </td>\n                <td>\n                  <div>\n                    <a\n                      v-if=\"canView\"\n                      @click.prevent=\"$emit('goToView', data['id'])\"\n                      class=\"btn waves-effect waves-light actions-btn view\"\n                      ><i class=\"material-icons hide-on-med-and-up bold\"\n                        >remove_red_eye</i\n                      ><span class=\"hide-on-small-onl text-white\"\n                        >{{ $t(\"plain_view\") }}\n                        <i class=\"material-icons\">remove_red_eye</i></span\n                      ></a\n                    >\n                    <a\n                      v-if=\"canDelete\"\n                      class=\"btn waves-effect waves-light actions-btn danger modal-trigger\"\n                      @click.prevent=\"\n                        $emit('setDeleteData', {\n                          id: data['id'],\n                          name: data['name']\n                        })\n                      \"\n                      ><i class=\"material-icons hide-on-med-and-up bold\"\n                        >delete</i\n                      ><span class=\"hide-on-small-onl text-white\"\n                        >{{ $t(\"delete\") }}\n                        <i class=\"material-icons\">delete</i></span\n                      ></a\n                    >\n                    <div\n                      v-if=\"$route.name !== 'orders.index'\"\n                      class=\"display-inline\"\n                    >\n                      <a\n                        v-if=\"canEdit\"\n                        @click.prevent=\"$emit('goToEdit', data['id'])\"\n                        class=\"btn waves-effect waves-light actions-btn edit\"\n                        ><i class=\"material-icons hide-on-med-and-up bold\"\n                          >edit</i\n                        ><span class=\"hide-on-small-onl text-white\"\n                          >{{ $t(\"plain_edit\") }}\n                          <i class=\"material-icons\">edit</i></span\n                        ></a\n                      >\n                    </div>\n                    <div v-else class=\"display-inline\">\n                      <a\n                        v-if=\"compareDate(data.created_at)\"\n                        @click.prevent=\"$emit('goToEdit', data['id'])\"\n                        class=\"btn waves-effect waves-light actions-btn edit\"\n                        ><i class=\"material-icons hide-on-med-and-up bold\"\n                          >edit</i\n                        ><span class=\"hide-on-small-onl text-white\"\n                          >{{ $t(\"plain_edit\") }}\n                          <i class=\"material-icons\">edit</i></span\n                        ></a\n                      >\n                    </div>\n                    <a\n                      v-if=\"canApprove && !data['approved']\"\n                      @click.prevent=\"$emit('goToApprove', data['id'])\"\n                      class=\"btn waves-effect waves-light actions-btn approve\"\n                      ><i class=\"material-icons hide-on-med-and-up bold\"\n                        >done_all</i\n                      ><span class=\"hide-on-small-onl text-white\"\n                        >{{ $t(\"approve\") }}\n                        <i class=\"material-icons\">done_all</i></span\n                      ></a\n                    >\n                  </div>\n                  <slot :name=\"data['name']\" :id=\"data['id']\"></slot>\n                </td>\n              </tr>\n            </tbody>\n\n            <div class=\"not-found\" v-else>{{ $t(\"no-data\") }}</div>\n          </TableHead>\n          <pagination\n            :pagination=\"data.paginatorInfo\"\n            @prev=\"page--\"\n            @goTo=\"goTo\"\n            @next=\"page++\"\n          >\n          </pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TableHead from \"@/components/datatable/TableHead.vue\";\nimport Pagination from \"@/components/datatable/Pagination.vue\";\nimport M from \"materialize-css\";\nimport moment from \"moment\";\nexport default {\n  name: \"dataTbale\",\n  components: {\n    TableHead,\n    Pagination\n    // Actions\n  },\n  props: [\n    \"columns\",\n    \"canApprove\",\n    \"sorting\",\n    \"data\",\n    \"canView\",\n    \"canDelete\",\n    \"canEdit\"\n  ],\n  data() {\n    return {\n      checkAllStatus: false\n    };\n  },\n  store: {\n    checkedItems: \"selected_ids\",\n    perPage: \"perPage\",\n    page: \"current_page\",\n    tableData: \"tableData\"\n  },\n  methods: {\n    loadSelects() {\n      setTimeout(() => {\n        let selects = document.querySelector(\"#show\");\n        // console.log('selcet' , selects)\n        M.FormSelect.init(selects, {});\n      }, 3000);\n    },\n    getBranch(id) {\n      if (id == 1) {\n        return \"point90\";\n      }\n      if (id == 2) {\n        return \"cfc\";\n      }\n    },\n    compareDate(date) {\n      const today = new Date();\n      const tomorrow = new Date(today);\n      tomorrow.setDate(tomorrow.getDate() + 1);\n\n      return moment(date).isSame(today, \"day\") ||\n        moment(date).isSame(tomorrow, \"day\")\n        ? true\n        : false;\n    },\n    sortBy(key) {\n      this.sorting[0].field = key;\n      this.sorting[0].order = this.sorting[0].order == \"ASC\" ? \"DESC\" : \"ASC\";\n    },\n    goTo(page) {\n      this.page = page;\n    },\n    getIndex(array, key, value) {\n      return array.findIndex(i => i[key] == value);\n    },\n    checkStatus(status) {\n      this.checkAllStatus = status;\n    }\n  },\n\n  watch: {\n    checkAllStatus: {\n      handler(status) {\n        status\n          ? this.data.data.forEach(data => {\n              this.checkedItems.push(data.id);\n            })\n          : (this.checkedItems = []);\n      }\n    }\n  },\n  mounted() {\n    this.canView ? this.canView : \"\";\n    this.loadSelects();\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.tableFilters {\n  display: flex;\n  justify-content: space-between;\n  margin: 3rem 0;\n\n  & .input-field {\n    width: 80px;\n  }\n  & .search-input-field {\n    width: 200px;\n  }\n}\n\n.select-wrapper + label {\n  font-size: 1rem;\n}\ntbody tr td:not(:last-child) {\n  font-family: \"Muli\", sans-serif !important;\n}\n.btn:not(:last-child) {\n  margin-inline-end: 1rem;\n  @media screen And (max-width: 1200px) {\n    margin-block-end: 1rem;\n    margin-inline-end: 0;\n  }\n  @media screen AND (max-width: 992px) {\n    margin-block-end: 0rem;\n  }\n}\n.btn.view {\n  background-color: #343a40;\n}\n.btn.approve {\n  background-color: #ff4081;\n}\n.btn span {\n  color: #fff;\n}\n.not-found {\n  position: absolute;\n  text-align: center;\n  margin: 2rem 0;\n  width: 100%;\n  font-size: 1.6rem;\n}\n</style>\n"],"sourceRoot":"src/components/datatable"}]}