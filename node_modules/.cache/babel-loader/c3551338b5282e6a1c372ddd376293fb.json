{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js!/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/root/ahmed/vueJs/systemfinal/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/ahmed/vueJs/systemfinal/src/components/layouts/AppHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/components/layouts/AppHeader.vue","mtime":1603903913090},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwoKdmFyIF90aGlzMiA9IHRoaXM7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBvbkxvZ291dCB9IGZyb20gIi4uLy4uL3Z1ZS1hcG9sbG8uanMiOwppbXBvcnQgeyBtZVF1ZXJ5IH0gZnJvbSAiQC9ncmFwaHFsL3F1ZXJpZXMvcXVlcmllcy5qcyI7CmltcG9ydCBNIGZyb20gIm1hdGVyaWFsaXplLWNzcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBhcG9sbG86IHsKICAgIG1lOiB7CiAgICAgIHF1ZXJ5OiBtZVF1ZXJ5LAogICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIG1lID0gX3JlZi5kYXRhLm1lOwogICAgICAgIHZhciBwZXJtaXNzaW9ucyA9IFtdOwogICAgICAgIHRoaXMudXNlcklkID0gbWUuaWQ7CiAgICAgICAgbWUucm9sZXMuZm9yRWFjaChmdW5jdGlvbiAocm9sZSkgewogICAgICAgICAgX3RoaXMucm9sZXMucHVzaChyb2xlLnNsdWcpOwoKICAgICAgICAgIHJvbGUucGVybWlzc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAocGVyKSB7CiAgICAgICAgICAgIHBlcm1pc3Npb25zLnB1c2gocGVyLnNsdWcpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIGlmICh0aGlzLnJvbGVzLmluY2x1ZGVzKCJwb3MiKSkgewogICAgICAgICAgdGhpcy5icmFuY2hfaWQgPSBtZS5lbXBsb3llZS5icmFuY2guaWQ7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnBlcm1pc3Npb25zID0gcGVybWlzc2lvbnM7CiAgICAgICAgdGhpcy5pc1BvcyA9IHRoaXMucm9sZXMuaW5jbHVkZXMoInBvcyIpID8gdHJ1ZSA6IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBzdG9yZTogewogICAgaXNQb3M6ICJpc1BvcyIsCiAgICBicmFuY2hfaWQ6ICJicmFuY2hfaWQiLAogICAgdXNlcklkOiAidXNlcklkIiwKICAgIHBlcm1pc3Npb25zOiAicGVybWlzc2lvbnMiLAogICAgcm9sZXM6ICJyb2xlcyIsCiAgICBtZTogIm1lIgogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlU2VhcmNoOiBmdW5jdGlvbiB0b2dnbGVTZWFyY2goKSB7CiAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5tZSk7CiAgICAgIHZhciBzZWFyY2hCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2VhcmNoLXNtIik7CiAgICAgIHNlYXJjaEJveC5jbGFzc0xpc3QudG9nZ2xlKCJoaWRlIik7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIG9uTG9nb3V0KHRoaXMuJGFwb2xsby5wcm92aWRlci5kZWZhdWx0Q2xpZW50KTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInBlcm1pc3NvbnMiKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJicmFuY2giKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImFsbGJyYW5jaGVzIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0sCiAgICBzZXRMb2NhbGU6IGZ1bmN0aW9uIHNldExvY2FsZSgpIHsKICAgICAgdGhpcy4kaTE4bi5sb2NhbGUgPSB0aGlzLiRpMThuLmxvY2FsZSA9PSAiZW4iID8gImFyIiA6ICJlbiI7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJsb2NhbGUiLCB0aGlzLiRpMThuLmxvY2FsZSk7CiAgICAgIHZhciBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaHRtbCIpOwoKICAgICAgaWYgKHRoaXMuJGkxOG4ubG9jYWxlID09ICJhciIpIHsKICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoInJ0bCIpOwogICAgICAgIGh0bWwuc2V0QXR0cmlidXRlKCJsYW5nIiwgImFyIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaHRtbC5jbGFzc0xpc3QucmVtb3ZlKCJydGwiKTsKICAgICAgICBodG1sLnNldEF0dHJpYnV0ZSgibGFuZyIsICJlbiIpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGRyb3Bkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5kcm9wZG93bi10cmlnZ2VyIik7CiAgICBNLkRyb3Bkb3duLmluaXQoZHJvcGRvd25zLCB7CiAgICAgIGFsaWdubWVudDogInJpZ2h0IiwKICAgICAgY292ZXJUcmlnZ2VyOiBmYWxzZQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["AppHeader.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <header class=\"page-topbar\" id=\"header\">\n    <div class=\"navbar navbar-fixed\">\n      <nav\n        class=\"navbar-main navbar-color nav-collapsible sideNav-lock navbar-dark gradient-45deg-indigo-purple no-shadow\"\n      >\n        <div class=\"nav-wrapper\">\n          <div class=\"header-search-wrapper hide-on-med-and-down\">\n            <i class=\"material-icons\">search</i>\n            <input\n              class=\"header-search-input z-depth-2\"\n              type=\"text\"\n              name=\"Search\"\n              :placeholder=\"$t('search')\"\n            />\n          </div>\n          <ul class=\"navbar-list right\">\n            <li>\n              <a\n                @click.prevent=\"setLocale()\"\n                class=\"waves-effect waves-block waves-light translation-button\"\n                ><span class=\"flag-icon\"></span\n              ></a>\n            </li>\n            <li class=\"hide-on-med-and-down\">\n              <a class=\"waves-effect waves-block waves-light toggle-fullscreen\"\n                ><i class=\"material-icons\">settings_overscan</i></a\n              >\n            </li>\n            <li class=\"hide-on-large-only\" @click=\"toggleSearch\">\n              <a class=\"waves-effect waves-block waves-light search-button\"\n                ><i class=\"material-icons\">search</i></a\n              >\n            </li>\n            <li>\n              <a\n                class=\"dropdown-trigger waves-effect waves-block waves-light profile-button\"\n                data-target=\"profile-dropdown\"\n                ><span class=\"avatar-status\"\n                  ><img\n                    src=\"https://pixinvent.com/materialize-material-design-admin-template/app-assets/images/avatar/avatar-7.png\"\n                    alt=\"avatar\"/></span\n              ></a>\n              <ul class=\"dropdown-content\" id=\"profile-dropdown\">\n                <li>\n                  <a @click.prevent=\"logout()\" class=\"grey-text text-darken-1\"\n                    ><i class=\"material-icons\">keyboard_tab</i>\n                    {{ $t(\"logout\") }}</a\n                  >\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n        <nav class=\"search-sm hide\">\n          <div class=\"nav-wrapper\">\n            <form>\n              <div class=\"input-field\">\n                <input class=\"search-box-sm\" type=\"search\" required=\"\" />\n                <label class=\"label-icon\" for=\"search\"\n                  ><i class=\"material-icons search-sm-icon\">search</i></label\n                >\n                <i class=\"material-icons search-sm-close\" @click=\"toggleSearch\"\n                  >close</i\n                >\n              </div>\n            </form>\n          </div>\n        </nav>\n      </nav>\n    </div>\n  </header>\n</template>\n<script>\nimport { onLogout } from \"../../vue-apollo.js\";\nimport { meQuery } from \"@/graphql/queries/queries.js\";\nimport M from \"materialize-css\";\nexport default {\n  apollo: {\n    me: {\n      query: meQuery,\n      result({ data: { me } }) {\n        let permissions = [];\n        this.userId = me.id;\n        me.roles.forEach(role => {\n          this.roles.push(role.slug);\n          role.permissions.forEach(per => {\n            permissions.push(per.slug);\n          });\n        });\n        if (this.roles.includes(\"pos\")) {\n          this.branch_id = me.employee.branch.id;\n        }\n        this.permissions = permissions;\n        this.isPos = this.roles.includes(\"pos\") ? true : false;\n      }\n    }\n  },\n  store: {\n    isPos: \"isPos\",\n    branch_id: \"branch_id\",\n    userId: \"userId\",\n    permissions: \"permissions\",\n    roles: \"roles\",\n    me: \"me\"\n  },\n  methods: {\n    toggleSearch: () => {\n      console.log(this.me);\n      let searchBox = document.querySelector(\".search-sm\");\n      searchBox.classList.toggle(\"hide\");\n    },\n    logout() {\n      onLogout(this.$apollo.provider.defaultClient);\n      localStorage.removeItem(\"permissons\");\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"branch\");\n      localStorage.removeItem(\"allbranches\");\n\n      this.$router.push(\"/login\");\n    },\n    setLocale() {\n      this.$i18n.locale = this.$i18n.locale == \"en\" ? \"ar\" : \"en\";\n      localStorage.setItem(\"locale\", this.$i18n.locale);\n      const html = document.querySelector(\"html\");\n      if (this.$i18n.locale == \"ar\") {\n        html.classList.add(\"rtl\");\n        html.setAttribute(\"lang\", \"ar\");\n      } else {\n        html.classList.remove(\"rtl\");\n        html.setAttribute(\"lang\", \"en\");\n      }\n    }\n  },\n  mounted() {\n    let dropdowns = document.querySelectorAll(\".dropdown-trigger\");\n    M.Dropdown.init(dropdowns, {\n      alignment: \"right\",\n      coverTrigger: false\n    });\n  }\n};\n</script>\n\n<style scoped>\n@import url(\"../../sass/layouts/_header.min.css\");\n</style>\n"],"sourceRoot":"src/components/layouts"}]}