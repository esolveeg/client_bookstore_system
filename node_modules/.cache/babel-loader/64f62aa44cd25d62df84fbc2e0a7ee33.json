{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/thread-loader/dist/cjs.js!/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js!/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/root/ahmed/vueJs/systemfinal/src/mixins/BrowseExpensesMixin.js","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/mixins/BrowseExpensesMixin.js","mtime":1583816735940},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBEYXRhVGFibGUgZnJvbSAiQC9jb21wb25lbnRzL2RhdGF0YWJsZS9UYWJsZS52dWUiOwppbXBvcnQgTSBmcm9tICJtYXRlcmlhbGl6ZS1jc3MiOwppbXBvcnQgQnJlYWRjcnVtYnMgZnJvbSAiQC9jb21wb25lbnRzL2xheW91dHMvQnJlYWRjcnVtYnMudnVlIjsKaW1wb3J0IHsgZXhwZW5zZXNRdWVyeSwgbWVRdWVyeSB9IGZyb20gIkAvZ3JhcGhxbC9xdWVyaWVzL3F1ZXJpZXMuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBjb2x1bW5zID0gWy8vIHsgbGFiZWw6ICJicmFuY2giLCBuYW1lOiAiQnJhbmNoIiwgZGJuYW1lOiAiYnJhbmNoIiAsIHN1YiA6ICJuYW1lIiB9LAogICAgewogICAgICBsYWJlbDogInZhbHVlIiwKICAgICAgbmFtZTogIlZhbHVlIiwKICAgICAgZGJuYW1lOiAidmFsdWUiCiAgICB9LCB7CiAgICAgIGxhYmVsOiAibm90ZSIsCiAgICAgIG5hbWU6ICJub3RlIiwKICAgICAgZGJuYW1lOiAibm90ZSIKICAgIH0sIHsKICAgICAgbGFiZWw6ICJkYXRlIiwKICAgICAgbmFtZTogImRhdGUiLAogICAgICBkYm5hbWU6ICJkYXRlIgogICAgfSwgewogICAgICBsYWJlbDogImNyZWF0ZWRfYXQiLAogICAgICBuYW1lOiAiY3JlYXRlZF9hdCIsCiAgICAgIGRibmFtZTogImNyZWF0ZWRfYXQiCiAgICB9XTsKICAgIHZhciBzb3J0aW5nID0gW3sKICAgICAgZmllbGQ6ICJjcmVhdGVkX2F0IiwKICAgICAgb3JkZXI6ICJBU0MiCiAgICB9XTsKICAgIHJldHVybiB7CiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICAgIHNvcnRpbmc6IHNvcnRpbmcsCiAgICAgIGV4cGVuc2VzOiBbXSwKICAgICAgdGl0bGU6ICJleHBlbnNlcyIsCiAgICAgIGNhbkFkZDogZmFsc2UsCiAgICAgIGNhbkRlbGV0ZTogZmFsc2UsCiAgICAgIGNhblZpZXc6IGZhbHNlLAogICAgICBjYW5FZGl0OiBmYWxzZSwKICAgICAgYnRuczogW10KICAgIH07CiAgfSwKICBhcG9sbG86IHsKICAgIG1lOiB7CiAgICAgIHF1ZXJ5OiBtZVF1ZXJ5LAogICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmKSB7CiAgICAgICAgdmFyIG1lID0gX3JlZi5kYXRhLm1lOwogICAgICAgIHZhciBwZXJtaXNzaW9ucyA9IFtdOwogICAgICAgIG1lLnJvbGVzLmZvckVhY2goZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgICAgIHJvbGUucGVybWlzc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAocGVyKSB7CiAgICAgICAgICAgIHBlcm1pc3Npb25zLnB1c2gocGVyLnNsdWcpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcGVybWlzc2lvbnMuaW5jbHVkZXMoImNyZWF0ZV9leHBlbnNlcyIpID8gdGhpcy5jYW5BZGQgPSB0cnVlIDogIiI7CiAgICAgICAgcGVybWlzc2lvbnMuaW5jbHVkZXMoImRlbGV0ZV9leHBlbnNlcyIpID8gdGhpcy5jYW5EZWxldGUgPSB0cnVlIDogIiI7CiAgICAgICAgcGVybWlzc2lvbnMuaW5jbHVkZXMoImVkaXRfZXhwZW5zZXMiKSA/IHRoaXMuY2FuRWRpdCA9IHRydWUgOiAiIjsKICAgICAgICBwZXJtaXNzaW9ucy5pbmNsdWRlcygicmVhZF9leHBlbnNlcyIpID8gdGhpcy5jYW5WaWV3ID0gdHJ1ZSA6ICIiOwogICAgICB9CiAgICB9LAogICAgZXhwZW5zZXM6IHsKICAgICAgcXVlcnk6IGV4cGVuc2VzUXVlcnksCiAgICAgIC8vIGZldGNoUG9saWN5OiAnY2FjaGUtYW5kLW5ldHdvcmsnLAogICAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZmlyc3Q6IHRoaXMudGFibGVEYXRhLmxlbmd0aCwKICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICAgIG9yZGVyQnk6IHRoaXMuc29ydGluZywKICAgICAgICAgIHNlYXJjaDogdGhpcy50YWJsZURhdGEuc2VhcmNoCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgZmV0Y2hQb2xpY3k6ICJuby1jYWNoZSIsCiAgICAgIHBvbGxJbnRlcnZhbDogMTAwMAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlkczogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbHVlKSB7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5idG5zLmluZGV4T2YodGhpcy5kZWxldGVCdG4pOwogICAgICAgIHZhbHVlLmxlbmd0aCA+IDAgJiYgdGhpcy5jYW5EZWxldGUgPyB0aGlzLmJ0bnMuaW5jbHVkZXModGhpcy5kZWxldGVCdG4pID8gIiIgOiB0aGlzLmJ0bnMucHVzaCh0aGlzLmRlbGV0ZUJ0bikgOiBpbmRleCA+IC0xID8gdGhpcy5idG5zLnNwbGljZShpbmRleCwgMSkgOiAiIjsKICAgICAgfQogICAgfSwKICAgIGNhbkFkZDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbHVlKSB7CiAgICAgICAgdmFsdWUgPyB0aGlzLmJ0bnMucHVzaCh0aGlzLmNyZWF0ZUJ0bikgOiAiIjsKICAgICAgfQogICAgfSwKICAgIGNhbkRlbGV0ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbHVlKSB7CiAgICAgICAgdmFsdWUgPyB0aGlzLmlkcy5sZW5ndGggPiAwID8gdGhpcy5idG5zLnB1c2godGhpcy5kZWxldGVCdG4pIDogIiIgOiAiIjsKICAgICAgfQogICAgfQogIH0sCiAgc3RvcmU6IHsKICAgIG1vZGVsOiAiZGVsZXRlZF9tb2RlbCIsCiAgICBpZHM6ICJzZWxlY3RlZF9pZHMiLAogICAgbWU6ICJtZSIsCiAgICBkZWxldGVCdG46ICJkZWxldGVCdG4iLAogICAgY3JlYXRlQnRuOiAiY3JlYXRlQnRuIiwKICAgIHBlclBhZ2U6ICJwZXJQYWdlIiwKICAgIHBhZ2U6ICJjdXJyZW50X3BhZ2UiLAogICAgZGVsZXRlZElkOiAiZGVsZXRlZF9pZCIsCiAgICBkZWxldGVkTmFtZTogImRlbGV0ZWRfbmFtZSIsCiAgICB0YWJsZURhdGE6ICJ0YWJsZURhdGEiCiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkU2VsZWN0czogZnVuY3Rpb24gbG9hZFNlbGVjdHMoKSB7CiAgICAgIHZhciBzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2VsZWN0Iik7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KHNlbGVjdHMsIHt9KTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAogICAgYnVsa2RlbGV0ZTogZnVuY3Rpb24gYnVsa2RlbGV0ZSgpIHsKICAgICAgdGhpcy5tb2RlbCA9ICJleHBlbnNlcyI7CiAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI211bHRpLWRlbGV0ZS1tb2RhbCIpOwogICAgICB2YXIgaW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKGVsZW0pOwogICAgICBpbnN0YW5jZS5vcGVuKCk7IC8vIGNvbnNvbGUubG9nKCJkZWxldGciKTsKICAgIH0sCiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJleHBlbnNlcy5jcmVhdGUiCiAgICAgIH0pOwogICAgfSwKICAgIGdvVG9WaWV3OiBmdW5jdGlvbiBnb1RvVmlldyhpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImV4cGVuc2VzLnZpZXciLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHBhcnNlSW50KGlkKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ29Ub0VkaXQ6IGZ1bmN0aW9uIGdvVG9FZGl0KGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiZXhwZW5zZXMuZWRpdCIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogcGFyc2VJbnQoaWQpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZXREZWxldGVEYXRhOiBmdW5jdGlvbiBzZXREZWxldGVEYXRhKGRhdGEpIHsKICAgICAgdGhpcy5kZWxldGVkTmFtZSA9ICJleHBlbnNlIjsKICAgICAgdGhpcy5kZWxldGVkSWQgPSBkYXRhLmlkOwogICAgICB0aGlzLm1vZGVsID0gImV4cGVuc2VzIjsKICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZGVsZXRlLW1vZGFsIik7CiAgICAgIHZhciBpbnN0YW5jZSA9IE0uTW9kYWwuZ2V0SW5zdGFuY2UoZWxlbSk7CiAgICAgIGluc3RhbmNlLm9wZW4oKTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIERhdGFUYWJsZTogRGF0YVRhYmxlLAogICAgQnJlYWRjcnVtYnM6IEJyZWFkY3J1bWJzCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkU2VsZWN0cygpOwogIH0KfTs="},{"version":3,"sources":["/root/ahmed/vueJs/systemfinal/src/mixins/BrowseExpensesMixin.js"],"names":["DataTable","M","Breadcrumbs","expensesQuery","meQuery","data","columns","label","name","dbname","sorting","field","order","expenses","title","canAdd","canDelete","canView","canEdit","btns","apollo","me","query","result","permissions","roles","forEach","role","per","push","slug","includes","variables","first","tableData","length","page","orderBy","search","deep","fetchPolicy","pollInterval","watch","ids","handler","value","index","indexOf","deleteBtn","splice","createBtn","store","model","perPage","deletedId","deletedName","methods","loadSelects","selects","document","querySelectorAll","setTimeout","FormSelect","init","bulkdelete","elem","querySelector","instance","Modal","getInstance","open","create","$router","goToView","id","params","parseInt","goToEdit","setDeleteData","components","mounted"],"mappings":"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","sourcesContent":["import DataTable from \"@/components/datatable/Table.vue\";\nimport M from \"materialize-css\";\nimport Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport { expensesQuery, meQuery } from \"@/graphql/queries/queries.js\";\n\nexport default {\n  data() {\n    let columns = [\n      // { label: \"branch\", name: \"Branch\", dbname: \"branch\" , sub : \"name\" },\n      { label: \"value\", name: \"Value\", dbname: \"value\" },\n      { label: \"note\", name: \"note\", dbname: \"note\" },\n      { label: \"date\", name: \"date\", dbname: \"date\" },\n      { label: \"created_at\", name: \"created_at\", dbname: \"created_at\" }\n    ];\n    let sorting = [{ field: \"created_at\", order: \"ASC\" }];\n    return {\n      columns,\n      sorting,\n      expenses: [],\n      title: \"expenses\",\n      canAdd: false,\n      canDelete: false,\n      canView: false,\n      canEdit: false,\n      btns: []\n    };\n  },\n  apollo: {\n    me: {\n      query: meQuery,\n      result({ data: { me } }) {\n        let permissions = [];\n        me.roles.forEach(role => {\n          role.permissions.forEach(per => {\n            permissions.push(per.slug);\n          });\n        });\n        permissions.includes(\"create_expenses\") ? (this.canAdd = true) : \"\";\n        permissions.includes(\"delete_expenses\") ? (this.canDelete = true) : \"\";\n        permissions.includes(\"edit_expenses\") ? (this.canEdit = true) : \"\";\n        permissions.includes(\"read_expenses\") ? (this.canView = true) : \"\";\n      }\n    },\n\n    expenses: {\n      query: expensesQuery,\n      // fetchPolicy: 'cache-and-network',\n      variables() {\n        return {\n          first: this.tableData.length,\n          page: this.page,\n          orderBy: this.sorting,\n          search: this.tableData.search\n        };\n      },\n      deep: true,\n      fetchPolicy: \"no-cache\",\n      pollInterval: 1000\n    }\n  },\n  watch: {\n    ids: {\n      handler(value) {\n        let index = this.btns.indexOf(this.deleteBtn);\n        value.length > 0 && this.canDelete\n          ? this.btns.includes(this.deleteBtn)\n            ? \"\"\n            : this.btns.push(this.deleteBtn)\n          : index > -1\n          ? this.btns.splice(index, 1)\n          : \"\";\n      }\n    },\n    canAdd: {\n      handler(value) {\n        value ? this.btns.push(this.createBtn) : \"\";\n      }\n    },\n    canDelete: {\n      handler(value) {\n        value\n          ? this.ids.length > 0\n            ? this.btns.push(this.deleteBtn)\n            : \"\"\n          : \"\";\n      }\n    }\n  },\n  store: {\n    model: \"deleted_model\",\n    ids: \"selected_ids\",\n    me: \"me\",\n    deleteBtn: \"deleteBtn\",\n    createBtn: \"createBtn\",\n    perPage: \"perPage\",\n    page: \"current_page\",\n    deletedId: \"deleted_id\",\n    deletedName: \"deleted_name\",\n    tableData: \"tableData\"\n  },\n  methods: {\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      setTimeout(() => {\n        M.FormSelect.init(selects, {});\n      }, 2000);\n    },\n    bulkdelete() {\n      this.model = \"expenses\";\n      let elem = document.querySelector(\"#multi-delete-modal\");\n      let instance = M.Modal.getInstance(elem);\n      instance.open();\n      // console.log(\"deletg\");\n    },\n    create() {\n      this.$router.push({ name: \"expenses.create\" });\n    },\n    goToView(id) {\n      this.$router.push({\n        name: \"expenses.view\",\n        params: { id: parseInt(id) }\n      });\n    },\n    goToEdit(id) {\n      this.$router.push({\n        name: \"expenses.edit\",\n        params: { id: parseInt(id) }\n      });\n    },\n    setDeleteData(data) {\n      this.deletedName = \"expense\";\n      this.deletedId = data.id;\n      this.model = \"expenses\";\n      let elem = document.querySelector(\"#delete-modal\");\n      let instance = M.Modal.getInstance(elem);\n      instance.open();\n    }\n  },\n  components: {\n    DataTable,\n    Breadcrumbs\n  },\n  mounted() {\n    this.loadSelects();\n  }\n};\n"]}]}