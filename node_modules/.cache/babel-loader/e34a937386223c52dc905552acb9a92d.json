{"remainingRequest":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/babel-loader/lib/index.js!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddEmployeesMixin.js","dependencies":[{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddEmployeesMixin.js","mtime":1609793655071},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":1609793563794},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/babel-loader/lib/index.js","mtime":1609793590147},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/eslint-loader/index.js","mtime":1609793554208}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCBCcmVhZGNydW1icyBmcm9tICJAL2NvbXBvbmVudHMvbGF5b3V0cy9CcmVhZGNydW1icy52dWUiOwppbXBvcnQgTSBmcm9tICJtYXRlcmlhbGl6ZS1jc3MiOwppbXBvcnQgU2ltcGxlVnVlVmFsaWRhdGlvbiBmcm9tICJzaW1wbGUtdnVlLXZhbGlkYXRvciI7CmltcG9ydCB7IGNyZWF0ZUVtcGxveWVlIGFzIF9jcmVhdGVFbXBsb3llZSwgdXBkYXRlRW1wbG95ZWUgYXMgX3VwZGF0ZUVtcGxveWVlLCBhbGxCcmFuY2hlcyBhcyBfYWxsQnJhbmNoZXMsIGVtcGxveWVlUXVlcnkgfSBmcm9tICJAL2dyYXBocWwvcXVlcmllcy9xdWVyaWVzLmpzIjsKdmFyIFZhbGlkYXRvciA9IFNpbXBsZVZ1ZVZhbGlkYXRpb24uVmFsaWRhdG9yOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQnJlYWRjcnVtYnM6IEJyZWFkY3J1bWJzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGF0aDogW3sKICAgICAgICB0aXRsZTogImVtcGxveWVlcyIsCiAgICAgICAgcm91dGU6ICJlbXBsb3llZXMuaW5kZXgiCiAgICAgIH1dLAogICAgICBlbXBsb3llZToge30sCiAgICAgIGFsbEJyYW5jaGVzOiBbXSwKICAgICAgYnJhbmNoOiAiIiwKICAgICAgbmFtZTogIiIsCiAgICAgIHRhcmdldDogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGhvbmU6ICIiLAogICAgICB0aXRsZTogImNyZWF0ZV9lbXBsb3llZSIsCiAgICAgIHZhbGlkYXRpb25FcnJvcjogIiIsCiAgICAgIGZyZWdtZW50OiAiIgogICAgfTsKICB9LAogIHZhbGlkYXRvcnM6IHsKICAgIG5hbWU6IGZ1bmN0aW9uIG5hbWUodmFsdWUpIHsKICAgICAgcmV0dXJuIFZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQoKS5tYXhMZW5ndGgoMTAwKTsKICAgIH0sCiAgICB0YXJnZXQ6IGZ1bmN0aW9uIHRhcmdldCh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5yZXF1aXJlZCgpLmRpZ2l0KCk7CiAgICB9LAogICAgZW1haWw6IGZ1bmN0aW9uIGVtYWlsKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLm1heExlbmd0aCgyMDApLmVtYWlsKCk7CiAgICB9LAogICAgcGhvbmU6IGZ1bmN0aW9uIHBob25lKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLm1heExlbmd0aCgxNik7CiAgICB9LAogICAgc2FsbGFyeTogZnVuY3Rpb24gc2FsbGFyeSh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5kaWdpdCgpLm1heExlbmd0aCg0KTsKICAgIH0KICB9LAogIGFwb2xsbzogewogICAgZW1wbG95ZWU6IGZ1bmN0aW9uIGVtcGxveWVlKCkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiBlbXBsb3llZVF1ZXJ5LAogICAgICAgIHZhcmlhYmxlczogZnVuY3Rpb24gdmFyaWFibGVzKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmKSB7CiAgICAgICAgICB2YXIgZW1wbG95ZWUgPSBfcmVmLmRhdGEuZW1wbG95ZWU7CiAgICAgICAgICB0aGlzLm5hbWUgPSBlbXBsb3llZS5uYW1lOwogICAgICAgICAgdGhpcy5lbWFpbCA9IGVtcGxveWVlLmVtYWlsOwogICAgICAgICAgdGhpcy5waG9uZSA9IGVtcGxveWVlLnBob25lOwogICAgICAgICAgdGhpcy50YXJnZXQgPSBlbXBsb3llZS50YXJnZXQgPyBlbXBsb3llZS50YXJnZXQgOiAiIjsKICAgICAgICAgIHRoaXMuc2FsYXJ5ID0gZW1wbG95ZWUuc2FsYXJ5OwogICAgICAgICAgdGhpcy5icmFuY2ggPSBlbXBsb3llZS5icmFuY2ggPyBlbXBsb3llZS5icmFuY2guaWQgOiAiIjsKICAgICAgICAgIHRoaXMudGl0bGUgPSAiZWRpdCI7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGFsbEJyYW5jaGVzOiBmdW5jdGlvbiBhbGxCcmFuY2hlcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBxdWVyeTogX2FsbEJyYW5jaGVzCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgInZhbGlkYXRpb24uZXJyb3JzIjogZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9ycygpIHsKICAgICAgdmFyIGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5pbnB1dC1maWVsZCBidXR0b24iKTsKCiAgICAgIGlmICh0aGlzLnZhbGlkYXRpb24uZXJyb3JzLmxlbmd0aCA+IDApIHsKICAgICAgICBidG4uc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsICJkaXNhYmxlZCIpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5lbXBsb3llZSkgewogICAgICAgICAgdGhpcy52YWxpZGF0aW9uLnRvdWNoZWRSZWNvcmRzLmxlbmd0aCA+IDEgPyBidG4ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpIDogIiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkU2VsZWN0czogZnVuY3Rpb24gbG9hZFNlbGVjdHMoKSB7CiAgICAgIHZhciBzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2VsZWN0Iik7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KHNlbGVjdHMsIHt9KTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAogICAgc3VibWl0dGVkOiBmdW5jdGlvbiBzdWJtaXR0ZWQoKSB7CiAgICAgIHRoaXMuZW1wbG95ZWUgPyB0aGlzLnVwZGF0ZUVtcGxveWVlKCkgOiB0aGlzLmNyZWF0ZUVtcGxveWVlKCk7CiAgICB9LAogICAgdXBkYXRlRW1wbG95ZWU6IGZ1bmN0aW9uIHVwZGF0ZUVtcGxveWVlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IF91cGRhdGVFbXBsb3llZSwKICAgICAgICAvLyBQYXJhbWV0ZXJzCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZDogcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKSwKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCwKICAgICAgICAgIHBob25lOiB0aGlzLnBob25lLAogICAgICAgICAgYnJhbmNoOiB0aGlzLmJyYW5jaCwKICAgICAgICAgIHNhbGFyeTogdGhpcy5zYWxhcnkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgIGh0bWw6ICIiLmNvbmNhdChfdGhpcy4kdCgidXBkYXRlZF9zdWNjZXNzZnVsbHkiLCB7CiAgICAgICAgICAgIG5hbWU6IF90aGlzLiR0KGRhdGEuZGF0YS51cGRhdGVFbXBsb3llZS5uYW1lKQogICAgICAgICAgfSkpLAogICAgICAgICAgY2xhc3NlczogInN1Y2Nlc3MgdG9hc3QiLAogICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImVtcGxveWVlcy5pbmRleCIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlRW1wbG95ZWU6IGZ1bmN0aW9uIGNyZWF0ZUVtcGxveWVlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBfY3JlYXRlRW1wbG95ZWUsCiAgICAgICAgLy8gUGFyYW1ldGVycwogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0LAogICAgICAgICAgc2FsYXJ5OiB0aGlzLnNhbGFyeSwKICAgICAgICAgIGJyYW5jaDogdGhpcy5icmFuY2gsCiAgICAgICAgICBwaG9uZTogdGhpcy5waG9uZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIE0udG9hc3QoewogICAgICAgICAgaHRtbDogIiIuY29uY2F0KF90aGlzMi4kdCgiY3JlYXRlZF9zdWNjZXNzZnVsbHkiLCB7CiAgICAgICAgICAgIG5hbWU6IF90aGlzMi4kdChkYXRhLmRhdGEuY3JlYXRlRW1wbG95ZWUubmFtZSkKICAgICAgICAgIH0pKSwKICAgICAgICAgIGNsYXNzZXM6ICJzdWNjZXNzIHRvYXN0IiwKICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDMwMDAKICAgICAgICB9KTsKICAgICAgICBfdGhpczIuaWQgPSBkYXRhLmRhdGEuY3JlYXRlRW1wbG95ZWUuaWQ7CgogICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImVtcGxveWVlcy5pbmRleCIKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIC8vY29uc29sZS5sb2coZSkKICAgICAgICBfdGhpczIudmFsaWRhdGlvbkVycm9yID0gX3RoaXMyLiR0KCJuYW1lX3VuaXF1ZSIpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRTZWxlY3RzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddEmployeesMixin.js"],"names":["Breadcrumbs","M","SimpleVueValidation","createEmployee","updateEmployee","allBranches","employeeQuery","Validator","components","data","path","title","route","employee","branch","name","target","email","phone","validationError","fregment","validators","value","required","maxLength","digit","sallary","apollo","query","variables","id","parseInt","$route","params","result","salary","watch","btn","document","querySelector","validation","errors","length","setAttribute","touchedRecords","removeAttribute","methods","loadSelects","selects","querySelectorAll","setTimeout","FormSelect","init","submitted","$apollo","mutate","mutation","then","toast","html","$t","classes","displayLength","$router","push","catch","mounted"],"mappings":"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","sourcesContent":["import Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport M from \"materialize-css\";\nimport SimpleVueValidation from \"simple-vue-validator\";\nimport {\n  createEmployee,\n  updateEmployee,\n  allBranches,\n  employeeQuery\n} from \"@/graphql/queries/queries.js\";\nconst Validator = SimpleVueValidation.Validator;\nexport default {\n  components: {\n    Breadcrumbs\n  },\n  data() {\n    return {\n      path: [{ title: \"employees\", route: \"employees.index\" }],\n      employee: {},\n      allBranches: [],\n      branch: \"\",\n      name: \"\",\n      target: \"\",\n      email: \"\",\n      phone: \"\",\n      title: \"create_employee\",\n      validationError: \"\",\n      fregment: \"\"\n    };\n  },\n  validators: {\n    name(value) {\n      return Validator.value(value)\n        .required()\n        .maxLength(100);\n    },\n    target(value) {\n      return Validator.value(value)\n        .required()\n        .digit();\n    },\n    email(value) {\n      return Validator.value(value)\n        .maxLength(200)\n        .email();\n    },\n    phone(value) {\n      return Validator.value(value).maxLength(16);\n    },\n    sallary(value) {\n      return Validator.value(value)\n        .digit()\n        .maxLength(4);\n    }\n  },\n\n  apollo: {\n    employee() {\n      return {\n        query: employeeQuery,\n        variables() {\n          return {\n            id: parseInt(this.$route.params.id)\n          };\n        },\n        result({ data: { employee } }) {\n          this.name = employee.name;\n          this.email = employee.email;\n          this.phone = employee.phone;\n          this.target = employee.target ? employee.target : \"\";\n          this.salary = employee.salary;\n          this.branch = employee.branch ? employee.branch.id : \"\";\n          this.title = `edit`;\n        }\n      };\n    },\n    allBranches() {\n      return {\n        query: allBranches\n      };\n    }\n  },\n\n  watch: {\n    \"validation.errors\"() {\n      const btn = document.querySelector(\".input-field button\");\n      if (this.validation.errors.length > 0) {\n        btn.setAttribute(\"disabled\", \"disabled\");\n      } else {\n        if (!this.employee) {\n          this.validation.touchedRecords.length > 1\n            ? btn.removeAttribute(\"disabled\")\n            : \"\";\n        } else {\n          btn.removeAttribute(\"disabled\");\n        }\n      }\n    }\n  },\n  methods: {\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      setTimeout(() => {\n        M.FormSelect.init(selects, {});\n      }, 2000);\n    },\n    submitted() {\n      this.employee ? this.updateEmployee() : this.createEmployee();\n    },\n    updateEmployee() {\n      this.$apollo\n        .mutate({\n          mutation: updateEmployee,\n          // Parameters\n          variables: {\n            id: parseInt(this.$route.params.id),\n            name: this.name,\n            email: this.email,\n            target: this.target,\n            phone: this.phone,\n            branch: this.branch,\n            salary: this.salary\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"updated_successfully\", {\n              name: this.$t(data.data.updateEmployee.name)\n            })}`,\n            classes: \"success toast\",\n            displayLength: 2000\n          });\n          this.$router.push({ name: \"employees.index\" });\n        });\n    },\n    createEmployee() {\n      this.$apollo\n        .mutate({\n          mutation: createEmployee,\n          // Parameters\n          variables: {\n            name: this.name,\n            email: this.email,\n            target: this.target,\n            salary: this.salary,\n            branch: this.branch,\n            phone: this.phone\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"created_successfully\", {\n              name: this.$t(data.data.createEmployee.name)\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n          this.id = data.data.createEmployee.id;\n          this.$router.push({ name: \"employees.index\" });\n        })\n        .catch(() => {\n          //console.log(e)\n          this.validationError = this.$t(\"name_unique\");\n        });\n    }\n  },\n  mounted() {\n    this.loadSelects();\n  }\n};\n"]}]}