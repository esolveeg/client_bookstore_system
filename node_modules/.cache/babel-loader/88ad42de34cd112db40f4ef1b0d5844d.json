{"remainingRequest":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/thread-loader/dist/cjs.js!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/babel-loader/lib/index.js!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddCustomersMixin.js","dependencies":[{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddCustomersMixin.js","mtime":1609793655123},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":1609793563794},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/thread-loader/dist/cjs.js","mtime":1609793585507},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/babel-loader/lib/index.js","mtime":1609793590147},{"path":"/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/node_modules/eslint-loader/index.js","mtime":1609793554208}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCBCcmVhZGNydW1icyBmcm9tICJAL2NvbXBvbmVudHMvbGF5b3V0cy9CcmVhZGNydW1icy52dWUiOwppbXBvcnQgTSBmcm9tICJtYXRlcmlhbGl6ZS1jc3MiOwppbXBvcnQgU2ltcGxlVnVlVmFsaWRhdGlvbiBmcm9tICJzaW1wbGUtdnVlLXZhbGlkYXRvciI7CmltcG9ydCB7IGNyZWF0ZUN1c3RvbWVyIGFzIF9jcmVhdGVDdXN0b21lciwgdXBkYXRlQ3VzdG9tZXIgYXMgX3VwZGF0ZUN1c3RvbWVyLCBhbGxCcmFuY2hlcyBhcyBfYWxsQnJhbmNoZXMsIGN1c3RvbWVyUXVlcnkgfSBmcm9tICJAL2dyYXBocWwvcXVlcmllcy9xdWVyaWVzLmpzIjsKdmFyIFZhbGlkYXRvciA9IFNpbXBsZVZ1ZVZhbGlkYXRpb24uVmFsaWRhdG9yOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQnJlYWRjcnVtYnM6IEJyZWFkY3J1bWJzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGF0aDogW3sKICAgICAgICB0aXRsZTogImN1c3RvbWVycyIsCiAgICAgICAgcm91dGU6ICJjdXN0b21lcnMuaW5kZXgiCiAgICAgIH1dLAogICAgICBjdXN0b21lcjoge30sCiAgICAgIG5hbWU6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIGludGVyc3RzOiAiIiwKICAgICAgcGhvbmU6ICIiLAogICAgICBhbGxCcmFuY2hlczogW10sCiAgICAgIHRpdGxlOiAiY3JlYXRlX2N1c3RvbWVyIiwKICAgICAgdmFsaWRhdGlvbkVycm9yOiAiIiwKICAgICAgZnJlZ21lbnQ6ICIiCiAgICB9OwogIH0sCiAgdmFsaWRhdG9yczogewogICAgbmFtZTogZnVuY3Rpb24gbmFtZSh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5yZXF1aXJlZCgpLm1heExlbmd0aCgxMDApOwogICAgfSwKICAgIGVtYWlsOiBmdW5jdGlvbiBlbWFpbCh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5tYXhMZW5ndGgoMjAwKS5yZXF1aXJlZCgpLmVtYWlsKCk7CiAgICB9LAogICAgaW50ZXJzdHM6IGZ1bmN0aW9uIGludGVyc3RzKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLm1heExlbmd0aCgyNTApOwogICAgfSwKICAgIHBob25lOiBmdW5jdGlvbiBwaG9uZSh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5tYXhMZW5ndGgoMTYpOwogICAgfSwKICAgIGJyYWNuY2g6IGZ1bmN0aW9uIGJyYWNuY2godmFsdWUpIHsKICAgICAgcmV0dXJuIFZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQoKTsKICAgIH0KICB9LAogIGFwb2xsbzogewogICAgY3VzdG9tZXI6IGZ1bmN0aW9uIGN1c3RvbWVyKCkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiBjdXN0b21lclF1ZXJ5LAogICAgICAgIHZhcmlhYmxlczogZnVuY3Rpb24gdmFyaWFibGVzKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmKSB7CiAgICAgICAgICB2YXIgY3VzdG9tZXIgPSBfcmVmLmRhdGEuY3VzdG9tZXI7CiAgICAgICAgICB0aGlzLm5hbWUgPSBjdXN0b21lci5uYW1lOwogICAgICAgICAgdGhpcy5lbWFpbCA9IGN1c3RvbWVyLmVtYWlsOwogICAgICAgICAgdGhpcy5pbnRlcnN0cyA9IGN1c3RvbWVyLmludGVyc3RzOwogICAgICAgICAgdGhpcy5icmFuY2ggPSBjdXN0b21lci5icmFuY2guaWQ7CiAgICAgICAgICB0aGlzLnBob25lID0gY3VzdG9tZXIucGhvbmU7CiAgICAgICAgICB0aGlzLnRpdGxlID0gImVkaXQiOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBhbGxCcmFuY2hlczogZnVuY3Rpb24gYWxsQnJhbmNoZXMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcXVlcnk6IF9hbGxCcmFuY2hlcwogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICJ2YWxpZGF0aW9uLmVycm9ycyI6IGZ1bmN0aW9uIHZhbGlkYXRpb25FcnJvcnMoKSB7CiAgICAgIHZhciBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaW5wdXQtZmllbGQgYnV0dG9uIik7CgogICAgICBpZiAodGhpcy52YWxpZGF0aW9uLmVycm9ycy5sZW5ndGggPiAwKSB7CiAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMuY3VzdG9tZXIpIHsKICAgICAgICAgIHRoaXMudmFsaWRhdGlvbi50b3VjaGVkUmVjb3Jkcy5sZW5ndGggPiAxID8gYnRuLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKSA6ICIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgc3RvcmU6IHsKICAgIGlzUG9zOiAiaXNQb3MiLAogICAgYnJhbmNoOiAiYnJhbmNoX2lkIgogIH0sCiAgbWV0aG9kczogewogICAgbG9hZFNlbGVjdHM6IGZ1bmN0aW9uIGxvYWRTZWxlY3RzKCkgewogICAgICB2YXIgc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNlbGVjdCIpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBNLkZvcm1TZWxlY3QuaW5pdChzZWxlY3RzLCB7fSk7CiAgICAgIH0sIDIwMDApOwogICAgfSwKICAgIHN1Ym1pdHRlZDogZnVuY3Rpb24gc3VibWl0dGVkKCkgewogICAgICB0aGlzLmN1c3RvbWVyID8gdGhpcy51cGRhdGVDdXN0b21lcigpIDogdGhpcy5jcmVhdGVDdXN0b21lcigpOwogICAgfSwKICAgIHVwZGF0ZUN1c3RvbWVyOiBmdW5jdGlvbiB1cGRhdGVDdXN0b21lcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBfdXBkYXRlQ3VzdG9tZXIsCiAgICAgICAgLy8gUGFyYW1ldGVycwogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWQ6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCksCiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIGludGVyc3RzOiB0aGlzLmludGVyc3RzLAogICAgICAgICAgYnJhbmNoOiB0aGlzLmJyYW5jaCwKICAgICAgICAgIHBob25lOiB0aGlzLnBob25lCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICBodG1sOiAiIi5jb25jYXQoX3RoaXMuJHQoInVwZGF0ZWRfc3VjY2Vzc2Z1bGx5IiwgewogICAgICAgICAgICBuYW1lOiBfdGhpcy4kdChkYXRhLmRhdGEudXBkYXRlQ3VzdG9tZXIubmFtZSkKICAgICAgICAgIH0pKSwKICAgICAgICAgIGNsYXNzZXM6ICJzdWNjZXNzIHRvYXN0IiwKICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJjdXN0b21lcnMuaW5kZXgiCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy90aGlzLnZhbGlkYXRpb25FcnJvciA9IHRoaXMuJHQoIm5hbWVfdW5pcXVlIik7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZUN1c3RvbWVyOiBmdW5jdGlvbiBjcmVhdGVDdXN0b21lcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogX2NyZWF0ZUN1c3RvbWVyLAogICAgICAgIC8vIFBhcmFtZXRlcnMKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgaW50ZXJzdHM6IHRoaXMuaW50ZXJzdHMsCiAgICAgICAgICBicmFuY2g6IHRoaXMuYnJhbmNoLAogICAgICAgICAgcGhvbmU6IHRoaXMucGhvbmUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgIGh0bWw6ICIiLmNvbmNhdChfdGhpczIuJHQoImNyZWF0ZWRfc3VjY2Vzc2Z1bGx5IiwgewogICAgICAgICAgICBuYW1lOiBfdGhpczIuJHQoZGF0YS5kYXRhLmNyZWF0ZUN1c3RvbWVyLm5hbWUpCiAgICAgICAgICB9KSksCiAgICAgICAgICBjbGFzc2VzOiAic3VjY2VzcyB0b2FzdCIsCiAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAzMDAwCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMyLmlkID0gZGF0YS5kYXRhLmNyZWF0ZUN1c3RvbWVyLmlkOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJjdXN0b21lcnMuaW5kZXgiCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKGUpCiAgICAgICAgX3RoaXMyLnZhbGlkYXRpb25FcnJvciA9IF90aGlzMi4kdCgibmFtZV91bmlxdWUiKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkU2VsZWN0cygpOwogIH0KfTs="},{"version":3,"sources":["/home/ahmed/ahmedashrafdevv/esolveeg/projects/bookstore_system/client/systemfinal/src/mixins/EditAddCustomersMixin.js"],"names":["Breadcrumbs","M","SimpleVueValidation","createCustomer","updateCustomer","allBranches","customerQuery","Validator","components","data","path","title","route","customer","name","email","intersts","phone","validationError","fregment","validators","value","required","maxLength","bracnch","apollo","query","variables","id","parseInt","$route","params","result","branch","watch","btn","document","querySelector","validation","errors","length","setAttribute","touchedRecords","removeAttribute","store","isPos","methods","loadSelects","selects","querySelectorAll","setTimeout","FormSelect","init","submitted","$apollo","mutate","mutation","then","toast","html","$t","classes","displayLength","$router","push","catch","error","console","log","mounted"],"mappings":";;AAAA,OAAOA,WAAP,MAAwB,sCAAxB;AACA,OAAOC,CAAP,MAAc,iBAAd;AACA,OAAOC,mBAAP,MAAgC,sBAAhC;AACA,SACEC,cAAc,IAAdA,eADF,EAEEC,cAAc,IAAdA,eAFF,EAGEC,WAAW,IAAXA,YAHF,EAIEC,aAJF,QAKO,8BALP;AAMA,IAAMC,SAAS,GAAGL,mBAAmB,CAACK,SAAtC;AACA,eAAe;AACbC,EAAAA,UAAU,EAAE;AACVR,IAAAA,WAAW,EAAXA;AADU,GADC;AAIbS,EAAAA,IAJa,kBAIN;AACL,WAAO;AACLC,MAAAA,IAAI,EAAE,CAAC;AAAEC,QAAAA,KAAK,EAAE,WAAT;AAAsBC,QAAAA,KAAK,EAAE;AAA7B,OAAD,CADD;AAELC,MAAAA,QAAQ,EAAE,EAFL;AAGLC,MAAAA,IAAI,EAAE,EAHD;AAILC,MAAAA,KAAK,EAAE,EAJF;AAKLC,MAAAA,QAAQ,EAAE,EALL;AAMLC,MAAAA,KAAK,EAAE,EANF;AAOLZ,MAAAA,WAAW,EAAE,EAPR;AAQLM,MAAAA,KAAK,EAAE,iBARF;AASLO,MAAAA,eAAe,EAAE,EATZ;AAULC,MAAAA,QAAQ,EAAE;AAVL,KAAP;AAYD,GAjBY;AAkBbC,EAAAA,UAAU,EAAE;AACVN,IAAAA,IADU,gBACLO,KADK,EACE;AACV,aAAOd,SAAS,CAACc,KAAV,CAAgBA,KAAhB,EACJC,QADI,GAEJC,SAFI,CAEM,GAFN,CAAP;AAGD,KALS;AAMVR,IAAAA,KANU,iBAMJM,KANI,EAMG;AACX,aAAOd,SAAS,CAACc,KAAV,CAAgBA,KAAhB,EACJE,SADI,CACM,GADN,EAEJD,QAFI,GAGJP,KAHI,EAAP;AAID,KAXS;AAYVC,IAAAA,QAZU,oBAYDK,KAZC,EAYM;AACd,aAAOd,SAAS,CAACc,KAAV,CAAgBA,KAAhB,EAAuBE,SAAvB,CAAiC,GAAjC,CAAP;AACD,KAdS;AAeVN,IAAAA,KAfU,iBAeJI,KAfI,EAeG;AACX,aAAOd,SAAS,CAACc,KAAV,CAAgBA,KAAhB,EAAuBE,SAAvB,CAAiC,EAAjC,CAAP;AACD,KAjBS;AAkBVC,IAAAA,OAlBU,mBAkBFH,KAlBE,EAkBK;AACb,aAAOd,SAAS,CAACc,KAAV,CAAgBA,KAAhB,EAAuBC,QAAvB,EAAP;AACD;AApBS,GAlBC;AAyCbG,EAAAA,MAAM,EAAE;AACNZ,IAAAA,QADM,sBACK;AACT,aAAO;AACLa,QAAAA,KAAK,EAAEpB,aADF;AAELqB,QAAAA,SAFK,uBAEO;AACV,iBAAO;AACLC,YAAAA,EAAE,EAAEC,QAAQ,CAAC,KAAKC,MAAL,CAAYC,MAAZ,CAAmBH,EAApB;AADP,WAAP;AAGD,SANI;AAOLI,QAAAA,MAPK,wBAO0B;AAAA,cAAdnB,QAAc,QAAtBJ,IAAsB,CAAdI,QAAc;AAC7B,eAAKC,IAAL,GAAYD,QAAQ,CAACC,IAArB;AACA,eAAKC,KAAL,GAAaF,QAAQ,CAACE,KAAtB;AACA,eAAKC,QAAL,GAAgBH,QAAQ,CAACG,QAAzB;AACA,eAAKiB,MAAL,GAAcpB,QAAQ,CAACoB,MAAT,CAAgBL,EAA9B;AACA,eAAKX,KAAL,GAAaJ,QAAQ,CAACI,KAAtB;AACA,eAAKN,KAAL;AACD;AAdI,OAAP;AAgBD,KAlBK;AAmBNN,IAAAA,WAnBM,yBAmBQ;AACZ,aAAO;AACLqB,QAAAA,KAAK,EAAErB;AADF,OAAP;AAGD;AAvBK,GAzCK;AAmEb6B,EAAAA,KAAK,EAAE;AACL,uBADK,8BACiB;AACpB,UAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAZ;;AACA,UAAI,KAAKC,UAAL,CAAgBC,MAAhB,CAAuBC,MAAvB,GAAgC,CAApC,EAAuC;AACrCL,QAAAA,GAAG,CAACM,YAAJ,CAAiB,UAAjB,EAA6B,UAA7B;AACD,OAFD,MAEO;AACL,YAAI,CAAC,KAAK5B,QAAV,EAAoB;AAClB,eAAKyB,UAAL,CAAgBI,cAAhB,CAA+BF,MAA/B,GAAwC,CAAxC,GACIL,GAAG,CAACQ,eAAJ,CAAoB,UAApB,CADJ,GAEI,EAFJ;AAGD,SAJD,MAIO;AACLR,UAAAA,GAAG,CAACQ,eAAJ,CAAoB,UAApB;AACD;AACF;AACF;AAdI,GAnEM;AAmFbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE,OADF;AAELZ,IAAAA,MAAM,EAAE;AAFH,GAnFM;AAuFba,EAAAA,OAAO,EAAE;AACPC,IAAAA,WADO,yBACO;AACZ,UAAIC,OAAO,GAAGZ,QAAQ,CAACa,gBAAT,CAA0B,QAA1B,CAAd;AACAC,MAAAA,UAAU,CAAC,YAAM;AACfjD,QAAAA,CAAC,CAACkD,UAAF,CAAaC,IAAb,CAAkBJ,OAAlB,EAA2B,EAA3B;AACD,OAFS,EAEP,IAFO,CAAV;AAGD,KANM;AAOPK,IAAAA,SAPO,uBAOK;AACV,WAAKxC,QAAL,GAAgB,KAAKT,cAAL,EAAhB,GAAwC,KAAKD,cAAL,EAAxC;AACD,KATM;AAUPC,IAAAA,cAVO,4BAUU;AAAA;;AACf,WAAKkD,OAAL,CACGC,MADH,CACU;AACNC,QAAAA,QAAQ,EAAEpD,eADJ;AAEN;AACAuB,QAAAA,SAAS,EAAE;AACTC,UAAAA,EAAE,EAAEC,QAAQ,CAAC,KAAKC,MAAL,CAAYC,MAAZ,CAAmBH,EAApB,CADH;AAETd,UAAAA,IAAI,EAAE,KAAKA,IAFF;AAGTC,UAAAA,KAAK,EAAE,KAAKA,KAHH;AAITC,UAAAA,QAAQ,EAAE,KAAKA,QAJN;AAKTiB,UAAAA,MAAM,EAAE,KAAKA,MALJ;AAMThB,UAAAA,KAAK,EAAE,KAAKA;AANH;AAHL,OADV,EAaGwC,IAbH,CAaQ,UAAAhD,IAAI,EAAI;AACZR,QAAAA,CAAC,CAACyD,KAAF,CAAQ;AACNC,UAAAA,IAAI,YAAK,KAAI,CAACC,EAAL,CAAQ,sBAAR,EAAgC;AACvC9C,YAAAA,IAAI,EAAE,KAAI,CAAC8C,EAAL,CAAQnD,IAAI,CAACA,IAAL,CAAUL,cAAV,CAAyBU,IAAjC;AADiC,WAAhC,CAAL,CADE;AAIN+C,UAAAA,OAAO,EAAE,eAJH;AAKNC,UAAAA,aAAa,EAAE;AALT,SAAR;;AAOA,QAAA,KAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB;AAAElD,UAAAA,IAAI,EAAE;AAAR,SAAlB;AACD,OAtBH,EAuBGmD,KAvBH,CAuBS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADc,CAEd;AACD,OA1BH;AA2BD,KAtCM;AAwCP/D,IAAAA,cAxCO,4BAwCU;AAAA;;AACf,WAAKmD,OAAL,CACGC,MADH,CACU;AACNC,QAAAA,QAAQ,EAAErD,eADJ;AAEN;AACAwB,QAAAA,SAAS,EAAE;AACTb,UAAAA,IAAI,EAAE,KAAKA,IADF;AAETC,UAAAA,KAAK,EAAE,KAAKA,KAFH;AAGTC,UAAAA,QAAQ,EAAE,KAAKA,QAHN;AAITiB,UAAAA,MAAM,EAAE,KAAKA,MAJJ;AAKThB,UAAAA,KAAK,EAAE,KAAKA;AALH;AAHL,OADV,EAYGwC,IAZH,CAYQ,UAAAhD,IAAI,EAAI;AACZR,QAAAA,CAAC,CAACyD,KAAF,CAAQ;AACNC,UAAAA,IAAI,YAAK,MAAI,CAACC,EAAL,CAAQ,sBAAR,EAAgC;AACvC9C,YAAAA,IAAI,EAAE,MAAI,CAAC8C,EAAL,CAAQnD,IAAI,CAACA,IAAL,CAAUN,cAAV,CAAyBW,IAAjC;AADiC,WAAhC,CAAL,CADE;AAIN+C,UAAAA,OAAO,EAAE,eAJH;AAKNC,UAAAA,aAAa,EAAE;AALT,SAAR;AAOA,QAAA,MAAI,CAAClC,EAAL,GAAUnB,IAAI,CAACA,IAAL,CAAUN,cAAV,CAAyByB,EAAnC;;AACA,QAAA,MAAI,CAACmC,OAAL,CAAaC,IAAb,CAAkB;AAAElD,UAAAA,IAAI,EAAE;AAAR,SAAlB;AACD,OAtBH,EAuBGmD,KAvBH,CAuBS,YAAM;AACX;AACA,QAAA,MAAI,CAAC/C,eAAL,GAAuB,MAAI,CAAC0C,EAAL,CAAQ,aAAR,CAAvB;AACD,OA1BH;AA2BD;AApEM,GAvFI;AA6JbS,EAAAA,OA7Ja,qBA6JH;AACR,SAAKtB,WAAL;AACD;AA/JY,CAAf","sourcesContent":["import Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport M from \"materialize-css\";\nimport SimpleVueValidation from \"simple-vue-validator\";\nimport {\n  createCustomer,\n  updateCustomer,\n  allBranches,\n  customerQuery\n} from \"@/graphql/queries/queries.js\";\nconst Validator = SimpleVueValidation.Validator;\nexport default {\n  components: {\n    Breadcrumbs\n  },\n  data() {\n    return {\n      path: [{ title: \"customers\", route: \"customers.index\" }],\n      customer: {},\n      name: \"\",\n      email: \"\",\n      intersts: \"\",\n      phone: \"\",\n      allBranches: [],\n      title: \"create_customer\",\n      validationError: \"\",\n      fregment: \"\"\n    };\n  },\n  validators: {\n    name(value) {\n      return Validator.value(value)\n        .required()\n        .maxLength(100);\n    },\n    email(value) {\n      return Validator.value(value)\n        .maxLength(200)\n        .required()\n        .email();\n    },\n    intersts(value) {\n      return Validator.value(value).maxLength(250);\n    },\n    phone(value) {\n      return Validator.value(value).maxLength(16);\n    },\n    bracnch(value) {\n      return Validator.value(value).required();\n    }\n  },\n\n  apollo: {\n    customer() {\n      return {\n        query: customerQuery,\n        variables() {\n          return {\n            id: parseInt(this.$route.params.id)\n          };\n        },\n        result({ data: { customer } }) {\n          this.name = customer.name;\n          this.email = customer.email;\n          this.intersts = customer.intersts;\n          this.branch = customer.branch.id;\n          this.phone = customer.phone;\n          this.title = `edit`;\n        }\n      };\n    },\n    allBranches() {\n      return {\n        query: allBranches\n      };\n    }\n  },\n\n  watch: {\n    \"validation.errors\"() {\n      const btn = document.querySelector(\".input-field button\");\n      if (this.validation.errors.length > 0) {\n        btn.setAttribute(\"disabled\", \"disabled\");\n      } else {\n        if (!this.customer) {\n          this.validation.touchedRecords.length > 1\n            ? btn.removeAttribute(\"disabled\")\n            : \"\";\n        } else {\n          btn.removeAttribute(\"disabled\");\n        }\n      }\n    }\n  },\n  store: {\n    isPos: \"isPos\",\n    branch: \"branch_id\"\n  },\n  methods: {\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      setTimeout(() => {\n        M.FormSelect.init(selects, {});\n      }, 2000);\n    },\n    submitted() {\n      this.customer ? this.updateCustomer() : this.createCustomer();\n    },\n    updateCustomer() {\n      this.$apollo\n        .mutate({\n          mutation: updateCustomer,\n          // Parameters\n          variables: {\n            id: parseInt(this.$route.params.id),\n            name: this.name,\n            email: this.email,\n            intersts: this.intersts,\n            branch: this.branch,\n            phone: this.phone\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"updated_successfully\", {\n              name: this.$t(data.data.updateCustomer.name)\n            })}`,\n            classes: \"success toast\",\n            displayLength: 2000\n          });\n          this.$router.push({ name: \"customers.index\" });\n        })\n        .catch(error => {\n          console.log(error);\n          //this.validationError = this.$t(\"name_unique\");\n        });\n    },\n\n    createCustomer() {\n      this.$apollo\n        .mutate({\n          mutation: createCustomer,\n          // Parameters\n          variables: {\n            name: this.name,\n            email: this.email,\n            intersts: this.intersts,\n            branch: this.branch,\n            phone: this.phone\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"created_successfully\", {\n              name: this.$t(data.data.createCustomer.name)\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n          this.id = data.data.createCustomer.id;\n          this.$router.push({ name: \"customers.index\" });\n        })\n        .catch(() => {\n          //console.log(e)\n          this.validationError = this.$t(\"name_unique\");\n        });\n    }\n  },\n  mounted() {\n    this.loadSelects();\n  }\n};\n"]}]}