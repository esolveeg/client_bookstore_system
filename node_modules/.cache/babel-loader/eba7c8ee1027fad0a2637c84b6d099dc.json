{"remainingRequest":"/root/ahmed/vueJs/systemfinal/node_modules/thread-loader/dist/cjs.js!/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js!/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js??ref--13-0!/root/ahmed/vueJs/systemfinal/src/mixins/EditAddBranchesMixin.js","dependencies":[{"path":"/root/ahmed/vueJs/systemfinal/src/mixins/EditAddBranchesMixin.js","mtime":1584617848947},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/root/ahmed/vueJs/systemfinal/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCBCcmVhZGNydW1icyBmcm9tICJAL2NvbXBvbmVudHMvbGF5b3V0cy9CcmVhZGNydW1icy52dWUiOwppbXBvcnQgTSBmcm9tICJtYXRlcmlhbGl6ZS1jc3MiOwppbXBvcnQgU2ltcGxlVnVlVmFsaWRhdGlvbiBmcm9tICJzaW1wbGUtdnVlLXZhbGlkYXRvciI7CmltcG9ydCB7IGNyZWF0ZUJyYW5jaCBhcyBfY3JlYXRlQnJhbmNoLCB1cGRhdGVCcmFuY2ggYXMgX3VwZGF0ZUJyYW5jaCwgYnJhbmNoUXVlcnkgfSBmcm9tICJAL2dyYXBocWwvcXVlcmllcy9xdWVyaWVzLmpzIjsKdmFyIFZhbGlkYXRvciA9IFNpbXBsZVZ1ZVZhbGlkYXRpb24uVmFsaWRhdG9yOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQnJlYWRjcnVtYnM6IEJyZWFkY3J1bWJzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGF0aDogW3sKICAgICAgICB0aXRsZTogImJyYW5jaGVzIiwKICAgICAgICByb3V0ZTogImJyYW5jaGVzLmluZGV4IgogICAgICB9XSwKICAgICAgYnJhbmNoOiB7fSwKICAgICAgaWQ6ICIiLAogICAgICBuYW1lOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBhZGRyZXNzOiAiIiwKICAgICAgcGhvbmU6ICIiLAogICAgICByZW50OiAiIiwKICAgICAgYmlsbHM6ICIiLAogICAgICB0aXRsZTogImNyZWF0ZV9icmFuY2giLAogICAgICB2YWxpZGF0aW9uRXJyb3I6ICIiLAogICAgICBmcmVnbWVudDogIiIKICAgIH07CiAgfSwKICB2YWxpZGF0b3JzOiB7CiAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLnJlcXVpcmVkKCkubWF4TGVuZ3RoKDEwMCk7CiAgICB9LAogICAgZW1haWw6IGZ1bmN0aW9uIGVtYWlsKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLmVtYWlsKCkubWF4TGVuZ3RoKDIwMCk7CiAgICB9LAogICAgYWRkcmVzczogZnVuY3Rpb24gYWRkcmVzcyh2YWx1ZSkgewogICAgICByZXR1cm4gVmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5tYXhMZW5ndGgoMjAwKTsKICAgIH0sCiAgICBwaG9uZTogZnVuY3Rpb24gcGhvbmUodmFsdWUpIHsKICAgICAgcmV0dXJuIFZhbGlkYXRvci52YWx1ZSh2YWx1ZSkubWF4TGVuZ3RoKDE2KTsKICAgIH0sCiAgICByZW50OiBmdW5jdGlvbiByZW50KHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLnJlcXVpcmVkKCkuZGlnaXQoKS5tYXhMZW5ndGgoNSk7CiAgICB9LAogICAgYmlsbHM6IGZ1bmN0aW9uIGJpbGxzKHZhbHVlKSB7CiAgICAgIHJldHVybiBWYWxpZGF0b3IudmFsdWUodmFsdWUpLnJlcXVpcmVkKCkuZGlnaXQoKS5tYXhMZW5ndGgoNSk7CiAgICB9CiAgfSwKICBhcG9sbG86IHsKICAgIGJyYW5jaDogZnVuY3Rpb24gYnJhbmNoKCkgewogICAgICByZXR1cm4gewogICAgICAgIHF1ZXJ5OiBicmFuY2hRdWVyeSwKICAgICAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlkOiBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgcmVzdWx0OiBmdW5jdGlvbiByZXN1bHQoX3JlZikgewogICAgICAgICAgdmFyIGJyYW5jaCA9IF9yZWYuZGF0YS5icmFuY2g7CiAgICAgICAgICB0aGlzLm5hbWUgPSBicmFuY2gubmFtZTsKICAgICAgICAgIHRoaXMuZW1haWwgPSBicmFuY2guZW1haWw7CiAgICAgICAgICB0aGlzLmFkZHJlc3MgPSBicmFuY2guYWRkcmVzczsKICAgICAgICAgIHRoaXMucGhvbmUgPSBicmFuY2gucGhvbmU7CiAgICAgICAgICB0aGlzLnJlbnQgPSBicmFuY2gucmVudDsKICAgICAgICAgIHRoaXMuYmlsbHMgPSBicmFuY2guYmlsbHM7CiAgICAgICAgICB0aGlzLnRpdGxlID0gImVkaXQiOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAidmFsaWRhdGlvbi5lcnJvcnMiOiBmdW5jdGlvbiB2YWxpZGF0aW9uRXJyb3JzKCkgewogICAgICB2YXIgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmlucHV0LWZpZWxkIGJ1dHRvbiIpOwoKICAgICAgaWYgKHRoaXMudmFsaWRhdGlvbi5lcnJvcnMubGVuZ3RoID4gMCkgewogICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwgImRpc2FibGVkIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLmJyYW5jaCkgewogICAgICAgICAgdGhpcy52YWxpZGF0aW9uLnRvdWNoZWRSZWNvcmRzLmxlbmd0aCA+IDEgPyBidG4ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpIDogIiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXR0ZWQ6IGZ1bmN0aW9uIHN1Ym1pdHRlZCgpIHsKICAgICAgdGhpcy5icmFuY2ggPyB0aGlzLnVwZGF0ZUJyYW5jaCgpIDogdGhpcy5jcmVhdGVCcmFuY2goKTsKICAgIH0sCiAgICB1cGRhdGVCcmFuY2g6IGZ1bmN0aW9uIHVwZGF0ZUJyYW5jaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBfdXBkYXRlQnJhbmNoLAogICAgICAgIC8vIFBhcmFtZXRlcnMKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgYWRkcmVzczogdGhpcy5hZGRyZXNzLAogICAgICAgICAgcGhvbmU6IHRoaXMucGhvbmUsCiAgICAgICAgICByZW50OiB0aGlzLnJlbnQsCiAgICAgICAgICBiaWxsczogdGhpcy5iaWxscywKICAgICAgICAgIGlkOiBwYXJzZUludCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICBodG1sOiAiIi5jb25jYXQoX3RoaXMuJHQoInVwZGF0ZWRfc3VjY2Vzc2Z1bGx5IiwgewogICAgICAgICAgICBuYW1lOiBkYXRhLmRhdGEudXBkYXRlQnJhbmNoLm5hbWUKICAgICAgICAgIH0pKSwKICAgICAgICAgIGNsYXNzZXM6ICJzdWNjZXNzIHRvYXN0IiwKICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJicmFuY2hlcy5pbmRleCIKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgey8vdGhpcy52YWxpZGF0aW9uRXJyb3IgPSB0aGlzLiR0KCJuYW1lX3VuaXF1ZSIpOwogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVCcmFuY2g6IGZ1bmN0aW9uIGNyZWF0ZUJyYW5jaCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogX2NyZWF0ZUJyYW5jaCwKICAgICAgICAvLyBQYXJhbWV0ZXJzCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIGFkZHJlc3M6IHRoaXMuYWRkcmVzcywKICAgICAgICAgIHBob25lOiB0aGlzLnBob25lLAogICAgICAgICAgcmVudDogdGhpcy5yZW50LAogICAgICAgICAgYmlsbHM6IHRoaXMuYmlsbHMKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgIGh0bWw6ICIiLmNvbmNhdChfdGhpczIuJHQoImNyZWF0ZWRfc3VjY2Vzc2Z1bGx5IiwgewogICAgICAgICAgICBuYW1lOiBkYXRhLmRhdGEuY3JlYXRlQnJhbmNoLm5hbWUKICAgICAgICAgIH0pKSwKICAgICAgICAgIGNsYXNzZXM6ICJzdWNjZXNzIHRvYXN0IiwKICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDMwMDAKICAgICAgICB9KTsKICAgICAgICBfdGhpczIuaWQgPSBkYXRhLmRhdGEuY3JlYXRlQnJhbmNoLmlkOyAvLyBjb25zb2xlLmxvZyhpZCk7CgogICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImJyYW5jaGVzLmluZGV4IgogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhlKQogICAgICAgIF90aGlzMi52YWxpZGF0aW9uRXJyb3IgPSBfdGhpczIuJHQoIm5hbWVfdW5pcXVlIik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/root/ahmed/vueJs/systemfinal/src/mixins/EditAddBranchesMixin.js"],"names":["Breadcrumbs","M","SimpleVueValidation","createBranch","updateBranch","branchQuery","Validator","components","data","path","title","route","branch","id","name","email","address","phone","rent","bills","validationError","fregment","validators","value","required","maxLength","digit","apollo","query","variables","parseInt","$route","params","result","watch","btn","document","querySelector","validation","errors","length","setAttribute","touchedRecords","removeAttribute","methods","submitted","$apollo","mutate","mutation","then","toast","html","$t","classes","displayLength","$router","push","catch"],"mappings":"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","sourcesContent":["import Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport M from \"materialize-css\";\nimport SimpleVueValidation from \"simple-vue-validator\";\nimport {\n  createBranch,\n  updateBranch,\n  branchQuery\n} from \"@/graphql/queries/queries.js\";\nconst Validator = SimpleVueValidation.Validator;\n\nexport default {\n  components: {\n    Breadcrumbs\n  },\n  data() {\n    return {\n      path: [{ title: \"branches\", route: \"branches.index\" }],\n      branch: {},\n      id: \"\",\n      name: \"\",\n      email: \"\",\n      address: \"\",\n      phone: \"\",\n      rent: \"\",\n      bills: \"\",\n      title: \"create_branch\",\n      validationError: \"\",\n      fregment: \"\"\n    };\n  },\n  validators: {\n    name(value) {\n      return Validator.value(value)\n        .required()\n        .maxLength(100);\n    },\n    email(value) {\n      return Validator.value(value)\n        .email()\n        .maxLength(200);\n    },\n    address(value) {\n      return Validator.value(value).maxLength(200);\n    },\n    phone(value) {\n      return Validator.value(value).maxLength(16);\n    },\n    rent(value) {\n      return Validator.value(value)\n        .required()\n        .digit()\n        .maxLength(5);\n    },\n    bills(value) {\n      return Validator.value(value)\n        .required()\n        .digit()\n        .maxLength(5);\n    }\n  },\n\n  apollo: {\n    branch() {\n      return {\n        query: branchQuery,\n        variables() {\n          return {\n            id: parseInt(this.$route.params.id)\n          };\n        },\n        result({ data: { branch } }) {\n          this.name = branch.name;\n          this.email = branch.email;\n          this.address = branch.address;\n          this.phone = branch.phone;\n          this.rent = branch.rent;\n          this.bills = branch.bills;\n          this.title = `edit`;\n        }\n      };\n    }\n  },\n\n  watch: {\n    \"validation.errors\"() {\n      const btn = document.querySelector(\".input-field button\");\n      if (this.validation.errors.length > 0) {\n        btn.setAttribute(\"disabled\", \"disabled\");\n      } else {\n        if (!this.branch) {\n          this.validation.touchedRecords.length > 1\n            ? btn.removeAttribute(\"disabled\")\n            : \"\";\n        } else {\n          btn.removeAttribute(\"disabled\");\n        }\n      }\n    }\n  },\n  methods: {\n    submitted() {\n      this.branch ? this.updateBranch() : this.createBranch();\n    },\n    updateBranch() {\n      this.$apollo\n        .mutate({\n          mutation: updateBranch,\n          // Parameters\n          variables: {\n            name: this.name,\n            email: this.email,\n            address: this.address,\n            phone: this.phone,\n            rent: this.rent,\n            bills: this.bills,\n            id: parseInt(this.$route.params.id)\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"updated_successfully\", {\n              name: data.data.updateBranch.name\n            })}`,\n            classes: \"success toast\",\n            displayLength: 2000\n          });\n          this.$router.push({ name: \"branches.index\" });\n        })\n        .catch(() => {\n          //this.validationError = this.$t(\"name_unique\");\n        });\n    },\n    createBranch() {\n      this.$apollo\n        .mutate({\n          mutation: createBranch,\n          // Parameters\n          variables: {\n            name: this.name,\n            email: this.email,\n            address: this.address,\n            phone: this.phone,\n            rent: this.rent,\n            bills: this.bills\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"created_successfully\", {\n              name: data.data.createBranch.name\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n          this.id = data.data.createBranch.id;\n          // console.log(id);\n          this.$router.push({ name: \"branches.index\" });\n        })\n        .catch(() => {\n          //console.log(e)\n          this.validationError = this.$t(\"name_unique\");\n        });\n    }\n  }\n};\n"]}]}