{"version":3,"sources":["webpack:///./src/views/products/Edit-add-multi.vue?adb7","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./src/views/products/Edit-add-multi.vue?4b8e","webpack:///src/views/products/Edit-add-multi.vue","webpack:///./src/views/products/Edit-add-multi.vue?4242","webpack:///./src/views/products/Edit-add-multi.vue?c27d"],"names":["$","$indexOf","indexOf","sloppyArrayMethod","nativeIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","target","proto","forced","searchElement","apply","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","path","fregment","_v","_s","$t","on","$event","preventDefault","submitted","validationError","_e","class","error","validation","hasError","isbn","directives","name","rawName","value","expression","domProps","composing","product","firstError","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","branch","multiple","_l","key","id","index","price","purchased_price","qtys","$set","staticStyle","removeProduct","staticRenderFns","components","Breadcrumbs","data","qtyIncreased","productsIds","newQtys","names","isbns","prices","purchased_prices","productAlreadyAdded","productAdded","products","allBranches","allProducts","validators","Validator","required","apollo","query","result","watch","errors","btn","setAttribute","order","removeAttribute","setTimeout","discount","discountType","discountValue","elem","style","opacity","includes","push","qty","methods","resetForm","loadSelects","increaseQty","decreaseQty","toObject","i","arr","rv","createMultiProducts","mounted","document","addEventListener","event","isComposing","keyCode","component"],"mappings":"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","file":"js/chunk-2df53e6a.31fdc655.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit-add-multi.vue?vue&type=style&index=0&id=0d930849&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit-add-multi.vue?vue&type=style&index=0&id=0d930849&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || SLOPPY_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('Breadcrumbs',{attrs:{\"title\":_vm.title,\"path\":_vm.path,\"fregment\":_vm.fregment}}),_c('div',{staticClass:\"col s12 mt-65\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col s12 m12 l12\"},[_c('h5',{staticClass:\"form-title\"},[_c('i',{staticClass:\"material-icons app-header-icon text-top\"},[_vm._v(\"perm_identity\")]),_vm._v(\" \"+_vm._s(_vm.$t(_vm.title, { fregment: _vm.fregment }))+\" \")]),_c('div',{staticClass:\"card animated  fadeInLeft \"},[_c('div',{staticClass:\"card-content\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitted()}}},[(_vm.validationError)?_c('div',{staticClass:\"card-alert danger card\"},[_c('div',{staticClass:\"card-content\"},[_c('p',[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"error\")]),_vm._v(_vm._s(_vm.validationError)+\" \")])])]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col s12 l6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\",class:{ error: _vm.validation.hasError('isbn') }},[_c('i',{staticClass:\"material-icons prefix isbn-clear active\",on:{\"click\":function($event){_vm.isbn = ''}}},[_vm._v(\"clear\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product),expression:\"product\"}],staticClass:\"input-isbn autocomplete\",attrs:{\"id\":\"isbn\",\"type\":\"text\",\"autocomplete\":\"off\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.product)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.product=$event.target.value}}}),_c('label',{staticClass:\"label-isbn active\",class:_vm.isbn ? 'active' : '',attrs:{\"for\":\"isbn\"}},[_vm._v(_vm._s(_vm.$t(\"product\")))]),_c('div',{staticClass:\"message\"},[(this.qtyIncreased)?_c('span',{staticClass:\"success-text\"},[_vm._v(_vm._s(_vm.$t(\"qty_increased\")))]):_vm._e(),(this.productAlreadyAdded)?_c('span',{staticClass:\"error-text\"},[_vm._v(_vm._s(_vm.$t(\"poduct_already_add\")))]):_vm._e(),(this.productAdded)?_c('span',{staticClass:\"success-text\"},[_vm._v(_vm._s(_vm.$t(\"poduct_added_successfully\")))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.validation.firstError(\"isbn\"))+\" \")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\",class:{ error: _vm.validation.hasError('branch') }},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.branch),expression:\"branch\"}],attrs:{\"id\":\"branch\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.branch=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"none\"}},[_vm._v(_vm._s(_vm.$t(\"select_branch\")))]),_vm._l((_vm.allBranches),function(branch){return _c('option',{key:branch.id,domProps:{\"value\":branch.id}},[_vm._v(_vm._s(branch.name))])})],2),_c('label',{class:_vm.branch ? 'active' : '',attrs:{\"for\":\"branches\"}},[_vm._v(_vm._s(_vm.$t(\"branches\")))]),_c('div',{staticClass:\"message\"},[_vm._v(\" \"+_vm._s(_vm.validation.firstError(\"branch\"))+\" \")])])])]),_c('div',{staticClass:\"col s12 l6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\"},[_c('div',{staticClass:\"products\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"products\"))+\" \")]),_c('div',{staticClass:\"invoice__table\"},[_c('table',{staticClass:\"highlight responsive-table\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"data-field\":\"no\"}},[_vm._v(_vm._s(_vm.$t(\"no\")))]),_c('th',{attrs:{\"data-field\":\"item\"}},[_vm._v(_vm._s(_vm.$t(\"item\")))]),_c('th',{attrs:{\"data-field\":\"item\"}},[_vm._v(_vm._s(_vm.$t(\"price\")))]),_c('th',{attrs:{\"data-field\":\"item\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"purchased_price\"))+\" \")]),_c('th',{attrs:{\"data-field\":\"price\"}},[_vm._v(_vm._s(_vm.$t(\"qty\")))])])]),_c('tbody',_vm._l((_vm.products),function(product,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index + 1)+\".\")]),_c('td',[_vm._v(_vm._s(product.name))]),_c('td',[_vm._v(_vm._s(product.price))]),_c('td',[_vm._v(_vm._s(product.purchased_price))]),_c('td',[_c('div',{staticClass:\"counter\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.qtys[index]),expression:\"qtys[index]\"}],staticClass:\"border-none w2\",domProps:{\"value\":(_vm.qtys[index])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.qtys, index, $event.target.value)}}})])]),_c('td',[_c('i',{staticClass:\"material-icons\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.removeProduct(index)}}},[_vm._v(\"delete\")])])])}),0)])])])])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\"},[_c('button',{staticClass:\"btn create cyan waves-effect waves-light left\",attrs:{\"type\":\"submit\",\"disabled\":\"disabled\",\"name\":\"action\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"save\"))+\" \"),_c('i',{staticClass:\"material-icons right\"},[_vm._v(\"send\")])])])])])])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <Breadcrumbs :title=\"title\" :path=\"path\" :fregment=\"fregment\" />\n    <div class=\"col s12 mt-65\">\n      <div class=\"container\">\n        <!-- Current balance & total transactions cards-->\n        <div class=\"row mt-4\">\n          <div class=\"col s12 m12 l12\">\n            <!-- Current Balance -->\n            <h5 class=\"form-title\">\n              <i class=\"material-icons app-header-icon text-top\"\n                >perm_identity</i\n              >\n              {{ $t(title, { fregment }) }}\n            </h5>\n\n            <div class=\"card animated  fadeInLeft \">\n              <div class=\"card-content\">\n                <form @submit.prevent=\"submitted()\">\n                  <div class=\"card-alert danger card\" v-if=\"validationError\">\n                    <div class=\"card-content\">\n                      <p>\n                        <i class=\"material-icons\">error</i>{{ validationError }}\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col s12 l6\">\n                      <div class=\"row\">\n                        <div\n                          class=\"input-field col s12\"\n                          :class=\"{ error: validation.hasError('isbn') }\"\n                        >\n                          <i\n                            class=\"material-icons prefix isbn-clear active\"\n                            @click=\"isbn = ''\"\n                            >clear</i\n                          >\n                          <input\n                            v-model=\"product\"\n                            id=\"isbn\"\n                            type=\"text\"\n                            class=\"input-isbn autocomplete\"\n                            autocomplete=\"off\"\n                            autofocus\n                          />\n                          <label\n                            for=\"isbn\"\n                            class=\"label-isbn active\"\n                            :class=\"isbn ? 'active' : ''\"\n                            >{{ $t(\"product\") }}</label\n                          >\n                          <div class=\"message\">\n                            <span\n                              v-if=\"this.qtyIncreased\"\n                              class=\"success-text\"\n                              >{{ $t(\"qty_increased\") }}</span\n                            >\n                            <span\n                              v-if=\"this.productAlreadyAdded\"\n                              class=\"error-text\"\n                              >{{ $t(\"poduct_already_add\") }}</span\n                            >\n                            <span\n                              v-if=\"this.productAdded\"\n                              class=\"success-text\"\n                              >{{ $t(\"poduct_added_successfully\") }}</span\n                            >\n                            {{ validation.firstError(\"isbn\") }}\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div\n                          class=\"input-field col s12\"\n                          :class=\"{ error: validation.hasError('branch') }\"\n                        >\n                          <select id=\"branch\" v-model=\"branch\">\n                            <option value=\"\" disabled=\"none\">{{\n                              $t(\"select_branch\")\n                            }}</option>\n                            <option\n                              v-for=\"branch in allBranches\"\n                              :key=\"branch.id\"\n                              :value=\"branch.id\"\n                              >{{ branch.name }}</option\n                            >\n                          </select>\n                          <label\n                            for=\"branches\"\n                            :class=\"branch ? 'active' : ''\"\n                            >{{ $t(\"branches\") }}</label\n                          >\n                          <div class=\"message\">\n                            {{ validation.firstError(\"branch\") }}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"col s12 l6\">\n                      <div class=\"row\">\n                        <div class=\"input-field col s12\">\n                          <div class=\"products\">\n                            {{ $t(\"products\") }}\n                          </div>\n\n                          <div class=\"invoice__table\">\n                            <table class=\"highlight responsive-table\">\n                              <thead>\n                                <tr>\n                                  <th data-field=\"no\">{{ $t(\"no\") }}</th>\n                                  <th data-field=\"item\">{{ $t(\"item\") }}</th>\n                                  <th data-field=\"item\">{{ $t(\"price\") }}</th>\n                                  <th data-field=\"item\">\n                                    {{ $t(\"purchased_price\") }}\n                                  </th>\n                                  <th data-field=\"price\">{{ $t(\"qty\") }}</th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                <tr\n                                  v-for=\"(product, index) in products\"\n                                  :key=\"index\"\n                                >\n                                  <td>{{ index + 1 }}.</td>\n                                  <td>{{ product.name }}</td>\n                                  <td>{{ product.price }}</td>\n                                  <td>{{ product.purchased_price }}</td>\n                                  <td>\n                                    <div class=\"counter\">\n                                      <!-- <i class=\"material-icons\" @click=\"increaseQty(index)\">add</i>   -->\n                                      <input\n                                        class=\"border-none w2\"\n                                        v-model=\"qtys[index]\"\n                                      />\n                                      <!-- <i class=\"material-icons\" @click=\"decreaseQty(index)\">delete</i> -->\n                                    </div>\n                                  </td>\n                                  <td>\n                                    <i\n                                      class=\"material-icons\"\n                                      @click=\"removeProduct(index)\"\n                                      style=\"cursor:pointer\"\n                                      >delete</i\n                                    >\n                                  </td>\n                                </tr>\n                              </tbody>\n                            </table>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"row\">\n                    <div class=\"input-field col s12\">\n                      <button\n                        class=\"btn create cyan waves-effect waves-light left\"\n                        type=\"submit\"\n                        disabled=\"disabled\"\n                        name=\"action\"\n                      >\n                        {{ $t(\"save\") }}\n                        <i class=\"material-icons right\">send</i>\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport M from \"materialize-css\";\n// import axios from \"axios\";\nimport SimpleVueValidation from \"simple-vue-validator\";\nimport { allBranches, allProducts } from \"@/graphql/queries/queries.js\";\nconst Validator = SimpleVueValidation.Validator;\nexport default {\n  components: {\n    Breadcrumbs\n  },\n  data() {\n    return {\n      path: [{ title: \"products\", route: \"products.index\" }],\n      qtyIncreased: false,\n      isbn: \"\",\n      product: \"\",\n      productsIds: [],\n      qtys: [],\n      newQtys: [],\n      names: [],\n      isbns: [],\n      prices: [],\n      purchased_prices: [],\n      productAlreadyAdded: false,\n      productAdded: false,\n      products: [],\n      id: null,\n      branch: \"\",\n      allBranches: [],\n      allProducts: [],\n      title: \"create_product\",\n      validationError: \"\",\n      fregment: \"\"\n    };\n  },\n  validators: {\n    products(value) {\n      return Validator.value(value).required();\n    }\n  },\n\n  apollo: {\n    allBranches() {\n      return {\n        query: allBranches\n      };\n    },\n\n    allProducts() {\n      return {\n        query: allProducts,\n        result({ data: { allProducts } }) {\n          let elems = document.querySelectorAll(\".autocomplete\");\n\n          let data = this.toObject(allProducts);\n          let options = { data };\n          options.onAutocomplete = val => {\n            this.product = val;\n          };\n          M.Autocomplete.init(elems, options);\n        }\n      };\n    }\n  },\n\n  watch: {\n    \"validation.errors\"() {\n      const btn = document.querySelector(\".input-field button\");\n      if (this.validation.errors.length > 0) {\n        btn.setAttribute(\"disabled\", \"disabled\");\n      } else {\n        if (!this.order) {\n          setTimeout(() => {\n            this.validation.touchedRecords.length > 1\n              ? btn.removeAttribute(\"disabled\")\n              : \"\";\n          }, 2000);\n        } else {\n          btn.removeAttribute(\"disabled\");\n        }\n      }\n    },\n    discount() {\n      if (this.discountType == \"value\") {\n        this.discountValue = this.discount;\n      } else if (this.discountType == \"percent\") {\n        this.discountValue = (this.total * this.discount) / 100;\n      }\n    },\n    product() {\n      let product = this.allProducts.filter(product => {\n        return product.isbn == this.product || product.name == this.product\n          ? product\n          : \"\";\n      });\n      const btn = document.querySelector(\".input-field button\");\n      btn.setAttribute(\"disabled\", \"disabled\");\n      if (product[0]) {\n        let elem = document.querySelector(\".autocomplete-content\");\n        if (elem) elem.style.opacity = 0;\n        if (this.productsIds.includes(product[0].id)) {\n          let index = this.productsIds.indexOf(product[0].id);\n          this.productAlreadyAdded = false;\n          this.qtyIncreased = true;\n          this.productAdded = false;\n          this.qtys[index] = this.qtys[index] + 1;\n          setTimeout(() => {\n            this.qtyIncreased = false;\n            this.product = \"\";\n          }, 1000);\n        } else {\n          this.qtys.push(1);\n          this.productAdded = true;\n          product[0].qty = this.qtys[this.qtys.length - 1];\n\n          this.products.push(product[0]);\n          this.productsIds.push(product[0].id);\n\n          setTimeout(() => {\n            this.productAdded = false;\n          }, 3000);\n          this.product = \"\";\n        }\n        setTimeout(() => {\n          this.validation.touchedRecords.length > 1\n            ? btn.removeAttribute(\"disabled\")\n            : \"\";\n        }, 4000);\n      }\n    }\n  },\n  methods: {\n    // async getAmazon() {\n    //  await axios\n    //     .get(\n    //       \"https://www.amazon.co.uk/\",\n    //       {},\n    //       {\n    //       }\n    //     )\n    //     .then(response => {\n    //       let data = response.data;\n    //       // console.log(data);\n    //     });\n    // },\n    removeProduct(index) {\n      this.products = this.products.filter(product => {\n        return product !== this.products[index] ? product : \"\";\n      });\n      this.qtys = this.qtys.filter(product => {\n        return product !== this.qtys[index] ? product : \"\";\n      });\n      this.productsIds = this.productsIds.filter(product => {\n        return product !== this.productsIds[index] ? product : \"\";\n      });\n    },\n    resetForm() {\n      this.isbn = \"\";\n      this.product = \"\";\n      this.branch = \"\";\n      this.productsIds = [];\n      this.qtys = [];\n      this.productAlreadyAdded = false;\n      this.productAdded = false;\n      this.products = [];\n      this.loadSelects();\n    },\n    increaseQty(index) {\n      this.qtys[index] = this.qtys[index] + 1;\n      this.qtys = this.qtys;\n    },\n    decreaseQty(index) {\n      this.qtys[index] = this.qtys[index] - 1;\n    },\n    toObject(arr) {\n      let rv = {};\n      for (var i = 0; i < arr.length; ++i) {\n        arr[i] !== undefined ? (rv[arr[i].name] = null) : \"\";\n        arr[i] !== undefined ? (rv[arr[i].isbn] = null) : \"\";\n      }\n      return rv;\n    },\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      setTimeout(() => {\n        M.FormSelect.init(selects, {});\n      }, 2000);\n    },\n    submitted() {\n      this.createMultiProducts();\n    }\n  },\n  mounted() {\n    this.loadSelects();\n    document.addEventListener(\"keydown\", event => {\n      if (event.isComposing || event.keyCode === 9 || event.keyCode === 13) {\n        return this.submitted();\n      }\n      // do something\n    });\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.form-title {\n  font-weight: 700;\n  line-height: 3.6rem;\n  font-size: 2.64rem;\n  margin-bottom: 5rem;\n  & i {\n    font-size: 3.6rem;\n    vertical-align: bottom;\n  }\n}\n\nlabel {\n  font-size: 1.6rem !important;\n}\ninput,\n.checkbox span:not(.lever),\ntextarea,\nselect {\n  font-size: 1.6rem !important;\n  height: 4.2rem !important;\n}\n.checkbox {\n  position: relative;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit-add-multi.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit-add-multi.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit-add-multi.vue?vue&type=template&id=0d930849&scoped=true&\"\nimport script from \"./Edit-add-multi.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit-add-multi.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit-add-multi.vue?vue&type=style&index=0&id=0d930849&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d930849\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}