(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1986be0e"],{"2b00":function(t,a,e){"use strict";var s=e("464a"),i=e.n(s);i.a},"464a":function(t,a,e){},a17a:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("Breadcrumbs",{attrs:{title:t.title,path:t.path,fregment:t.fregment}}),e("div",{staticClass:"col s12 mt-65"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col s12 m12 l12"},[e("h5",{staticClass:"form-title"},[e("i",{staticClass:"material-icons app-header-icon text-top"},[t._v("perm_identity")]),t._v(" "+t._s(t.$t(t.title,{fregment:t.fregment}))+" ")]),e("div",{staticClass:"card animated  fadeInLeft "},[e("div",{staticClass:"card-content"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.submitted()}}},[t.validationError?e("div",{staticClass:"card-alert danger card"},[e("div",{staticClass:"card-content"},[e("p",[e("i",{staticClass:"material-icons"},[t._v("error")]),t._v(t._s(t.validationError)+" ")])])]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("name")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",type:"text"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}}),e("label",{class:t.name?"active":"",attrs:{for:"name"}},[t._v(t._s(t.$t("name")))]),e("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("name"))+" ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("email")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"email"},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}}),e("label",{class:t.email?"active":"",attrs:{for:"email"}},[t._v(t._s(t.$t("email")))]),e("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("email"))+" ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("phone")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{id:"phone",type:"text"},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}}),e("label",{class:t.phone?"active":"",attrs:{for:"phone"}},[t._v(t._s(t.$t("phone")))]),e("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("phone"))+" ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("salary")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.salary,expression:"salary"}],attrs:{id:"salary",type:"text"},domProps:{value:t.salary},on:{input:function(a){a.target.composing||(t.salary=a.target.value)}}}),e("label",{class:t.salary?"active":"",attrs:{for:"salary"}},[t._v(t._s(t.$t("salary")))]),e("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("salary"))+" ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("target")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.target,expression:"target"}],attrs:{id:"target",type:"text"},domProps:{value:t.target},on:{input:function(a){a.target.composing||(t.target=a.target.value)}}}),e("label",{class:t.target?"active":"",attrs:{for:"target"}},[t._v(t._s(t.$t("target")))]),e("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("target"))+" ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("branch")}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.branch,expression:"branch"}],attrs:{id:"branch"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.branch=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:"none"}},[t._v(t._s(t.$t("select_user")))]),t._l(t.allBranches,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2),e("label",{class:t.branchs?"active":"",attrs:{for:"branch"}},[t._v(t._s(t.$t("branches")))]),e("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("users"))+" ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s12"},[e("button",{staticClass:"btn create cyan waves-effect waves-light left",attrs:{type:"submit",name:"action",disabled:"disabled"}},[t._v(" "+t._s(t.$t("save"))+" "),e("i",{staticClass:"material-icons right"},[t._v("send")])])])])])])])])])])])],1)},i=[],r=(e("b0c0"),e("e25e"),e("85f2")),n=e("4d5c"),l=e.n(n),o=e("95b1"),c=e.n(o),d=e("f2b3"),m=c.a.Validator,u={components:{Breadcrumbs:r["a"]},data:function(){return{path:[{title:"employees",route:"employees.index"}],employee:{},allBranches:[],branch:"",name:"",target:"",email:"",phone:"",title:"create_employee",validationError:"",fregment:""}},validators:{name:function(t){return m.value(t).required().maxLength(100)},target:function(t){return m.value(t).required().digit()},email:function(t){return m.value(t).maxLength(200).email()},phone:function(t){return m.value(t).maxLength(16)},sallary:function(t){return m.value(t).digit().maxLength(4)}},apollo:{employee:function(){return{query:d["S"],variables:function(){return{id:parseInt(this.$route.params.id)}},result:function(t){var a=t.data.employee;this.name=a.name,this.email=a.email,this.phone=a.phone,this.target=a.target?a.target:"",this.salary=a.salary,this.branch=a.branch?a.branch.id:"",this.title="edit"}}},allBranches:function(){return{query:d["a"]}}},watch:{"validation.errors":function(){var t=document.querySelector(".input-field button");this.validation.errors.length>0?t.setAttribute("disabled","disabled"):this.employee?t.removeAttribute("disabled"):this.validation.touchedRecords.length>1&&t.removeAttribute("disabled")}},methods:{loadSelects:function(){var t=document.querySelectorAll("select");setTimeout((function(){l.a.FormSelect.init(t,{})}),2e3)},submitted:function(){this.employee?this.updateEmployee():this.createEmployee()},updateEmployee:function(){var t=this;this.$apollo.mutate({mutation:d["lb"],variables:{id:parseInt(this.$route.params.id),name:this.name,email:this.email,target:this.target,phone:this.phone,branch:this.branch,salary:this.salary}}).then((function(a){l.a.toast({html:"".concat(t.$t("updated_successfully",{name:t.$t(a.data.updateEmployee.name)})),classes:"success toast",displayLength:2e3}),t.$router.push({name:"employees.index"})}))},createEmployee:function(){var t=this;this.$apollo.mutate({mutation:d["j"],variables:{name:this.name,email:this.email,target:this.target,salary:this.salary,branch:this.branch,phone:this.phone}}).then((function(a){l.a.toast({html:"".concat(t.$t("created_successfully",{name:t.$t(a.data.createEmployee.name)})),classes:"success toast",displayLength:3e3}),t.id=a.data.createEmployee.id,t.$router.push({name:"employees.index"})})).catch((function(){t.validationError=t.$t("name_unique")}))}},mounted:function(){this.loadSelects()}},v={name:"edit-add-Employees",mixins:[u]},p=v,h=(e("2b00"),e("2877")),f=Object(h["a"])(p,s,i,!1,null,"1b2c2d06",null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-1986be0e.00436927.js.map