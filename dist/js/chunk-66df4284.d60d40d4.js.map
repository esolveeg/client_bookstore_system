{"version":3,"sources":["webpack:///./src/views/rebates/Edit-add.vue?dbdf","webpack:///src/views/rebates/Edit-add.vue","webpack:///./src/views/rebates/Edit-add.vue?233f","webpack:///./src/views/rebates/Edit-add.vue?0d5a","webpack:///./src/views/rebates/Edit-add.vue?9f51"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","path","fregment","_v","_s","$t","on","$event","preventDefault","submitted","validationError","_e","class","error","validation","hasError","directives","name","rawName","value","expression","domProps","target","composing","firstError","description","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","users","multiple","_l","user","key","id","permissions","permission","staticRenderFns","components","Breadcrumbs","data","roleById","slug","allUsers","allPermissions","validators","Validator","required","minLength","apollo","query","variables","parseInt","$route","params","result","forEach","push","watch","errors","length","btn","setAttribute","role","removeAttribute","touchedRecords","replace","methods","updateRole","createRole","loadSelects","setTimeout","$apollo","mounted","component"],"mappings":"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","file":"js/chunk-66df4284.d60d40d4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('Breadcrumbs',{attrs:{\"title\":_vm.title,\"path\":_vm.path,\"fregment\":_vm.fregment}}),_c('div',{staticClass:\"col s12 mt-65\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col s12 m12 l12\"},[_c('h5',{staticClass:\"form-title\"},[_c('i',{staticClass:\"material-icons app-header-icon text-top\"},[_vm._v(\"perm_identity\")]),_vm._v(\" \"+_vm._s(_vm.$t(_vm.title, { fregment: _vm.fregment }))+\" \")]),_c('div',{staticClass:\"card animated  fadeInLeft \"},[_c('div',{staticClass:\"card-content\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitted()}}},[(_vm.validationError)?_c('div',{staticClass:\"card-alert danger card\"},[_c('div',{staticClass:\"card-content\"},[_c('p',[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"error\")]),_vm._v(_vm._s(_vm.validationError)+\" \")])])]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\",class:{ error: _vm.validation.hasError('name') }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],attrs:{\"id\":\"name\",\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('label',{class:_vm.name ? 'active' : '',attrs:{\"for\":\"name\"}},[_vm._v(_vm._s(_vm.$t(\"name\")))]),_c('div',{staticClass:\"message\"},[_vm._v(\" \"+_vm._s(_vm.validation.firstError(\"name\"))+\" \")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\",class:{ error: _vm.validation.hasError('description') }},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"materialize-textarea\",attrs:{\"id\":\"description\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}}),_c('label',{class:_vm.description ? 'active' : '',attrs:{\"for\":\"description\"}},[_vm._v(_vm._s(_vm.$t(\"description\")))]),_c('div',{staticClass:\"message\"},[_vm._v(\" \"+_vm._s(_vm.validation.firstError(\"description\"))+\" \")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\",class:{ error: _vm.validation.hasError('users') }},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.users),expression:\"users\"}],attrs:{\"id\":\"users\",\"multiple\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.users=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"none\"}},[_vm._v(_vm._s(_vm.$t(\"select_user\")))]),_vm._l((_vm.allUsers),function(user){return _c('option',{key:user.id,domProps:{\"value\":user.id}},[_vm._v(_vm._s(user.name))])})],2),_c('label',{class:_vm.users ? 'active' : '',attrs:{\"for\":\"users\"}},[_vm._v(_vm._s(_vm.$t(\"users\")))]),_c('div',{staticClass:\"message\"},[_vm._v(\" \"+_vm._s(_vm.validation.firstError(\"users\"))+\" \")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\",class:{ error: _vm.validation.hasError('permissions') }},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.permissions),expression:\"permissions\"}],attrs:{\"id\":\"permissions\",\"multiple\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.permissions=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"none\"}},[_vm._v(_vm._s(_vm.$t(\"select_permission\")))]),_vm._l((_vm.allPermissions),function(permission){return _c('option',{key:permission.id,domProps:{\"value\":permission.id}},[_vm._v(_vm._s(permission.name))])})],2),_c('label',{class:_vm.permissions ? 'active' : '',attrs:{\"for\":\"permissions\"}},[_vm._v(_vm._s(_vm.$t(\"permissions\")))]),_c('div',{staticClass:\"message\"},[_vm._v(\" \"+_vm._s(_vm.validation.firstError(\"permissions\"))+\" \")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"input-field col s12\"},[_c('button',{staticClass:\"btn create cyan waves-effect waves-light left\",attrs:{\"type\":\"submit\",\"name\":\"action\",\"disabled\":\"disabled\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"save\"))+\" \"),_c('i',{staticClass:\"material-icons right\"},[_vm._v(\"send\")])])])])])])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <Breadcrumbs :title=\"title\" :path=\"path\" :fregment=\"fregment\" />\n    <div class=\"col s12 mt-65\">\n      <div class=\"container\">\n        <!-- Current balance & total transactions cards-->\n        <div class=\"row mt-4\">\n          <div class=\"col s12 m12 l12\">\n            <!-- Current Balance -->\n            <h5 class=\"form-title\">\n              <i class=\"material-icons app-header-icon text-top\"\n                >perm_identity</i\n              >\n              {{ $t(title, { fregment }) }}\n            </h5>\n\n            <div class=\"card animated  fadeInLeft \">\n              <div class=\"card-content\">\n                <form @submit.prevent=\"submitted()\">\n                  <div class=\"card-alert danger card\" v-if=\"validationError\">\n                    <div class=\"card-content\">\n                      <p>\n                        <i class=\"material-icons\">error</i>{{ validationError }}\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: validation.hasError('name') }\"\n                    >\n                      <input v-model=\"name\" id=\"name\" type=\"text\" />\n                      <label for=\"name\" :class=\"name ? 'active' : ''\">{{\n                        $t(\"name\")\n                      }}</label>\n                      <div class=\"message\">\n                        {{ validation.firstError(\"name\") }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: validation.hasError('description') }\"\n                    >\n                      <textarea\n                        v-model=\"description\"\n                        id=\"description\"\n                        class=\"materialize-textarea\"\n                      ></textarea>\n                      <label\n                        for=\"description\"\n                        :class=\"description ? 'active' : ''\"\n                        >{{ $t(\"description\") }}</label\n                      >\n                      <div class=\"message\">\n                        {{ validation.firstError(\"description\") }}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"row\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: validation.hasError('users') }\"\n                    >\n                      <select id=\"users\" multiple v-model=\"users\">\n                        <option value=\"\" disabled=\"none\">{{\n                          $t(\"select_user\")\n                        }}</option>\n                        <option\n                          v-for=\"user in allUsers\"\n                          :key=\"user.id\"\n                          :value=\"user.id\"\n                          >{{ user.name }}</option\n                        >\n                      </select>\n                      <label for=\"users\" :class=\"users ? 'active' : ''\">{{\n                        $t(\"users\")\n                      }}</label>\n                      <div class=\"message\">\n                        {{ validation.firstError(\"users\") }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div\n                      class=\"input-field col s12\"\n                      :class=\"{ error: validation.hasError('permissions') }\"\n                    >\n                      <select id=\"permissions\" multiple v-model=\"permissions\">\n                        <option value=\"\" disabled=\"none\">{{\n                          $t(\"select_permission\")\n                        }}</option>\n                        <option\n                          v-for=\"permission in allPermissions\"\n                          :key=\"permission.id\"\n                          :value=\"permission.id\"\n                          >{{ permission.name }}</option\n                        >\n                      </select>\n                      <label\n                        for=\"permissions\"\n                        :class=\"permissions ? 'active' : ''\"\n                        >{{ $t(\"permissions\") }}</label\n                      >\n                      <div class=\"message\">\n                        {{ validation.firstError(\"permissions\") }}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"row\">\n                    <div class=\"input-field col s12\">\n                      <button\n                        class=\"btn create cyan waves-effect waves-light left\"\n                        type=\"submit\"\n                        name=\"action\"\n                        disabled=\"disabled\"\n                      >\n                        {{ $t(\"save\") }}\n                        <i class=\"material-icons right\">send</i>\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Breadcrumbs from \"@/components/layouts/Breadcrumbs.vue\";\nimport M from \"materialize-css\";\nimport SimpleVueValidation from \"simple-vue-validator\";\nimport {\n  createRole,\n  updateRole,\n  roleQuery\n} from \"@/graphql/queries/queries.js\";\nconst Validator = SimpleVueValidation.Validator;\nimport gql from \"graphql-tag\";\nexport default {\n  name: \"edit-add-roles\",\n  components: {\n    Breadcrumbs\n  },\n  data() {\n    return {\n      path: [{ title: \"roles\", route: \"roles.index\" }],\n      roleById: {},\n      name: \"\",\n      slug: \"\",\n      description: \"\",\n      allUsers: \"\",\n      allPermissions: [],\n      users: [],\n      permissions: [],\n      title: \"create_role\",\n      validationError: \"\",\n      fregment: \"\"\n    };\n  },\n  validators: {\n    name(value) {\n      return Validator.value(value)\n        .required()\n        .minLength(3);\n    },\n    users(value) {\n      return Validator.value(value);\n    },\n    permissions(value) {\n      return Validator.value(value).required();\n    },\n\n    description(value) {\n      return Validator.value(value).minLength(3);\n    }\n  },\n\n  apollo: {\n    roleById() {\n      return {\n        query: roleQuery,\n        variables() {\n          return {\n            id: parseInt(this.$route.params.id)\n          };\n        },\n        result({ data: { roleById } }) {\n          this.name = roleById.name;\n          this.description = roleById.description;\n          this.slug = roleById.slug;\n          this.title = `edit`;\n          let users = [];\n          roleById.users.forEach(user => {\n            users.push(user.id);\n          });\n          let permissions = [];\n          roleById.permissions.forEach(permission => {\n            permissions.push(permission.id);\n          });\n          this.users = users;\n          this.permissions = permissions;\n        }\n      };\n    },\n    allUsers() {\n      return {\n        query: gql`\n          query {\n            allUsers {\n              name\n              id\n            }\n          }\n        `\n      };\n    },\n    allPermissions() {\n      return {\n        query: gql`\n          query {\n            allPermissions {\n              name\n              id\n            }\n          }\n        `\n      };\n    }\n  },\n\n  watch: {\n    \"validation.errors\"() {\n      const btn = document.querySelector(\".input-field button\");\n      if (this.validation.errors.length > 0) {\n        btn.setAttribute(\"disabled\", \"disabled\");\n      } else {\n        if (!this.role) {\n          this.validation.touchedRecords.length > 1\n            ? btn.removeAttribute(\"disabled\")\n            : \"\";\n        } else {\n          btn.removeAttribute(\"disabled\");\n        }\n      }\n    },\n    name() {\n      let slug = this.name.replace(\" \", \"-\");\n      slug = slug.replace(\"&\", \"-\");\n      slug = slug.replace(\"?\", \"-\");\n      slug = slug.replace(\"/\", \"-\");\n      slug = slug.replace(\"\\\\\", \"-\");\n      this.slug = slug;\n    }\n  },\n  methods: {\n    submitted() {\n      this.roleById ? this.updateRole() : this.createRole();\n    },\n    loadSelects() {\n      let selects = document.querySelectorAll(\"select\");\n      setTimeout(() => {\n        M.FormSelect.init(selects, {});\n      }, 3000);\n    },\n    updateRole() {\n      this.$apollo\n        .mutate({\n          mutation: updateRole,\n          // Parameters\n          variables: {\n            name: this.name,\n            slug: this.slug,\n            id: parseInt(this.$route.params.id),\n            description: this.description,\n            users: this.users,\n            permissions: this.permissions\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"updated_successfully\", {\n              name: data.data.updateRole.name\n            })}`,\n            classes: \"success toast\",\n            displayLength: 2000\n          });\n          this.roleById.name = this.name;\n          this.roleById.slug = this.slug;\n          this.roleById.description = this.description;\n          this.roleById.users = this.users;\n          this.roleById.permissions = this.permissions;\n          this.$router.push({ name: \"roles.index\" });\n        })\n        .catch(() => {\n          this.validationError = this.$t(\"name_unique\");\n        });\n    },\n    createRole() {\n      this.$apollo\n        .mutate({\n          mutation: createRole,\n          // Parameters\n          variables: {\n            name: this.name,\n            slug: this.slug,\n            description: this.description,\n            users: this.users,\n            permissions: this.permissions\n          }\n        })\n        .then(data => {\n          M.toast({\n            html: `${this.$t(\"created_successfully\", {\n              name: data.data.createRole.name\n            })}`,\n            classes: \"success toast\",\n            displayLength: 3000\n          });\n\n          this.$router.push({ name: \"roles.index\" });\n        })\n        .catch(() => {\n          //console.log(e)\n          this.validationError = this.$t(\"name_unique\");\n        });\n    }\n  },\n  mounted() {\n    this.loadSelects();\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.form-title {\n  font-weight: 700;\n  line-height: 3.6rem;\n  font-size: 2.64rem;\n  margin-bottom: 5rem;\n  & i {\n    font-size: 3.6rem;\n    vertical-align: bottom;\n  }\n}\n\nlabel {\n  font-size: 1.6rem !important;\n}\ninput,\n.checkbox span:not(.lever),\ntextarea,\nselect {\n  font-size: 1.6rem !important;\n  height: 4.2rem !important;\n}\n.checkbox {\n  position: relative;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit-add.vue?vue&type=template&id=ee96075a&scoped=true&\"\nimport script from \"./Edit-add.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit-add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit-add.vue?vue&type=style&index=0&id=ee96075a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee96075a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit-add.vue?vue&type=style&index=0&id=ee96075a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit-add.vue?vue&type=style&index=0&id=ee96075a&lang=scss&scoped=true&\""],"sourceRoot":""}