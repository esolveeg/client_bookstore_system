(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06863133"],{"07b3":function(t,e,a){},"3bda":function(t,e,a){"use strict";var i=a("07b3"),s=a.n(i);s.a},5601:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("Breadcrumbs",{attrs:{title:t.title,path:t.path,fregment:t.fregment}}),a("div",{staticClass:"col s12 mt-65"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col s12 m12 l12"},[a("h5",{staticClass:"form-title"},[a("i",{staticClass:"material-icons app-header-icon text-top"},[t._v("perm_identity")]),t._v(" "+t._s(t.$t(t.title,{fregment:t.fregment}))+" ")]),a("div",{staticClass:"card animated  fadeInLeft "},[a("div",{staticClass:"card-content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitted()}}},[t.validationError?a("div",{staticClass:"card-alert danger card"},[a("div",{staticClass:"card-content"},[a("p",[a("i",{staticClass:"material-icons"},[t._v("error")]),t._v(t._s(t.validationError)+" ")])])]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("name")}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("label",{class:t.name?"active":"",attrs:{for:"name"}},[t._v(t._s(t.$t("name")))]),a("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("name"))+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("email")}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{class:t.email?"active":"",attrs:{for:"email"}},[t._v(t._s(t.$t("email")))]),a("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("email"))+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12",class:{error:t.validation.hasError("phone")}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{id:"phone",type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),a("label",{class:t.phone?"active":"",attrs:{for:"phone"}},[t._v(t._s(t.$t("phone")))]),a("div",{staticClass:"message"},[t._v(" "+t._s(t.validation.firstError("phone"))+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("button",{staticClass:"btn create cyan waves-effect waves-light left",attrs:{type:"submit",name:"action",disabled:"disabled"}},[t._v(" "+t._s(t.$t("save"))+" "),a("i",{staticClass:"material-icons right"},[t._v("send")])])])])])])])])])])])],1)},s=[],n=(a("b0c0"),a("e25e"),a("85f2")),r=a("4d5c"),l=a.n(r),o=a("95b1"),c=a.n(o),u=a("f2b3"),d=c.a.Validator,p={components:{Breadcrumbs:n["a"]},data:function(){return{path:[{title:"suppliers",route:"suppliers.index"}],supplier:{},name:"",email:"",phone:"",title:"create_supplier",validationError:"",fregment:""}},validators:{name:function(t){return d.value(t).required().maxLength(100)},email:function(t){return d.value(t).maxLength(200).email()},phone:function(t){return d.value(t).maxLength(16)}},apollo:{supplier:function(){return{query:u["fb"],variables:function(){return{id:parseInt(this.$route.params.id)}},result:function(t){var e=t.data.supplier;this.name=e.name,this.email=e.email,this.phone=e.phone,this.title="edit"}}}},watch:{"validation.errors":function(){var t=document.querySelector(".input-field button");this.validation.errors.length>0?t.setAttribute("disabled","disabled"):this.supplier?t.removeAttribute("disabled"):this.validation.touchedRecords.length>1&&t.removeAttribute("disabled")}},methods:{submitted:function(){this.supplier?this.updateSupplier():this.createSupplier()},updateSupplier:function(){var t=this;this.$apollo.mutate({mutation:u["sb"],variables:{id:parseInt(this.$route.params.id),name:this.name,email:this.email,intersts:this.intersts,branch:this.branch,phone:this.phone}}).then((function(e){l.a.toast({html:"".concat(t.$t("updated_successfully",{name:t.$t(e.data.updateSupplier.name)})),classes:"success toast",displayLength:2e3}),t.$router.push({name:"suppliers.index"})})).catch((function(t){console.log(t)}))},createSupplier:function(){var t=this;this.$apollo.mutate({mutation:u["r"],variables:{name:this.name,email:this.email,intersts:this.intersts,branch:this.branch,phone:this.phone}}).then((function(e){l.a.toast({html:"".concat(t.$t("created_successfully",{name:t.$t(e.data.createSupplier.name)})),classes:"success toast",displayLength:3e3}),t.id=e.data.createSupplier.id,t.$router.push({name:"suppliers.index"})})).catch((function(){t.validationError=t.$t("name_unique")}))}}},m={name:"edit-add-Suppliers",mixins:[p]},v=m,h=(a("3bda"),a("2877")),f=Object(h["a"])(v,i,s,!1,null,"5317415b",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-06863133.6688d3ea.js.map